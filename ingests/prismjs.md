(Files content cropped to 300k characters, download full ingest to see more)
================================================
File: /README.md
================================================
# [Prism](https://prismjs.com/)

[![Build Status](https://github.com/PrismJS/prism/workflows/CI/badge.svg)](https://github.com/PrismJS/prism/actions)
[![npm](https://img.shields.io/npm/dw/prismjs.svg)](https://www.npmjs.com/package/prismjs)

Prism is a lightweight, robust, and elegant syntax highlighting library. It's a spin-off project from [Dabblet](https://dabblet.com/).

You can learn more on [prismjs.com](https://prismjs.com/).

[Why another syntax highlighter?](https://lea.verou.me/2012/07/introducing-prism-an-awesome-new-syntax-highlighter/#more-1841)

[More themes for Prism!](https://github.com/PrismJS/prism-themes)

## Contribute to Prism!

### **Important Notice**

We are currently working on [Prism v2](https://github.com/PrismJS/prism/discussions/3531) and will only accept security-relevant PRs for the time being.

Once work on Prism v2 is sufficiently advanced, we will accept PRs again. This will be announced on our [Discussion](https://github.com/PrismJS/prism/discussions) page and mentioned in the [roadmap discussion](https://github.com/PrismJS/prism/discussions/3531).

<details>
<summary>Prism v1 contributing notes</summary>

Prism depends on community contributions to expand and cover a wider array of use cases. If you like it, consider giving back by sending a pull request. Here are a few tips:

- Read the [documentation](https://prismjs.com/extending.html). Prism was designed to be extensible.
- Do not edit `prism.js`, it’s just the version of Prism used by the Prism website and is built automatically. Limit your changes to the unminified files in the `components/` folder. `prism.js` and all minified files are generated by our build system (see below).
- Use `npm ci` to install Prism's dependencies. Do not use `npm install` because it will cause non-deterministic builds.
- The build system uses [gulp](https://github.com/gulpjs/gulp) to minify the files and build `prism.js`. With all of Prism's dependencies installed, you just need to run the command `npm run build`.
- Please follow the code conventions used in the files already. For example, I use [tabs for indentation and spaces for alignment](http://lea.verou.me/2012/01/why-tabs-are-clearly-superior/). Opening braces are on the same line, closing braces on their own line regardless of construct. There is a space before the opening brace. etc etc.
- Please try to err towards more smaller PRs rather than a few huge PRs. If a PR includes changes that I want to merge and also changes that I don't, handling it becomes difficult.
- My time is very limited these days, so it might take a long time to review bigger PRs (small ones are usually merged very quickly), especially those modifying the Prism Core. This doesn't mean your PR is rejected.
- If you contribute a new language definition, you will be responsible for handling bug reports about that language definition.
- If you [add a new language definition](https://prismjs.com/extending.html#creating-a-new-language-definition) or plugin, you need to add it to `components.json` as well and rebuild Prism by running `npm run build`, so that it becomes available to the download build page. For new languages, please also add a few [tests](https://prismjs.com/test-suite.html) and an example in the `examples/` folder.
- Go to [prism-themes](https://github.com/PrismJS/prism-themes) if you want to add a new theme.

Thank you so much for contributing!!

### Software requirements

Prism will run on [almost any browser](https://prismjs.com/#features-full) and Node.js version but you need the following software to contribute:

- Node.js >= 10.x
- npm >= 6.x

</details>

## Translations

* [简体中文](https://www.awesomes.cn/repo/PrismJS/prism) (if unavailable, see [here](https://deepmind.t-salon.cc/article/113))


================================================
File: /CNAME
================================================
prismjs.com

================================================
File: /LICENSE
================================================
MIT LICENSE

Copyright (c) 2012 Lea Verou

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.


================================================
File: /MAINTAINERS.md
================================================
## Maintainers (alphabetical by user name)

- [@Golmote](https://github.com/Golmote)
- [@JaKXz](https://github.com/JaKXz) Jason Kurian
- [@LeaVerou](https://github.com/LeaVerou) Lea Verou (original author)
- [@mAAdhaTTah](https://github.com/mAAdhaTTah) James DiGioia <jamesorodig@gmail.com>
- [@RunDevelopment](https://github.com/RunDevelopment) Michael Schmidt <msrd0000@gmail.com>

## Former Maintainers

- [@zeitgeist87](https://github.com/zeitgeist87) Andreas Rohner


================================================
File: /SECURITY.md
================================================
# Security Policy

## What is considered a vulnerability?

There are some types of [low-severity][severity] vulnerabilities that we will not acknowledge as CVE and treat as bugs instead.
All vulnerabilities with a severity of medium and above will of course be acknowledged and fixed.

Please see the below section on how we treat [ReDoS] vulnerabilities.

If you are unsure whether a vulnerability you found qualifies, please report it as a vulnerability via email (see below).

### ReDoS

Prism is a regex-based syntax highlighter.
As such, the main types of vulnerabilities reported to us are [ReDoS] vulnerabilities ([CWE-1333](https://cwe.mitre.org/data/definitions/1333.html)), aka slow regexes.

However, not all ReDoS is created equal.
A slow regex can be have a [worst-case time complexity](https://en.wikipedia.org/wiki/Time_complexity) anywhere from _O(n<sup>2</sup>)_ to _2<sup>O(n)</sup>_.
This matters because a worst-case time complexity _≥ O(n<sup>3</sup>)_ is a [high severity][severity] vulnerability while _O(n<sup>2</sup>)_ is low or medium severity in the context of Prism.
Furthermore, worst-case time complexities of _O(n<sup>2</sup>)_ can have 2 different causes: backtracking or moving.
Backtracking is always fixable by rewriting the slow regex but moving is not (except in special cases).

Because of their lower severity and the fact that moving is difficult or impossible to fix, we will treat regexes with worst-case time complexity of _O(n<sup>2</sup>)_ caused by moving as regular bugs and not as vulnerabilities.
Please report them as [bugs](https://github.com/PrismJS/prism/issues/new/choose) instead of as vulnerabilities.

If you found a slow regex but are unsure about the worst-case time complexity or its cause, please report it as a vulnerability via email (see below).


## Reporting a Vulnerability

***DO NOT CREATE AN ISSUE*** to report a vulnerability.

Instead, please send an email to at least one of [Prism's maintainers](MAINTAINERS.md).
See [Responsible Disclosure](https://en.wikipedia.org/wiki/Responsible_disclosure) for more details.

### Procedure

1.  After you send an email [a maintainer](MAINTAINERS.md), you should receive a response from the [Prism team](https://github.com/orgs/PrismJS/people) within 3 days.

    We may require further information, so please keep in touch with us until the vulnerability has been fixed.

2.  After the vulnerability has been confirmed and accepted, we will create a [security advisory](https://docs.github.com/en/code-security/security-advisories/about-github-security-advisories) and start working on a fix.

    You will be [added as a collaborator](https://docs.github.com/en/code-security/security-advisories/adding-a-collaborator-to-a-security-advisory) (this requires a GitHub account).
    At this point, all communication will occur using comments on the advisory and the [temporary private fork](https://docs.github.com/en/code-security/security-advisories/collaborating-in-a-temporary-private-fork-to-resolve-a-security-vulnerability).

3.  After the fix has been merged, we will make a new release and publish the security advisory within one week.


[ReDoS]: https://en.wikipedia.org/wiki/ReDoS
[severity]: https://www.imperva.com/learn/application-security/cve-cvss-vulnerability/


================================================
File: /benchmark.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Benchmark ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body class="language-javascript">

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Benchmark</h2>
	<p>Prism has a benchmark suite which can be run and extended similar to the test suite.</p>
</header>

<section id="running-a-benchmark">
	<h1>Running a benchmark</h1>

	<pre><code class="language-bash">npm run benchmark</code></pre>

	<p>By default, the benchmark will be run for the current local version of your repository (the one which is currently checkout) and the <a href="https://github.com/PrismJS/prism/tree/master">PrismJS master branch</a>.</p>

	<p>All <code>options</code> in <code>benchmark/config.json</code> can be changed by either directly editing the file or by passing arguments to the run command. I.e. you can overwrite the default <code>maxTime</code> value with 10s by running the following command:</p>

	<pre><code class="language-bash">npm run benchmark -- --maxTime=10</code></pre>

	<section id="running-a-benchmark-for-specific-languages">
		<h2>Running a benchmark for specific languages</h2>

		<p>To run the tests only for a certain set of languages, you can use the <code>language</code> option:</p>
		<pre><code class="language-bash">npm run benchmark -- --language=javascript,markup</code></pre>
	</section>
</section>

<section id="remotes">
	<h1>Remotes</h1>

	<p>Remotes all you to compare different branches from different repos or the same repo. Repos can be the PrismJS repo or any your fork.</p>

	<p>All remotes are specified under the <code>remotes</code> section in <code>benchmark/config.json</code>. To add a new remote, add an object with the <code>repo</code> and <code>branch</code> properties to the array. Note: if the branch property is not specified, the <code>master</code> branch will be used. <br>
		Example:</p>

	<pre><code class="language-javascript">{
	repo: 'https://github.com/MyUserName/prism.git',
	branch: 'feature-1'
}</code></pre>

	<p>To remove a remote, simply remove (delete or comment out) its entry in the <code>remotes</code> array.</p>
</section>

<section id="cases">
	<h1>Cases</h1>

	<p>A case is a collection of files where each file will be benchmarked with all candidates (local + remotes) and a specific language.</p>

	<p>The language of a case is determined by its key in the <code>cases</code> object in <code>benchmark/config.json</code> where the key has to have the same format as the directory names in <code class="language-text">tests/languages/</code>. Example:</p>
	<pre><code class="language-javascript">cases: {
	'css!+css-extras': ...
}</code></pre>

	<p>The files of a case can be specified by:</p>

	<ul>
		<li>
			<p>Specifying the URI of files. A URI is either an HTTPS URL or a file path relative to <code>./benchmark/</code>.</p>
			<pre><code class="language-javascript">cases: {
	'css': {
		files: [
			'style.css',
			'https://foo.com/main.css'
		]
	}
}</code></pre>
		</li>
		<li>
			<p>Using <code>extends</code> to copy all files from another case.</p>
			<pre><code class="language-javascript">cases: {
	'css': { files: [ 'style.css' ] },
	'css!+css-extras': {
		extends: 'css'
	}
}</code></pre>
		</li>
	</ul>
</section>

<section id="output-explained">
	<h1>Output explained</h1>

	<p>The output of a benchmark might look like this:</p>

	<pre><code class="language-none">Found 1 cases with 2 files in total.
Test 3 candidates on tokenize
Estimated duration: 1m 0s</code></pre>

	<p>The first few lines give some information on the benchmark which is about to be run. This includes the number of cases (here 1), the total number of files in all cases (here 2), the number of candidates (here 3), the test function (here <code>tokenize</code>), and a time estimate for how long the benchmark will take (here 1 minute).</p>

	<p>What follows are the results for all cases and their files:</p>

	<pre><code class="language-none">json

  components.json (25 kB)
  | local                         5.45ms ± 13% 138smp
  | PrismJS@master                4.92ms ±  2% 145smp
  | RunDevelopment@greedy-fix     5.62ms ±  4% 128smp
  package-lock.json (189 kB)
  | local                       117.75ms ± 27% 27smp
  | PrismJS@master              121.40ms ± 32% 29smp
  | RunDevelopment@greedy-fix   190.79ms ± 41% 20smp</code></pre>

	<p>A case starts with its key (here <code>json</code>) and is followed by all of its files (here <code>components.json</code> and <code>package-lock.json</code>). Under each file, the results for local and all remotes are shown. To explain the meaning of the values, let's pick a single line:</p>

	<code class="language-none">PrismJS@master              121.40ms ± 32% 29smp</code>

	<p>First comes the name of the remote (here PrismJS@master) followed by the mean of all samples, the relative margin of error, and the number of samples.</p>

	<p>The last part of the output is a small summary of all cases which simply counts how many times a candidate has been the best or worst for a file.</p>

	<pre><code class="language-none">summary
                             best  worst
  local                         1      1
  PrismJS@master                0      1
  RunDevelopment@greedy-fix     1      0</code></pre>
</section>


<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="components/prism-bash.js"></script>
<script src="components.js"></script>
<script src="assets/code.js"></script>

</body>
</html>


================================================
File: /bower.json
================================================
{
  "name": "prism",
  "main": [
      "prism.js",
      "themes/prism.css"
  ],
  "homepage": "http://prismjs.com",
  "authors": "Lea Verou",
  "description": "Lightweight, robust, elegant syntax highlighting. A spin-off project from Dabblet.",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/PrismJS/prism.git"
  },
  "ignore": [
    "**/.*",
    "assets",
    "docs",
    "tests",
    "benchmark",
    "CNAME",
    "*.html",
    "*.svg"
  ]
}


================================================
File: /components.js
================================================
var components = {"core":{"meta":{"path":"components/prism-core.js","option":"mandatory"},"core":"Core"},"themes":{"meta":{"path":"themes/{id}.css","link":"index.html?theme={id}","exclusive":true},"prism":{"title":"Default","option":"default"},"prism-dark":"Dark","prism-funky":"Funky","prism-okaidia":{"title":"Okaidia","owner":"ocodia"},"prism-twilight":{"title":"Twilight","owner":"remybach"},"prism-coy":{"title":"Coy","owner":"tshedor"},"prism-solarizedlight":{"title":"Solarized Light","owner":"hectormatos2011 "},"prism-tomorrow":{"title":"Tomorrow Night","owner":"Rosey"}},"languages":{"meta":{"path":"components/prism-{id}","noCSS":true,"examplesPath":"examples/prism-{id}","addCheckAll":true},"markup":{"title":"Markup","alias":["html","xml","svg","mathml","ssml","atom","rss"],"aliasTitles":{"html":"HTML","xml":"XML","svg":"SVG","mathml":"MathML","ssml":"SSML","atom":"Atom","rss":"RSS"},"option":"default"},"css":{"title":"CSS","option":"default","modify":"markup"},"clike":{"title":"C-like","option":"default"},"javascript":{"title":"JavaScript","require":"clike","modify":"markup","optional":"regex","alias":"js","option":"default"},"abap":{"title":"ABAP","owner":"dellagustin"},"abnf":{"title":"ABNF","owner":"RunDevelopment"},"actionscript":{"title":"ActionScript","require":"javascript","modify":"markup","owner":"Golmote"},"ada":{"title":"Ada","owner":"Lucretia"},"agda":{"title":"Agda","owner":"xy-ren"},"al":{"title":"AL","owner":"RunDevelopment"},"antlr4":{"title":"ANTLR4","alias":"g4","owner":"RunDevelopment"},"apacheconf":{"title":"Apache Configuration","owner":"GuiTeK"},"apex":{"title":"Apex","require":["clike","sql"],"owner":"RunDevelopment"},"apl":{"title":"APL","owner":"ngn"},"applescript":{"title":"AppleScript","owner":"Golmote"},"aql":{"title":"AQL","owner":"RunDevelopment"},"arduino":{"title":"Arduino","require":"cpp","alias":"ino","owner":"dkern"},"arff":{"title":"ARFF","owner":"Golmote"},"armasm":{"title":"ARM Assembly","alias":"arm-asm","owner":"RunDevelopment"},"arturo":{"title":"Arturo","alias":"art","optional":["bash","css","javascript","markup","markdown","sql"],"owner":"drkameleon"},"asciidoc":{"alias":"adoc","title":"AsciiDoc","owner":"Golmote"},"aspnet":{"title":"ASP.NET (C#)","require":["markup","csharp"],"owner":"nauzilus"},"asm6502":{"title":"6502 Assembly","owner":"kzurawel"},"asmatmel":{"title":"Atmel AVR Assembly","owner":"cerkit"},"autohotkey":{"title":"AutoHotkey","owner":"aviaryan"},"autoit":{"title":"AutoIt","owner":"Golmote"},"avisynth":{"title":"AviSynth","alias":"avs","owner":"Zinfidel"},"avro-idl":{"title":"Avro IDL","alias":"avdl","owner":"RunDevelopment"},"awk":{"title":"AWK","alias":"gawk","aliasTitles":{"gawk":"GAWK"},"owner":"RunDevelopment"},"bash":{"title":"Bash","alias":["sh","shell"],"aliasTitles":{"sh":"Shell","shell":"Shell"},"owner":"zeitgeist87"},"basic":{"title":"BASIC","owner":"Golmote"},"batch":{"title":"Batch","owner":"Golmote"},"bbcode":{"title":"BBcode","alias":"shortcode","aliasTitles":{"shortcode":"Shortcode"},"owner":"RunDevelopment"},"bbj":{"title":"BBj","owner":"hyyan"},"bicep":{"title":"Bicep","owner":"johnnyreilly"},"birb":{"title":"Birb","require":"clike","owner":"Calamity210"},"bison":{"title":"Bison","require":"c","owner":"Golmote"},"bnf":{"title":"BNF","alias":"rbnf","aliasTitles":{"rbnf":"RBNF"},"owner":"RunDevelopment"},"bqn":{"title":"BQN","owner":"yewscion"},"brainfuck":{"title":"Brainfuck","owner":"Golmote"},"brightscript":{"title":"BrightScript","owner":"RunDevelopment"},"bro":{"title":"Bro","owner":"wayward710"},"bsl":{"title":"BSL (1C:Enterprise)","alias":"oscript","aliasTitles":{"oscript":"OneScript"},"owner":"Diversus23"},"c":{"title":"C","require":"clike","owner":"zeitgeist87"},"csharp":{"title":"C#","require":"clike","alias":["cs","dotnet"],"owner":"mvalipour"},"cpp":{"title":"C++","require":"c","owner":"zeitgeist87"},"cfscript":{"title":"CFScript","require":"clike","alias":"cfc","owner":"mjclemente"},"chaiscript":{"title":"ChaiScript","require":["clike","cpp"],"owner":"RunDevelopment"},"cil":{"title":"CIL","owner":"sbrl"},"cilkc":{"title":"Cilk/C","require":"c","alias":"cilk-c","owner":"OpenCilk"},"cilkcpp":{"title":"Cilk/C++","require":"cpp","alias":["cilk-cpp","cilk"],"owner":"OpenCilk"},"clojure":{"title":"Clojure","owner":"troglotit"},"cmake":{"title":"CMake","owner":"mjrogozinski"},"cobol":{"title":"COBOL","owner":"RunDevelopment"},"coffeescript":{"title":"CoffeeScript","require":"javascript","alias":"coffee","owner":"R-osey"},"concurnas":{"title":"Concurnas","alias":"conc","owner":"jasontatton"},"csp":{"title":"Content-Security-Policy","owner":"ScottHelme"},"cooklang":{"title":"Cooklang","owner":"ahue"},"coq":{"title":"Coq","owner":"RunDevelopment"},"crystal":{"title":"Crystal","require":"ruby","owner":"MakeNowJust"},"css-extras":{"title":"CSS Extras","require":"css","modify":"css","owner":"milesj"},"csv":{"title":"CSV","owner":"RunDevelopment"},"cue":{"title":"CUE","owner":"RunDevelopment"},"cypher":{"title":"Cypher","owner":"RunDevelopment"},"d":{"title":"D","require":"clike","owner":"Golmote"},"dart":{"title":"Dart","require":"clike","owner":"Golmote"},"dataweave":{"title":"DataWeave","owner":"machaval"},"dax":{"title":"DAX","owner":"peterbud"},"dhall":{"title":"Dhall","owner":"RunDevelopment"},"diff":{"title":"Diff","owner":"uranusjr"},"django":{"title":"Django/Jinja2","require":"markup-templating","alias":"jinja2","owner":"romanvm"},"dns-zone-file":{"title":"DNS zone file","owner":"RunDevelopment","alias":"dns-zone"},"docker":{"title":"Docker","alias":"dockerfile","owner":"JustinBeckwith"},"dot":{"title":"DOT (Graphviz)","alias":"gv","optional":"markup","owner":"RunDevelopment"},"ebnf":{"title":"EBNF","owner":"RunDevelopment"},"editorconfig":{"title":"EditorConfig","owner":"osipxd"},"eiffel":{"title":"Eiffel","owner":"Conaclos"},"ejs":{"title":"EJS","require":["javascript","markup-templating"],"owner":"RunDevelopment","alias":"eta","aliasTitles":{"eta":"Eta"}},"elixir":{"title":"Elixir","owner":"Golmote"},"elm":{"title":"Elm","owner":"zwilias"},"etlua":{"title":"Embedded Lua templating","require":["lua","markup-templating"],"owner":"RunDevelopment"},"erb":{"title":"ERB","require":["ruby","markup-templating"],"owner":"Golmote"},"erlang":{"title":"Erlang","owner":"Golmote"},"excel-formula":{"title":"Excel Formula","alias":["xlsx","xls"],"owner":"RunDevelopment"},"fsharp":{"title":"F#","require":"clike","owner":"simonreynolds7"},"factor":{"title":"Factor","owner":"catb0t"},"false":{"title":"False","owner":"edukisto"},"firestore-security-rules":{"title":"Firestore security rules","require":"clike","owner":"RunDevelopment"},"flow":{"title":"Flow","require":"javascript","owner":"Golmote"},"fortran":{"title":"Fortran","owner":"Golmote"},"ftl":{"title":"FreeMarker Template Language","require":"markup-templating","owner":"RunDevelopment"},"gml":{"title":"GameMaker Language","alias":"gamemakerlanguage","require":"clike","owner":"LiarOnce"},"gap":{"title":"GAP (CAS)","owner":"RunDevelopment"},"gcode":{"title":"G-code","owner":"RunDevelopment"},"gdscript":{"title":"GDScript","owner":"RunDevelopment"},"gedcom":{"title":"GEDCOM","owner":"Golmote"},"gettext":{"title":"gettext","alias":"po","owner":"RunDevelopment"},"gherkin":{"title":"Gherkin","owner":"hason"},"git":{"title":"Git","owner":"lgiraudel"},"glsl":{"title":"GLSL","require":"c","owner":"Golmote"},"gn":{"title":"GN","alias":"gni","owner":"RunDevelopment"},"linker-script":{"title":"GNU Linker Script","alias":"ld","owner":"RunDevelopment"},"go":{"title":"Go","require":"clike","owner":"arnehormann"},"go-module":{"title":"Go module","alias":"go-mod","owner":"RunDevelopment"},"gradle":{"title":"Gradle","require":"clike","owner":"zeabdelkhalek-badido18"},"graphql":{"title":"GraphQL","optional":"markdown","owner":"Golmote"},"groovy":{"title":"Groovy","require":"clike","owner":"robfletcher"},"haml":{"title":"Haml","require":"ruby","optional":["css","css-extras","coffeescript","erb","javascript","less","markdown","scss","textile"],"owner":"Golmote"},"handlebars":{"title":"Handlebars","require":"markup-templating","alias":["hbs","mustache"],"aliasTitles":{"mustache":"Mustache"},"owner":"Golmote"},"haskell":{"title":"Haskell","alias":"hs","owner":"bholst"},"haxe":{"title":"Haxe","require":"clike","optional":"regex","owner":"Golmote"},"hcl":{"title":"HCL","owner":"outsideris"},"hlsl":{"title":"HLSL","require":"c","owner":"RunDevelopment"},"hoon":{"title":"Hoon","owner":"matildepark"},"http":{"title":"HTTP","optional":["csp","css","hpkp","hsts","javascript","json","markup","uri"],"owner":"danielgtaylor"},"hpkp":{"title":"HTTP Public-Key-Pins","owner":"ScottHelme"},"hsts":{"title":"HTTP Strict-Transport-Security","owner":"ScottHelme"},"ichigojam":{"title":"IchigoJam","owner":"BlueCocoa"},"icon":{"title":"Icon","owner":"Golmote"},"icu-message-format":{"title":"ICU Message Format","owner":"RunDevelopment"},"idris":{"title":"Idris","alias":"idr","owner":"KeenS","require":"haskell"},"ignore":{"title":".ignore","owner":"osipxd","alias":["gitignore","hgignore","npmignore"],"aliasTitles":{"gitignore":".gitignore","hgignore":".hgignore","npmignore":".npmignore"}},"inform7":{"title":"Inform 7","owner":"Golmote"},"ini":{"title":"Ini","owner":"aviaryan"},"io":{"title":"Io","owner":"AlesTsurko"},"j":{"title":"J","owner":"Golmote"},"java":{"title":"Java","require":"clike","owner":"sherblot"},"javadoc":{"title":"JavaDoc","require":["markup","java","javadoclike"],"modify":"java","optional":"scala","owner":"RunDevelopment"},"javadoclike":{"title":"JavaDoc-like","modify":["java","javascript","php"],"owner":"RunDevelopment"},"javastacktrace":{"title":"Java stack trace","owner":"RunDevelopment"},"jexl":{"title":"Jexl","owner":"czosel"},"jolie":{"title":"Jolie","require":"clike","owner":"thesave"},"jq":{"title":"JQ","owner":"RunDevelopment"},"jsdoc":{"title":"JSDoc","require":["javascript","javadoclike","typescript"],"modify":"javascript","optional":["actionscript","coffeescript"],"owner":"RunDevelopment"},"js-extras":{"title":"JS Extras","require":"javascript","modify":"javascript","optional":["actionscript","coffeescript","flow","n4js","typescript"],"owner":"RunDevelopment"},"json":{"title":"JSON","alias":"webmanifest","aliasTitles":{"webmanifest":"Web App Manifest"},"owner":"CupOfTea696"},"json5":{"title":"JSON5","require":"json","owner":"RunDevelopment"},"jsonp":{"title":"JSONP","require":"json","owner":"RunDevelopment"},"jsstacktrace":{"title":"JS stack trace","owner":"sbrl"},"js-templates":{"title":"JS Templates","require":"javascript","modify":"javascript","optional":["css","css-extras","graphql","markdown","markup","sql"],"owner":"RunDevelopment"},"julia":{"title":"Julia","owner":"cdagnino"},"keepalived":{"title":"Keepalived Configure","owner":"dev-itsheng"},"keyman":{"title":"Keyman","owner":"mcdurdin"},"kotlin":{"title":"Kotlin","alias":["kt","kts"],"aliasTitles":{"kts":"Kotlin Script"},"require":"clike","owner":"Golmote"},"kumir":{"title":"KuMir (КуМир)","alias":"kum","owner":"edukisto"},"kusto":{"title":"Kusto","owner":"RunDevelopment"},"latex":{"title":"LaTeX","alias":["tex","context"],"aliasTitles":{"tex":"TeX","context":"ConTeXt"},"owner":"japborst"},"latte":{"title":"Latte","require":["clike","markup-templating","php"],"owner":"nette"},"less":{"title":"Less","require":"css","optional":"css-extras","owner":"Golmote"},"lilypond":{"title":"LilyPond","require":"scheme","alias":"ly","owner":"RunDevelopment"},"liquid":{"title":"Liquid","require":"markup-templating","owner":"cinhtau"},"lisp":{"title":"Lisp","alias":["emacs","elisp","emacs-lisp"],"owner":"JuanCaicedo"},"livescript":{"title":"LiveScript","owner":"Golmote"},"llvm":{"title":"LLVM IR","owner":"porglezomp"},"log":{"title":"Log file","optional":"javastacktrace","owner":"RunDevelopment"},"lolcode":{"title":"LOLCODE","owner":"Golmote"},"lua":{"title":"Lua","owner":"Golmote"},"magma":{"title":"Magma (CAS)","owner":"RunDevelopment"},"makefile":{"title":"Makefile","owner":"Golmote"},"markdown":{"title":"Markdown","require":"markup","optional":"yaml","alias":"md","owner":"Golmote"},"markup-templating":{"title":"Markup templating","require":"markup","owner":"Golmote"},"mata":{"title":"Mata","owner":"RunDevelopment"},"matlab":{"title":"MATLAB","owner":"Golmote"},"maxscript":{"title":"MAXScript","owner":"RunDevelopment"},"mel":{"title":"MEL","owner":"Golmote"},"mermaid":{"title":"Mermaid","owner":"RunDevelopment"},"metafont":{"title":"METAFONT","owner":"LaeriExNihilo"},"mizar":{"title":"Mizar","owner":"Golmote"},"mongodb":{"title":"MongoDB","owner":"airs0urce","require":"javascript"},"monkey":{"title":"Monkey","owner":"Golmote"},"moonscript":{"title":"MoonScript","alias":"moon","owner":"RunDevelopment"},"n1ql":{"title":"N1QL","owner":"TMWilds"},"n4js":{"title":"N4JS","require":"javascript","optional":"jsdoc","alias":"n4jsd","owner":"bsmith-n4"},"nand2tetris-hdl":{"title":"Nand To Tetris HDL","owner":"stephanmax"},"naniscript":{"title":"Naninovel Script","owner":"Elringus","alias":"nani"},"nasm":{"title":"NASM","owner":"rbmj"},"neon":{"title":"NEON","owner":"nette"},"nevod":{"title":"Nevod","owner":"nezaboodka"},"nginx":{"title":"nginx","owner":"volado"},"nim":{"title":"Nim","owner":"Golmote"},"nix":{"title":"Nix","owner":"Golmote"},"nsis":{"title":"NSIS","owner":"idleberg"},"objectivec":{"title":"Objective-C","require":"c","alias":"objc","owner":"uranusjr"},"ocaml":{"title":"OCaml","owner":"Golmote"},"odin":{"title":"Odin","owner":"edukisto"},"opencl":{"title":"OpenCL","require":"c","modify":["c","cpp"],"owner":"Milania1"},"openqasm":{"title":"OpenQasm","alias":"qasm","owner":"RunDevelopment"},"oz":{"title":"Oz","owner":"Golmote"},"parigp":{"title":"PARI/GP","owner":"Golmote"},"parser":{"title":"Parser","require":"markup","owner":"Golmote"},"pascal":{"title":"Pascal","alias":"objectpascal","aliasTitles":{"objectpascal":"Object Pascal"},"owner":"Golmote"},"pascaligo":{"title":"Pascaligo","owner":"DefinitelyNotAGoat"},"psl":{"title":"PATROL Scripting Language","owner":"bertysentry"},"pcaxis":{"title":"PC-Axis","alias":"px","owner":"RunDevelopment"},"peoplecode":{"title":"PeopleCode","alias":"pcode","owner":"RunDevelopment"},"perl":{"title":"Perl","owner":"Golmote"},"php":{"title":"PHP","require":"markup-templating","owner":"milesj"},"phpdoc":{"title":"PHPDoc","require":["php","javadoclike"],"modify":"php","owner":"RunDevelopment"},"php-extras":{"title":"PHP Extras","require":"php","modify":"php","owner":"milesj"},"plant-uml":{"title":"PlantUML","alias":"plantuml","owner":"RunDevelopment"},"plsql":{"title":"PL/SQL","require":"sql","owner":"Golmote"},"powerquery":{"title":"PowerQuery","alias":["pq","mscript"],"owner":"peterbud"},"powershell":{"title":"PowerShell","owner":"nauzilus"},"processing":{"title":"Processing","require":"clike","owner":"Golmote"},"prolog":{"title":"Prolog","owner":"Golmote"},"promql":{"title":"PromQL","owner":"arendjr"},"properties":{"title":".properties","owner":"Golmote"},"protobuf":{"title":"Protocol Buffers","require":"clike","owner":"just-boris"},"pug":{"title":"Pug","require":["markup","javascript"],"optional":["coffeescript","ejs","handlebars","less","livescript","markdown","scss","stylus","twig"],"owner":"Golmote"},"puppet":{"title":"Puppet","owner":"Golmote"},"pure":{"title":"Pure","optional":["c","cpp","fortran"],"owner":"Golmote"},"purebasic":{"title":"PureBasic","require":"clike","alias":"pbfasm","owner":"HeX0R101"},"purescript":{"title":"PureScript","require":"haskell","alias":"purs","owner":"sriharshachilakapati"},"python":{"title":"Python","alias":"py","owner":"multipetros"},"qsharp":{"title":"Q#","require":"clike","alias":"qs","owner":"fedonman"},"q":{"title":"Q (kdb+ database)","owner":"Golmote"},"qml":{"title":"QML","require":"javascript","owner":"RunDevelopment"},"qore":{"title":"Qore","require":"clike","owner":"temnroegg"},"r":{"title":"R","owner":"Golmote"},"racket":{"title":"Racket","require":"scheme","alias":"rkt","owner":"RunDevelopment"},"cshtml":{"title":"Razor C#","alias":"razor","require":["markup","csharp"],"optional":["css","css-extras","javascript","js-extras"],"owner":"RunDevelopment"},"jsx":{"title":"React JSX","require":["markup","javascript"],"optional":["jsdoc","js-extras","js-templates"],"owner":"vkbansal"},"tsx":{"title":"React TSX","require":["jsx","typescript"]},"reason":{"title":"Reason","require":"clike","owner":"Golmote"},"regex":{"title":"Regex","owner":"RunDevelopment"},"rego":{"title":"Rego","owner":"JordanSh"},"renpy":{"title":"Ren'py","alias":"rpy","owner":"HyuchiaDiego"},"rescript":{"title":"ReScript","alias":"res","owner":"vmarcosp"},"rest":{"title":"reST (reStructuredText)","owner":"Golmote"},"rip":{"title":"Rip","owner":"ravinggenius"},"roboconf":{"title":"Roboconf","owner":"Golmote"},"robotframework":{"title":"Robot Framework","alias":"robot","owner":"RunDevelopment"},"ruby":{"title":"Ruby","require":"clike","alias":"rb","owner":"samflores"},"rust":{"title":"Rust","owner":"Golmote"},"sas":{"title":"SAS","optional":["groovy","lua","sql"],"owner":"Golmote"},"sass":{"title":"Sass (Sass)","require":"css","optional":"css-extras","owner":"Golmote"},"scss":{"title":"Sass (SCSS)","require":"css","optional":"css-extras","owner":"MoOx"},"scala":{"title":"Scala","require":"java","owner":"jozic"},"scheme":{"title":"Scheme","owner":"bacchus123"},"shell-session":{"title":"Shell session","require":"bash","alias":["sh-session","shellsession"],"owner":"RunDevelopment"},"smali":{"title":"Smali","owner":"RunDevelopment"},"smalltalk":{"title":"Smalltalk","owner":"Golmote"},"smarty":{"title":"Smarty","require":"markup-templating","optional":"php","owner":"Golmote"},"sml":{"title":"SML","alias":"smlnj","aliasTitles":{"smlnj":"SML/NJ"},"owner":"RunDevelopment"},"solidity":{"title":"Solidity (Ethereum)","alias":"sol","require":"clike","owner":"glachaud"},"solution-file":{"title":"Solution file","alias":"sln","owner":"RunDevelopment"},"soy":{"title":"Soy (Closure Template)","require":"markup-templating","owner":"Golmote"},"sparql":{"title":"SPARQL","require":"turtle","owner":"Triply-Dev","alias":"rq"},"splunk-spl":{"title":"Splunk SPL","owner":"RunDevelopment"},"sqf":{"title":"SQF: Status Quo Function (Arma 3)","require":"clike","owner":"RunDevelopment"},"sql":{"title":"SQL","owner":"multipetros"},"squirrel":{"title":"Squirrel","require":"clike","owner":"RunDevelopment"},"stan":{"title":"Stan","owner":"RunDevelopment"},"stata":{"title":"Stata Ado","require":["mata","java","python"],"owner":"RunDevelopment"},"iecst":{"title":"Structured Text (IEC 61131-3)","owner":"serhioromano"},"stylus":{"title":"Stylus","owner":"vkbansal"},"supercollider":{"title":"SuperCollider","alias":"sclang","owner":"RunDevelopment"},"swift":{"title":"Swift","owner":"chrischares"},"systemd":{"title":"Systemd configuration file","owner":"RunDevelopment"},"t4-templating":{"title":"T4 templating","owner":"RunDevelopment"},"t4-cs":{"title":"T4 Text Templates (C#)","require":["t4-templating","csharp"],"alias":"t4","owner":"RunDevelopment"},"t4-vb":{"title":"T4 Text Templates (VB)","require":["t4-templating","vbnet"],"owner":"RunDevelopment"},"tap":{"title":"TAP","owner":"isaacs","require":"yaml"},"tcl":{"title":"Tcl","owner":"PeterChaplin"},"tt2":{"title":"Template Toolkit 2","require":["clike","markup-templating"],"owner":"gflohr"},"textile":{"title":"Textile","require":"markup","optional":"css","owner":"Golmote"},"toml":{"title":"TOML","owner":"RunDevelopment"},"tremor":{"title":"Tremor","alias":["trickle","troy"],"owner":"darach","aliasTitles":{"trickle":"trickle","troy":"troy"}},"turtle":{"title":"Turtle","alias":"trig","aliasTitles":{"trig":"TriG"},"owner":"jakubklimek"},"twig":{"title":"Twig","require":"markup-templating","owner":"brandonkelly"},"typescript":{"title":"TypeScript","require":"javascript","optional":"js-templates","alias":"ts","owner":"vkbansal"},"typoscript":{"title":"TypoScript","alias":"tsconfig","aliasTitles":{"tsconfig":"TSConfig"},"owner":"dkern"},"unrealscript":{"title":"UnrealScript","alias":["uscript","uc"],"owner":"RunDevelopment"},"uorazor":{"title":"UO Razor Script","owner":"jaseowns"},"uri":{"title":"URI","alias":"url","aliasTitles":{"url":"URL"},"owner":"RunDevelopment"},"v":{"title":"V","require":"clike","owner":"taggon"},"vala":{"title":"Vala","require":"clike","optional":"regex","owner":"TemplarVolk"},"vbnet":{"title":"VB.Net","require":"basic","owner":"Bigsby"},"velocity":{"title":"Velocity","require":"markup","owner":"Golmote"},"verilog":{"title":"Verilog","owner":"a-rey"},"vhdl":{"title":"VHDL","owner":"a-rey"},"vim":{"title":"vim","owner":"westonganger"},"visual-basic":{"title":"Visual Basic","alias":["vb","vba"],"aliasTitles":{"vba":"VBA"},"owner":"Golmote"},"warpscript":{"title":"WarpScript","owner":"RunDevelopment"},"wasm":{"title":"WebAssembly","owner":"Golmote"},"web-idl":{"title":"Web IDL","alias":"webidl","owner":"RunDevelopment"},"wgsl":{"title":"WGSL","owner":"Dr4gonthree"},"wiki":{"title":"Wiki markup","require":"markup","owner":"Golmote"},"wolfram":{"title":"Wolfram language","alias":["mathematica","nb","wl"],"aliasTitles":{"mathematica":"Mathematica","nb":"Mathematica Notebook"},"owner":"msollami"},"wren":{"title":"Wren","owner":"clsource"},"xeora":{"title":"Xeora","require":"markup","alias":"xeoracube","aliasTitles":{"xeoracube":"XeoraCube"},"owner":"freakmaxi"},"xml-doc":{"title":"XML doc (.net)","require":"markup","modify":["csharp","fsharp","vbnet"],"owner":"RunDevelopment"},"xojo":{"title":"Xojo (REALbasic)","owner":"Golmote"},"xquery":{"title":"XQuery","require":"markup","owner":"Golmote"},"yaml":{"title":"YAML","alias":"yml","owner":"hason"},"yang":{"title":"YANG","owner":"RunDevelopment"},"zig":{"title":"Zig","owner":"RunDevelopment"}},"plugins":{"meta":{"path":"plugins/{id}/prism-{id}","link":"plugins/{id}/"},"line-highlight":{"title":"Line Highlight","description":"Highlights specific lines and/or line ranges."},"line-numbers":{"title":"Line Numbers","description":"Line number at the beginning of code lines.","owner":"kuba-kubula"},"show-invisibles":{"title":"Show Invisibles","description":"Show hidden characters such as tabs and line breaks.","optional":["autolinker","data-uri-highlight"]},"autolinker":{"title":"Autolinker","description":"Converts URLs and emails in code to clickable links. Parses Markdown links in comments."},"wpd":{"title":"WebPlatform Docs","description":"Makes tokens link to <a href=\"https://webplatform.github.io/docs/\">WebPlatform.org documentation</a>. The links open in a new tab."},"custom-class":{"title":"Custom Class","description":"This plugin allows you to prefix Prism's default classes (<code>.comment</code> can become <code>.namespace--comment</code>) or replace them with your defined ones (like <code>.editor__comment</code>). You can even add new classes.","owner":"dvkndn","noCSS":true},"file-highlight":{"title":"File Highlight","description":"Fetch external files and highlight them with Prism. Used on the Prism website itself.","noCSS":true},"show-language":{"title":"Show Language","description":"Display the highlighted language in code blocks (inline code does not show the label).","owner":"nauzilus","noCSS":true,"require":"toolbar"},"jsonp-highlight":{"title":"JSONP Highlight","description":"Fetch content with JSONP and highlight some interesting content (e.g. GitHub/Gists or Bitbucket API).","noCSS":true,"owner":"nauzilus"},"highlight-keywords":{"title":"Highlight Keywords","description":"Adds special CSS classes for each keyword for fine-grained highlighting.","owner":"vkbansal","noCSS":true},"remove-initial-line-feed":{"title":"Remove initial line feed","description":"Removes the initial line feed in code blocks.","owner":"Golmote","noCSS":true},"inline-color":{"title":"Inline color","description":"Adds a small inline preview for colors in style sheets.","require":"css-extras","owner":"RunDevelopment"},"previewers":{"title":"Previewers","description":"Previewers for angles, colors, gradients, easing and time.","require":"css-extras","owner":"Golmote"},"autoloader":{"title":"Autoloader","description":"Automatically loads the needed languages to highlight the code blocks.","owner":"Golmote","noCSS":true},"keep-markup":{"title":"Keep Markup","description":"Prevents custom markup from being dropped out during highlighting.","owner":"Golmote","optional":"normalize-whitespace","noCSS":true},"command-line":{"title":"Command Line","description":"Display a command line with a prompt and, optionally, the output/response from the commands.","owner":"chriswells0"},"unescaped-markup":{"title":"Unescaped Markup","description":"Write markup without having to escape anything."},"normalize-whitespace":{"title":"Normalize Whitespace","description":"Supports multiple operations to normalize whitespace in code blocks.","owner":"zeitgeist87","optional":"unescaped-markup","noCSS":true},"data-uri-highlight":{"title":"Data-URI Highlight","description":"Highlights data-URI contents.","owner":"Golmote","noCSS":true},"toolbar":{"title":"Toolbar","description":"Attach a toolbar for plugins to easily register buttons on the top of a code block.","owner":"mAAdhaTTah"},"copy-to-clipboard":{"title":"Copy to Clipboard Button","description":"Add a button that copies the code block to the clipboard when clicked.","owner":"mAAdhaTTah","require":"toolbar","noCSS":true},"download-button":{"title":"Download Button","description":"A button in the toolbar of a code block adding a convenient way to download a code file.","owner":"Golmote","require":"toolbar","noCSS":true},"match-braces":{"title":"Match braces","description":"Highlights matching braces.","owner":"RunDevelopment"},"diff-highlight":{"title":"Diff Highlight","description":"Highlights the code inside diff blocks.","owner":"RunDevelopment","require":"diff"},"filter-highlight-all":{"title":"Filter highlightAll","description":"Filters the elements the <code>highlightAll</code> and <code>highlightAllUnder</code> methods actually highlight.","owner":"RunDevelopment","noCSS":true},"treeview":{"title":"Treeview","description":"A language with special styles to highlight file system tree structures.","owner":"Golmote"}}};
if (typeof module !== 'undefined' && module.exports) { module.exports = components; }

================================================
File: /components.json
================================================
{
	"core": {
		"meta": {
			"path": "components/prism-core.js",
			"option": "mandatory"
		},
		"core": "Core"
	},
	"themes": {
		"meta": {
			"path": "themes/{id}.css",
			"link": "index.html?theme={id}",
			"exclusive": true
		},
		"prism": {
			"title": "Default",
			"option": "default"
		},
		"prism-dark": "Dark",
		"prism-funky": "Funky",
		"prism-okaidia": {
			"title": "Okaidia",
			"owner": "ocodia"
		},
		"prism-twilight": {
			"title": "Twilight",
			"owner": "remybach"
		},
		"prism-coy": {
			"title": "Coy",
			"owner": "tshedor"
		},
		"prism-solarizedlight": {
			"title": "Solarized Light",
			"owner": "hectormatos2011 "
		},
		"prism-tomorrow": {
			"title": "Tomorrow Night",
			"owner": "Rosey"
		}
	},
	"languages": {
		"meta": {
			"path": "components/prism-{id}",
			"noCSS": true,
			"examplesPath": "examples/prism-{id}",
			"addCheckAll": true
		},
		"markup": {
			"title": "Markup",
			"alias": ["html", "xml", "svg", "mathml", "ssml", "atom", "rss"],
			"aliasTitles": {
				"html": "HTML",
				"xml": "XML",
				"svg": "SVG",
				"mathml": "MathML",
				"ssml": "SSML",
				"atom": "Atom",
				"rss": "RSS"
			},
			"option": "default"
		},
		"css": {
			"title": "CSS",
			"option": "default",
			"modify": "markup"
		},
		"clike": {
			"title": "C-like",
			"option": "default"
		},
		"javascript": {
			"title": "JavaScript",
			"require": "clike",
			"modify": "markup",
			"optional": "regex",
			"alias": "js",
			"option": "default"
		},
		"abap": {
			"title": "ABAP",
			"owner": "dellagustin"
		},
		"abnf": {
			"title": "ABNF",
			"owner": "RunDevelopment"
		},
		"actionscript": {
			"title": "ActionScript",
			"require": "javascript",
			"modify": "markup",
			"owner": "Golmote"
		},
		"ada": {
			"title": "Ada",
			"owner": "Lucretia"
		},
		"agda": {
			"title": "Agda",
			"owner": "xy-ren"
		},
		"al": {
			"title": "AL",
			"owner": "RunDevelopment"
		},
		"antlr4": {
			"title": "ANTLR4",
			"alias": "g4",
			"owner": "RunDevelopment"
		},
		"apacheconf": {
			"title": "Apache Configuration",
			"owner": "GuiTeK"
		},
		"apex": {
			"title": "Apex",
			"require": ["clike", "sql"],
			"owner": "RunDevelopment"
		},
		"apl": {
			"title": "APL",
			"owner": "ngn"
		},
		"applescript": {
			"title": "AppleScript",
			"owner": "Golmote"
		},
		"aql": {
			"title": "AQL",
			"owner": "RunDevelopment"
		},
		"arduino": {
			"title": "Arduino",
			"require": "cpp",
			"alias": "ino",
			"owner": "dkern"
		},
		"arff": {
			"title": "ARFF",
			"owner": "Golmote"
		},
		"armasm": {
			"title": "ARM Assembly",
			"alias": "arm-asm",
			"owner": "RunDevelopment"
		},
		"arturo": {
			"title": "Arturo",
			"alias": "art",
			"optional": [
				"bash",
				"css",
				"javascript",
				"markup",
				"markdown",
				"sql"
			],
			"owner": "drkameleon"
		},
		"asciidoc": {
			"alias": "adoc",
			"title": "AsciiDoc",
			"owner": "Golmote"
		},
		"aspnet": {
			"title": "ASP.NET (C#)",
			"require": ["markup", "csharp"],
			"owner": "nauzilus"
		},
		"asm6502": {
			"title": "6502 Assembly",
			"owner": "kzurawel"
		},
		"asmatmel": {
			"title": "Atmel AVR Assembly",
			"owner": "cerkit"
		},
		"autohotkey": {
			"title": "AutoHotkey",
			"owner": "aviaryan"
		},
		"autoit": {
			"title": "AutoIt",
			"owner": "Golmote"
		},
		"avisynth": {
			"title": "AviSynth",
			"alias": "avs",
			"owner": "Zinfidel"
		},
		"avro-idl": {
			"title":"Avro IDL",
			"alias": "avdl",
			"owner": "RunDevelopment"
		},
		"awk": {
			"title": "AWK",
			"alias": "gawk",
			"aliasTitles": {
				"gawk": "GAWK"
			},
			"owner": "RunDevelopment"
		},
		"bash": {
			"title": "Bash",
			"alias": ["sh", "shell"],
			"aliasTitles": {
				"sh": "Shell",
				"shell": "Shell"
			},
			"owner": "zeitgeist87"
		},
		"basic": {
			"title": "BASIC",
			"owner": "Golmote"
		},
		"batch": {
			"title": "Batch",
			"owner": "Golmote"
		},
		"bbcode": {
			"title": "BBcode",
			"alias": "shortcode",
			"aliasTitles": {
				"shortcode": "Shortcode"
			},
			"owner": "RunDevelopment"
		},
		"bbj": {
			"title": "BBj",
			"owner": "hyyan"
		},
		"bicep": {
			"title": "Bicep",
			"owner": "johnnyreilly"
		},
		"birb": {
			"title": "Birb",
			"require": "clike",
			"owner": "Calamity210"
		},
		"bison": {
			"title": "Bison",
			"require": "c",
			"owner": "Golmote"
		},
		"bnf": {
			"title": "BNF",
			"alias": "rbnf",
			"aliasTitles": {
				"rbnf": "RBNF"
			},
			"owner": "RunDevelopment"
		},
		"bqn": {
			"title": "BQN",
			"owner": "yewscion"
		},
		"brainfuck": {
			"title": "Brainfuck",
			"owner": "Golmote"
		},
		"brightscript": {
			"title": "BrightScript",
			"owner": "RunDevelopment"
		},
		"bro": {
			"title": "Bro",
			"owner": "wayward710"
		},
		"bsl": {
			"title": "BSL (1C:Enterprise)",
			"alias": "oscript",
			"aliasTitles": {
				"oscript": "OneScript"
			},
			"owner": "Diversus23"
		},
		"c": {
			"title": "C",
			"require": "clike",
			"owner": "zeitgeist87"
		},
		"csharp": {
			"title": "C#",
			"require": "clike",
			"alias": ["cs", "dotnet"],
			"owner": "mvalipour"
		},
		"cpp": {
			"title": "C++",
			"require": "c",
			"owner": "zeitgeist87"
		},
		"cfscript": {
			"title": "CFScript",
			"require": "clike",
			"alias": "cfc",
			"owner": "mjclemente"
		},
		"chaiscript": {
			"title": "ChaiScript",
			"require": ["clike", "cpp"],
			"owner": "RunDevelopment"
		},
		"cil": {
			"title": "CIL",
			"owner": "sbrl"
		},
		"cilkc": {
			"title": "Cilk/C",
			"require": "c",
			"alias": "cilk-c",
			"owner": "OpenCilk"
		},
		"cilkcpp": {
			"title": "Cilk/C++",
			"require": "cpp",
			"alias": ["cilk-cpp", "cilk"],
			"owner": "OpenCilk"
		},
		"clojure": {
			"title": "Clojure",
			"owner": "troglotit"
		},
		"cmake": {
			"title": "CMake",
			"owner": "mjrogozinski"
		},
		"cobol": {
			"title": "COBOL",
			"owner": "RunDevelopment"
		},
		"coffeescript": {
			"title": "CoffeeScript",
			"require": "javascript",
			"alias": "coffee",
			"owner": "R-osey"
		},
		"concurnas": {
			"title": "Concurnas",
			"alias": "conc",
			"owner": "jasontatton"
		},
		"csp": {
			"title": "Content-Security-Policy",
			"owner": "ScottHelme"
		},
		"cooklang": {
			"title": "Cooklang",
			"owner": "ahue"
		},
		"coq": {
			"title": "Coq",
			"owner": "RunDevelopment"
		},
		"crystal": {
			"title": "Crystal",
			"require": "ruby",
			"owner": "MakeNowJust"
		},
		"css-extras": {
			"title": "CSS Extras",
			"require": "css",
			"modify": "css",
			"owner": "milesj"
		},
		"csv": {
			"title": "CSV",
			"owner": "RunDevelopment"
		},
		"cue": {
			"title": "CUE",
			"owner": "RunDevelopment"
		},
		"cypher": {
			"title": "Cypher",
			"owner": "RunDevelopment"
		},
		"d": {
			"title": "D",
			"require": "clike",
			"owner": "Golmote"
		},
		"dart": {
			"title": "Dart",
			"require": "clike",
			"owner": "Golmote"
		},
		"dataweave": {
			"title": "DataWeave",
			"owner": "machaval"
		},
		"dax": {
			"title": "DAX",
			"owner": "peterbud"
		},
		"dhall": {
			"title": "Dhall",
			"owner": "RunDevelopment"
		},
		"diff": {
			"title": "Diff",
			"owner": "uranusjr"
		},
		"django": {
			"title": "Django/Jinja2",
			"require": "markup-templating",
			"alias": "jinja2",
			"owner": "romanvm"
		},
		"dns-zone-file": {
			"title": "DNS zone file",
			"owner": "RunDevelopment",
			"alias": "dns-zone"
		},
		"docker": {
			"title": "Docker",
			"alias": "dockerfile",
			"owner": "JustinBeckwith"
		},
		"dot": {
			"title": "DOT (Graphviz)",
			"alias": "gv",
			"optional": "markup",
			"owner": "RunDevelopment"
		},
		"ebnf": {
			"title": "EBNF",
			"owner": "RunDevelopment"
		},
		"editorconfig": {
			"title": "EditorConfig",
			"owner": "osipxd"
		},
		"eiffel": {
			"title": "Eiffel",
			"owner": "Conaclos"
		},
		"ejs": {
			"title": "EJS",
			"require": ["javascript", "markup-templating"],
			"owner": "RunDevelopment",
			"alias": "eta",
			"aliasTitles": {
				"eta": "Eta"
			}
		},
		"elixir": {
			"title": "Elixir",
			"owner": "Golmote"
		},
		"elm": {
			"title": "Elm",
			"owner": "zwilias"
		},
		"etlua": {
			"title": "Embedded Lua templating",
			"require": ["lua", "markup-templating"],
			"owner": "RunDevelopment"
		},
		"erb": {
			"title": "ERB",
			"require": ["ruby", "markup-templating"],
			"owner": "Golmote"
		},
		"erlang": {
			"title": "Erlang",
			"owner": "Golmote"
		},
		"excel-formula": {
			"title": "Excel Formula",
			"alias": ["xlsx", "xls"],
			"owner": "RunDevelopment"
		},
		"fsharp": {
			"title": "F#",
			"require": "clike",
			"owner": "simonreynolds7"
		},
		"factor": {
			"title": "Factor",
			"owner": "catb0t"
		},
		"false": {
			"title": "False",
			"owner": "edukisto"
		},
		"firestore-security-rules": {
			"title": "Firestore security rules",
			"require": "clike",
			"owner": "RunDevelopment"
		},
		"flow": {
			"title": "Flow",
			"require": "javascript",
			"owner": "Golmote"
		},
		"fortran": {
			"title": "Fortran",
			"owner": "Golmote"
		},
		"ftl": {
			"title": "FreeMarker Template Language",
			"require": "markup-templating",
			"owner": "RunDevelopment"
		},
		"gml": {
			"title": "GameMaker Language",
			"alias": "gamemakerlanguage",
			"require": "clike",
			"owner": "LiarOnce"
		},
		"gap": {
			"title": "GAP (CAS)",
			"owner": "RunDevelopment"
		},
		"gcode": {
			"title": "G-code",
			"owner": "RunDevelopment"
		},
		"gdscript": {
			"title": "GDScript",
			"owner": "RunDevelopment"
		},
		"gedcom": {
			"title": "GEDCOM",
			"owner": "Golmote"
		},
		"gettext": {
			"title": "gettext",
			"alias": "po",
			"owner": "RunDevelopment"
		},
		"gherkin": {
			"title": "Gherkin",
			"owner": "hason"
		},
		"git": {
			"title": "Git",
			"owner": "lgiraudel"
		},
		"glsl": {
			"title": "GLSL",
			"require": "c",
			"owner": "Golmote"
		},
		"gn": {
			"title": "GN",
			"alias": "gni",
			"owner": "RunDevelopment"
		},
		"linker-script": {
			"title": "GNU Linker Script",
			"alias": "ld",
			"owner": "RunDevelopment"
		},
		"go": {
			"title": "Go",
			"require": "clike",
			"owner": "arnehormann"
		},
		"go-module": {
			"title": "Go module",
			"alias": "go-mod",
			"owner": "RunDevelopment"
		},
		"gradle": {
			"title": "Gradle",
			"require": "clike",
			"owner": "zeabdelkhalek-badido18"
		},
		"graphql": {
			"title": "GraphQL",
			"optional": "markdown",
			"owner": "Golmote"
		},
		"groovy": {
			"title": "Groovy",
			"require": "clike",
			"owner": "robfletcher"
		},
		"haml": {
			"title": "Haml",
			"require": "ruby",
			"optional": [
				"css",
				"css-extras",
				"coffeescript",
				"erb",
				"javascript",
				"less",
				"markdown",
				"scss",
				"textile"
			],
			"owner": "Golmote"
		},
		"handlebars": {
			"title": "Handlebars",
			"require": "markup-templating",
			"alias": ["hbs", "mustache"],
			"aliasTitles": {
				"mustache": "Mustache"
			},
			"owner": "Golmote"
		},
		"haskell": {
			"title": "Haskell",
			"alias": "hs",
			"owner": "bholst"
		},
		"haxe": {
			"title": "Haxe",
			"require": "clike",
			"optional": "regex",
			"owner": "Golmote"
		},
		"hcl": {
			"title": "HCL",
			"owner": "outsideris"
		},
		"hlsl": {
			"title": "HLSL",
			"require": "c",
			"owner": "RunDevelopment"
		},
		"hoon": {
			"title": "Hoon",
			"owner": "matildepark"
		},
		"http": {
			"title": "HTTP",
			"optional": [
				"csp",
				"css",
				"hpkp",
				"hsts",
				"javascript",
				"json",
				"markup",
				"uri"
			],
			"owner": "danielgtaylor"
		},
		"hpkp": {
			"title": "HTTP Public-Key-Pins",
			"owner": "ScottHelme"
		},
		"hsts": {
			"title": "HTTP Strict-Transport-Security",
			"owner": "ScottHelme"
		},
		"ichigojam": {
			"title": "IchigoJam",
			"owner": "BlueCocoa"
		},
		"icon": {
			"title": "Icon",
			"owner": "Golmote"
		},
		"icu-message-format": {
			"title": "ICU Message Format",
			"owner": "RunDevelopment"
		},
		"idris": {
			"title": "Idris",
			"alias": "idr",
			"owner": "KeenS",
			"require": "haskell"
		},
		"ignore": {
			"title": ".ignore",
			"owner": "osipxd",
			"alias": [
				"gitignore",
				"hgignore",
				"npmignore"
			],
			"aliasTitles": {
				"gitignore": ".gitignore",
				"hgignore": ".hgignore",
				"npmignore": ".npmignore"
			}
		},
		"inform7": {
			"title": "Inform 7",
			"owner": "Golmote"
		},
		"ini": {
			"title": "Ini",
			"owner": "aviaryan"
		},
		"io": {
			"title": "Io",
			"owner": "AlesTsurko"
		},
		"j": {
			"title": "J",
			"owner": "Golmote"
		},
		"java": {
			"title": "Java",
			"require": "clike",
			"owner": "sherblot"
		},
		"javadoc": {
			"title": "JavaDoc",
			"require": ["markup", "java", "javadoclike"],
			"modify": "java",
			"optional": "scala",
			"owner": "RunDevelopment"
		},
		"javadoclike": {
			"title": "JavaDoc-like",
			"modify": [
				"java",
				"javascript",
				"php"
			],
			"owner": "RunDevelopment"
		},
		"javastacktrace": {
			"title": "Java stack trace",
			"owner": "RunDevelopment"
		},
		"jexl": {
			"title": "Jexl",
			"owner": "czosel"
		},
		"jolie": {
			"title": "Jolie",
			"require": "clike",
			"owner": "thesave"
		},
		"jq": {
			"title": "JQ",
			"owner": "RunDevelopment"
		},
		"jsdoc": {
			"title": "JSDoc",
			"require": ["javascript", "javadoclike", "typescript"],
			"modify": "javascript",
			"optional": [
				"actionscript",
				"coffeescript"
			],
			"owner": "RunDevelopment"
		},
		"js-extras": {
			"title": "JS Extras",
			"require": "javascript",
			"modify": "javascript",
			"optional": [
				"actionscript",
				"coffeescript",
				"flow",
				"n4js",
				"typescript"
			],
			"owner": "RunDevelopment"
		},
		"json": {
			"title": "JSON",
			"alias": "webmanifest",
			"aliasTitles": {
				"webmanifest": "Web App Manifest"
			},
			"owner": "CupOfTea696"
		},
		"json5": {
			"title": "JSON5",
			"require": "json",
			"owner": "RunDevelopment"
		},
		"jsonp": {
			"title": "JSONP",
			"require": "json",
			"owner": "RunDevelopment"
		},
		"jsstacktrace": {
			"title": "JS stack trace",
			"owner": "sbrl"
		},
		"js-templates": {
			"title": "JS Templates",
			"require": "javascript",
			"modify": "javascript",
			"optional": [
				"css",
				"css-extras",
				"graphql",
				"markdown",
				"markup",
				"sql"
			],
			"owner": "RunDevelopment"
		},
		"julia": {
			"title": "Julia",
			"owner": "cdagnino"
		},
		"keepalived": {
			"title": "Keepalived Configure",
			"owner": "dev-itsheng"
		},
		"keyman": {
			"title": "Keyman",
			"owner": "mcdurdin"
		},
		"kotlin": {
			"title": "Kotlin",
			"alias": ["kt", "kts"],
			"aliasTitles": {
				"kts": "Kotlin Script"
			},
			"require": "clike",
			"owner": "Golmote"
		},
		"kumir": {
			"title": "KuMir (КуМир)",
			"alias": "kum",
			"owner": "edukisto"
		},
		"kusto": {
			"title": "Kusto",
			"owner": "RunDevelopment"
		},
		"latex": {
			"title": "LaTeX",
			"alias": ["tex", "context"],
			"aliasTitles": {
				"tex": "TeX",
				"context": "ConTeXt"
			},
			"owner": "japborst"
		},
		"latte": {
			"title": "Latte",
			"require": ["clike", "markup-templating", "php"],
			"owner": "nette"
		},
		"less": {
			"title": "Less",
			"require": "css",
			"optional": "css-extras",
			"owner": "Golmote"
		},
		"lilypond": {
			"title": "LilyPond",
			"require": "scheme",
			"alias": "ly",
			"owner": "RunDevelopment"
		},
		"liquid": {
			"title": "Liquid",
			"require": "markup-templating",
			"owner": "cinhtau"
		},
		"lisp": {
			"title": "Lisp",
			"alias": ["emacs", "elisp", "emacs-lisp"],
			"owner": "JuanCaicedo"
		},
		"livescript": {
			"title": "LiveScript",
			"owner": "Golmote"
		},
		"llvm": {
			"title": "LLVM IR",
			"owner": "porglezomp"
		},
		"log": {
			"title": "Log file",
			"optional": "javastacktrace",
			"owner": "RunDevelopment"
		},
		"lolcode": {
			"title": "LOLCODE",
			"owner": "Golmote"
		},
		"lua": {
			"title": "Lua",
			"owner": "Golmote"
		},
		"magma": {
			"title": "Magma (CAS)",
			"owner": "RunDevelopment"
		},
		"makefile": {
			"title": "Makefile",
			"owner": "Golmote"
		},
		"markdown": {
			"title": "Markdown",
			"require": "markup",
			"optional": "yaml",
			"alias": "md",
			"owner": "Golmote"
		},
		"markup-templating": {
			"title": "Markup templating",
			"require": "markup",
			"owner": "Golmote"
		},
		"mata": {
			"title": "Mata",
			"owner": "RunDevelopment"
		},
		"matlab": {
			"title": "MATLAB",
			"owner": "Golmote"
		},
		"maxscript": {
			"title": "MAXScript",
			"owner": "RunDevelopment"
		},
		"mel": {
			"title": "MEL",
			"owner": "Golmote"
		},
		"mermaid": {
			"title": "Mermaid",
			"owner": "RunDevelopment"
		},
		"metafont": {
			"title": "METAFONT",
			"owner": "LaeriExNihilo"
		},
		"mizar": {
			"title": "Mizar",
			"owner": "Golmote"
		},
		"mongodb": {
			"title": "MongoDB",
			"owner": "airs0urce",
			"require": "javascript"
		},
		"monkey": {
			"title": "Monkey",
			"owner": "Golmote"
		},
		"moonscript": {
			"title": "MoonScript",
			"alias": "moon",
			"owner": "RunDevelopment"
		},
		"n1ql": {
			"title": "N1QL",
			"owner": "TMWilds"
		},
		"n4js": {
			"title": "N4JS",
			"require": "javascript",
			"optional": "jsdoc",
			"alias": "n4jsd",
			"owner": "bsmith-n4"
		},
		"nand2tetris-hdl": {
			"title": "Nand To Tetris HDL",
			"owner": "stephanmax"
		},
		"naniscript": {
			"title": "Naninovel Script",
			"owner": "Elringus",
			"alias": "nani"
		},
		"nasm": {
			"title": "NASM",
			"owner": "rbmj"
		},
		"neon": {
			"title": "NEON",
			"owner": "nette"
		},
		"nevod": {
			"title": "Nevod",
			"owner": "nezaboodka"
		},
		"nginx": {
			"title": "nginx",
			"owner": "volado"
		},
		"nim": {
			"title": "Nim",
			"owner": "Golmote"
		},
		"nix": {
			"title": "Nix",
			"owner": "Golmote"
		},
		"nsis": {
			"title": "NSIS",
			"owner": "idleberg"
		},
		"objectivec": {
			"title": "Objective-C",
			"require": "c",
			"alias": "objc",
			"owner": "uranusjr"
		},
		"ocaml": {
			"title": "OCaml",
			"owner": "Golmote"
		},
		"odin": {
			"title": "Odin",
			"owner": "edukisto"
		},
		"opencl": {
			"title": "OpenCL",
			"require": "c",
			"modify": [
				"c",
				"cpp"
			],
			"owner": "Milania1"
		},
		"openqasm": {
			"title": "OpenQasm",
			"alias": "qasm",
			"owner": "RunDevelopment"
		},
		"oz": {
			"title": "Oz",
			"owner": "Golmote"
		},
		"parigp": {
			"title": "PARI/GP",
			"owner": "Golmote"
		},
		"parser": {
			"title": "Parser",
			"require": "markup",
			"owner": "Golmote"
		},
		"pascal": {
			"title": "Pascal",
			"alias": "objectpascal",
			"aliasTitles": {
				"objectpascal": "Object Pascal"
			},
			"owner": "Golmote"
		},
		"pascaligo": {
			"title": "Pascaligo",
			"owner": "DefinitelyNotAGoat"
		},
		"psl": {
			"title": "PATROL Scripting Language",
			"owner": "bertysentry"
		},
		"pcaxis": {
			"title": "PC-Axis",
			"alias": "px",
			"owner": "RunDevelopment"
		},
		"peoplecode": {
			"title": "PeopleCode",
			"alias": "pcode",
			"owner": "RunDevelopment"
		},
		"perl": {
			"title": "Perl",
			"owner": "Golmote"
		},
		"php": {
			"title": "PHP",
			"require": "markup-templating",
			"owner": "milesj"
		},
		"phpdoc": {
			"title": "PHPDoc",
			"require": ["php", "javadoclike"],
			"modify": "php",
			"owner": "RunDevelopment"
		},
		"php-extras": {
			"title": "PHP Extras",
			"require": "php",
			"modify": "php",
			"owner": "milesj"
		},
		"plant-uml": {
			"title": "PlantUML",
			"alias": "plantuml",
			"owner": "RunDevelopment"
		},
		"plsql": {
			"title": "PL/SQL",
			"require": "sql",
			"owner": "Golmote"
		},
		"powerquery": {
			"title": "PowerQuery",
			"alias": ["pq", "mscript"],
			"owner": "peterbud"
		},
		"powershell": {
			"title": "PowerShell",
			"owner": "nauzilus"
		},
		"processing": {
			"title": "Processing",
			"require": "clike",
			"owner": "Golmote"
		},
		"prolog": {
			"title": "Prolog",
			"owner": "Golmote"
		},
		"promql": {
			"title": "PromQL",
			"owner": "arendjr"
		},
		"properties": {
			"title": ".properties",
			"owner": "Golmote"
		},
		"protobuf": {
			"title": "Protocol Buffers",
			"require": "clike",
			"owner": "just-boris"
		},
		"pug": {
			"title": "Pug",
			"require": ["markup", "javascript"],
			"optional": [
				"coffeescript",
				"ejs",
				"handlebars",
				"less",
				"livescript",
				"markdown",
				"scss",
				"stylus",
				"twig"
			],
			"owner": "Golmote"
		},
		"puppet": {
			"title": "Puppet",
			"owner": "Golmote"
		},
		"pure": {
			"title": "Pure",
			"optional": [
				"c",
				"cpp",
				"fortran"
			],
			"owner": "Golmote"
		},
		"purebasic": {
			"title": "PureBasic",
			"require": "clike",
			"alias": "pbfasm",
			"owner": "HeX0R101"
		},
		"purescript": {
			"title": "PureScript",
			"require": "haskell",
			"alias": "purs",
			"owner": "sriharshachilakapati"
		},
		"python": {
			"title": "Python",
			"alias": "py",
			"owner": "multipetros"
		},
		"qsharp": {
			"title": "Q#",
			"require": "clike",
			"alias": "qs",
			"owner": "fedonman"
		},
		"q": {
			"title": "Q (kdb+ database)",
			"owner": "Golmote"
		},
		"qml": {
			"title": "QML",
			"require": "javascript",
			"owner": "RunDevelopment"
		},
		"qore": {
			"title": "Qore",
			"require": "clike",
			"owner": "temnroegg"
		},
		"r": {
			"title": "R",
			"owner": "Golmote"
		},
		"racket": {
			"title": "Racket",
			"require": "scheme",
			"alias": "rkt",
			"owner": "RunDevelopment"
		},
		"cshtml": {
			"title": "Razor C#",
			"alias": "razor",
			"require": ["markup", "csharp"],
			"optional":[
				"css",
				"css-extras",
				"javascript",
				"js-extras"
			],
			"owner": "RunDevelopment"
		},
		"jsx": {
			"title": "React JSX",
			"require": ["markup", "javascript"],
			"optional": [
				"jsdoc",
				"js-extras",
				"js-templates"
			],
			"owner": "vkbansal"
		},
		"tsx": {
			"title": "React TSX",
			"require": ["jsx", "typescript"]
		},
		"reason": {
			"title": "Reason",
			"require": "clike",
			"owner": "Golmote"
		},
		"regex": {
			"title": "Regex",
			"owner": "RunDevelopment"
		},
		"rego": {
			"title": "Rego",
			"owner": "JordanSh"
		},
		"renpy": {
			"title": "Ren'py",
			"alias": "rpy",
			"owner": "HyuchiaDiego"
		},
		"rescript": {
			"title": "ReScript",
			"alias": "res",
			"owner": "vmarcosp"
		},
		"rest": {
			"title": "reST (reStructuredText)",
			"owner": "Golmote"
		},
		"rip": {
			"title": "Rip",
			"owner": "ravinggenius"
		},
		"roboconf": {
			"title": "Roboconf",
			"owner": "Golmote"
		},
		"robotframework": {
			"title": "Robot Framework",
			"alias": "robot",
			"owner": "RunDevelopment"
		},
		"ruby": {
			"title": "Ruby",
			"require": "clike",
			"alias": "rb",
			"owner": "samflores"
		},
		"rust": {
			"title": "Rust",
			"owner": "Golmote"
		},
		"sas": {
			"title": "SAS",
			"optional": ["groovy", "lua", "sql"],
			"owner": "Golmote"
		},
		"sass": {
			"title": "Sass (Sass)",
			"require": "css",
			"optional": "css-extras",
			"owner": "Golmote"
		},
		"scss": {
			"title": "Sass (SCSS)",
			"require": "css",
			"optional": "css-extras",
			"owner": "MoOx"
		},
		"scala": {
			"title": "Scala",
			"require": "java",
			"owner": "jozic"
		},
		"scheme": {
			"title": "Scheme",
			"owner": "bacchus123"
		},
		"shell-session": {
			"title": "Shell session",
			"require": "bash",
			"alias": ["sh-session", "shellsession"],
			"owner": "RunDevelopment"
		},
		"smali": {
			"title": "Smali",
			"owner": "RunDevelopment"
		},
		"smalltalk": {
			"title": "Smalltalk",
			"owner": "Golmote"
		},
		"smarty": {
			"title": "Smarty",
			"require": "markup-templating",
			"optional": "php",
			"owner": "Golmote"
		},
		"sml": {
			"title": "SML",
			"alias": "smlnj",
			"aliasTitles": {
				"smlnj": "SML/NJ"
			},
			"owner": "RunDevelopment"
		},
		"solidity": {
			"title": "Solidity (Ethereum)",
			"alias": "sol",
			"require": "clike",
			"owner": "glachaud"
		},
		"solution-file": {
			"title": "Solution file",
			"alias": "sln",
			"owner": "RunDevelopment"
		},
		"soy": {
			"title": "Soy (Closure Template)",
			"require": "markup-templating",
			"owner": "Golmote"
		},
		"sparql": {
			"title": "SPARQL",
			"require": "turtle",
			"owner": "Triply-Dev",
			"alias": "rq"
		},
		"splunk-spl": {
			"title": "Splunk SPL",
			"owner": "RunDevelopment"
		},
		"sqf": {
			"title": "SQF: Status Quo Function (Arma 3)",
			"require": "clike",
			"owner": "RunDevelopment"
		},
		"sql": {
			"title": "SQL",
			"owner": "multipetros"
		},
		"squirrel": {
			"title": "Squirrel",
			"require": "clike",
			"owner": "RunDevelopment"
		},
		"stan": {
			"title": "Stan",
			"owner": "RunDevelopment"
		},
		"stata": {
			"title": "Stata Ado",
			"require": ["mata", "java", "python"],
			"owner": "RunDevelopment"
		},
		"iecst": {
			"title": "Structured Text (IEC 61131-3)",
			"owner": "serhioromano"
		},
		"stylus": {
			"title": "Stylus",
			"owner": "vkbansal"
		},
		"supercollider": {
			"title": "SuperCollider",
			"alias": "sclang",
			"owner": "RunDevelopment"
		},
		"swift": {
			"title": "Swift",
			"owner": "chrischares"
		},
		"systemd": {
			"title": "Systemd configuration file",
			"owner": "RunDevelopment"
		},
		"t4-templating": {
			"title": "T4 templating",
			"owner": "RunDevelopment"
		},
		"t4-cs": {
			"title": "T4 Text Templates (C#)",
			"require": ["t4-templating", "csharp"],
			"alias": "t4",
			"owner": "RunDevelopment"
		},
		"t4-vb": {
			"title": "T4 Text Templates (VB)",
			"require": ["t4-templating", "vbnet"],
			"owner": "RunDevelopment"
		},
		"tap": {
			"title": "TAP",
			"owner": "isaacs",
			"require": "yaml"
		},
		"tcl": {
			"title": "Tcl",
			"owner": "PeterChaplin"
		},
		"tt2": {
			"title": "Template Toolkit 2",
			"require": ["clike", "markup-templating"],
			"owner": "gflohr"
		},
		"textile": {
			"title": "Textile",
			"require": "markup",
			"optional": "css",
			"owner": "Golmote"
		},
		"toml": {
			"title": "TOML",
			"owner": "RunDevelopment"
		},
		"tremor": {
			"title": "Tremor",
			"alias": [
				"trickle",
				"troy"
			],
			"owner": "darach",
			"aliasTitles": {
				"trickle": "trickle",
				"troy": "troy"
			}
		},
		"turtle": {
			"title": "Turtle",
			"alias": "trig",
			"aliasTitles": {
				"trig": "TriG"
			},
			"owner": "jakubklimek"
		},
		"twig": {
			"title": "Twig",
			"require": "markup-templating",
			"owner": "brandonkelly"
		},
		"typescript": {
			"title": "TypeScript",
			"require": "javascript",
			"optional": "js-templates",
			"alias": "ts",
			"owner": "vkbansal"
		},
		"typoscript": {
			"title": "TypoScript",
			"alias": "tsconfig",
			"aliasTitles": {
				"tsconfig": "TSConfig"
			},
			"owner": "dkern"
		},
		"unrealscript": {
			"title": "UnrealScript",
			"alias": ["uscript", "uc"],
			"owner": "RunDevelopment"
		},
		"uorazor": {
			"title": "UO Razor Script",
			"owner": "jaseowns"
		},
		"uri": {
			"title": "URI",
			"alias": "url",
			"aliasTitles": {
				"url": "URL"
			},
			"owner": "RunDevelopment"
		},
		"v": {
			"title": "V",
			"require": "clike",
			"owner": "taggon"
		},
		"vala": {
			"title": "Vala",
			"require": "clike",
			"optional": "regex",
			"owner": "TemplarVolk"
		},
		"vbnet": {
			"title": "VB.Net",
			"require": "basic",
			"owner": "Bigsby"
		},
		"velocity": {
			"title": "Velocity",
			"require": "markup",
			"owner": "Golmote"
		},
		"verilog": {
			"title": "Verilog",
			"owner": "a-rey"
		},
		"vhdl": {
			"title": "VHDL",
			"owner": "a-rey"
		},
		"vim": {
			"title": "vim",
			"owner": "westonganger"
		},
		"visual-basic": {
			"title": "Visual Basic",
			"alias": ["vb", "vba"],
			"aliasTitles": {
				"vba": "VBA"
			},
			"owner": "Golmote"
		},
		"warpscript": {
			"title": "WarpScript",
			"owner": "RunDevelopment"
		},
		"wasm": {
			"title": "WebAssembly",
			"owner": "Golmote"
		},
		"web-idl": {
			"title": "Web IDL",
			"alias": "webidl",
			"owner": "RunDevelopment"
		},
		"wgsl": {
			"title": "WGSL",
			"owner": "Dr4gonthree"
		},
		"wiki": {
			"title": "Wiki markup",
			"require": "markup",
			"owner": "Golmote"
		},
		"wolfram": {
			"title": "Wolfram language",
			"alias": ["mathematica", "nb", "wl"],
			"aliasTitles": {
				"mathematica": "Mathematica",
				"nb": "Mathematica Notebook"
			},
			"owner": "msollami"
		},
		"wren": {
			"title": "Wren",
			"owner": "clsource"
		},
		"xeora": {
			"title": "Xeora",
			"require": "markup",
			"alias": "xeoracube",
			"aliasTitles": {
				"xeoracube": "XeoraCube"
			},
			"owner": "freakmaxi"
		},
		"xml-doc": {
			"title": "XML doc (.net)",
			"require": "markup",
			"modify": ["csharp", "fsharp", "vbnet"],
			"owner": "RunDevelopment"
		},
		"xojo": {
			"title": "Xojo (REALbasic)",
			"owner": "Golmote"
		},
		"xquery": {
			"title": "XQuery",
			"require": "markup",
			"owner": "Golmote"
		},
		"yaml": {
			"title": "YAML",
			"alias": "yml",
			"owner": "hason"
		},
		"yang": {
			"title": "YANG",
			"owner": "RunDevelopment"
		},
		"zig": {
			"title": "Zig",
			"owner": "RunDevelopment"
		}
	},
	"plugins": {
		"meta": {
			"path": "plugins/{id}/prism-{id}",
			"link": "plugins/{id}/"
		},
		"line-highlight": {
			"title": "Line Highlight",
			"description": "Highlights specific lines and/or line ranges."
		},
		"line-numbers": {
			"title": "Line Numbers",
			"description": "Line number at the beginning of code lines.",
			"owner": "kuba-kubula"
		},
		"show-invisibles": {
			"title": "Show Invisibles",
			"description": "Show hidden characters such as tabs and line breaks.",
			"optional": [
				"autolinker",
				"data-uri-highlight"
			]
		},
		"autolinker": {
			"title": "Autolinker",
			"description": "Converts URLs and emails in code to clickable links. Parses Markdown links in comments."
		},
		"wpd": {
			"title": "WebPlatform Docs",
			"description": "Makes tokens link to <a href=\"https://webplatform.github.io/docs/\">WebPlatform.org documentation</a>. The links open in a new tab."
		},
		"custom-class": {
			"title": "Custom Class",
			"description": "This plugin allows you to prefix Prism's default classes (<code>.comment</code> can become <code>.namespace--comment</code>) or replace them with your defined ones (like <code>.editor__comment</code>). You can even add new classes.",
			"owner": "dvkndn",
			"noCSS": true
		},
		"file-highlight": {
			"title": "File Highlight",
			"description": "Fetch external files and highlight them with Prism. Used on the Prism website itself.",
			"noCSS": true
		},
		"show-language": {
			"title": "Show Language",
			"description": "Display the highlighted language in code blocks (inline code does not show the label).",
			"owner": "nauzilus",
			"noCSS": true,
			"require": "toolbar"
		},
		"jsonp-highlight": {
			"title": "JSONP Highlight",
			"description": "Fetch content with JSONP and highlight some interesting content (e.g. GitHub/Gists or Bitbucket API).",
			"noCSS": true,
			"owner": "nauzilus"
		},
		"highlight-keywords": {
			"title": "Highlight Keywords",
			"description": "Adds special CSS classes for each keyword for fine-grained highlighting.",
			"owner": "vkbansal",
			"noCSS": true
		},
		"remove-initial-line-feed": {
			"title": "Remove initial line feed",
			"description": "Removes the initial line feed in code blocks.",
			"owner": "Golmote",
			"noCSS": true
		},
		"inline-color": {
			"title": "Inline color",
			"description": "Adds a small inline preview for colors in style sheets.",
			"require": "css-extras",
			"owner": "RunDevelopment"
		},
		"previewers": {
			"title": "Previewers",
			"description": "Previewers for angles, colors, gradients, easing and time.",
			"require": "css-extras",
			"owner": "Golmote"
		},
		"autoloader": {
			"title": "Autoloader",
			"description": "Automatically loads the needed languages to highlight the code blocks.",
			"owner": "Golmote",
			"noCSS": true
		},
		"keep-markup": {
			"title": "Keep Markup",
			"description": "Prevents custom markup from being dropped out during highlighting.",
			"owner": "Golmote",
			"optional": "normalize-whitespace",
			"noCSS": true
		},
		"command-line": {
			"title": "Command Line",
			"description": "Display a command line with a prompt and, optionally, the output/response from the commands.",
			"owner": "chriswells0"
		},
		"unescaped-markup": {
			"title": "Unescaped Markup",
			"description": "Write markup without having to escape anything."
		},
		"normalize-whitespace": {
			"title": "Normalize Whitespace",
			"description": "Supports multiple operations to normalize whitespace in code blocks.",
			"owner": "zeitgeist87",
			"optional": "unescaped-markup",
			"noCSS": true
		},
		"data-uri-highlight": {
			"title": "Data-URI Highlight",
			"description": "Highlights data-URI contents.",
			"owner": "Golmote",
			"noCSS": true
		},
		"toolbar": {
			"title": "Toolbar",
			"description": "Attach a toolbar for plugins to easily register buttons on the top of a code block.",
			"owner": "mAAdhaTTah"
		},
		"copy-to-clipboard": {
			"title": "Copy to Clipboard Button",
			"description": "Add a button that copies the code block to the clipboard when clicked.",
			"owner": "mAAdhaTTah",
			"require": "toolbar",
			"noCSS": true
		},
		"download-button": {
			"title": "Download Button",
			"description": "A button in the toolbar of a code block adding a convenient way to download a code file.",
			"owner": "Golmote",
			"require": "toolbar",
			"noCSS": true
		},
		"match-braces": {
			"title": "Match braces",
			"description": "Highlights matching braces.",
			"owner": "RunDevelopment"
		},
		"diff-highlight": {
			"title": "Diff Highlight",
			"description": "Highlights the code inside diff blocks.",
			"owner": "RunDevelopment",
			"require": "diff"
		},
		"filter-highlight-all": {
			"title": "Filter highlightAll",
			"description": "Filters the elements the <code>highlightAll</code> and <code>highlightAllUnder</code> methods actually highlight.",
			"owner": "RunDevelopment",
			"noCSS": true
		},
		"treeview": {
			"title": "Treeview",
			"description": "A language with special styles to highlight file system tree structures.",
			"owner": "Golmote"
		}
	}
}


================================================
File: /composer.json
================================================
{
  "name": "prismjs/prism",
  "description": "Lightweight, robust, elegant syntax highlighting. A spin-off project from Dabblet.",
  "type": "component",
  "license": "MIT",
  "extra": {
    "component": {
      "scripts": [
        "prism.js"
      ],
      "styles": [
        "themes/prism.css"
      ],
      "files": [
        "themes/*",
        "components/*"
      ]
    }
  }
}


================================================
File: /dangerfile.js
================================================
const { markdown } = require('danger');
const fs = require('fs').promises;
const gzipSize = require('gzip-size');
const git = require('simple-git').gitP(__dirname);

/**
 * Returns the contents of a text file in the base of the PR.
 *
 * The base is usually PrismJS/prism/master.
 *
 * @param {string} path
 * @returns {Promise<string>}
 */
function readBaseFile(path) {
	return fs.readFile(path, 'utf-8');
}
/**
 * Returns the contents of a text file in the pull request branch.
 *
 * @param {string} path
 * @returns {Promise<string>}
 */
function readPRFile(path) {
	return git.show([`pr:${path}`]);
}

/**
 * Returns the relative paths of all files changed in the PR.
 *
 * @returns {Promise<string[]>}
 */
const getChangedFiles = async () => {
	// Determine the merge base between master and the PR branch.
	// If files changed in master since PR was branched they would show in the diff otherwise.
	// https://stackoverflow.com/questions/25071579/list-all-files-changed-in-a-pull-request-in-git-github
	const mergeBase = (await git.raw(['merge-base', 'pr', 'HEAD'])).trim();
	const result = await git.diff(['--name-only', '--no-renames', 'pr', mergeBase]);
	return (result || '').trim().split(/\r?\n/g);
};

const getChangedMinifiedFiles = async () => {
	const changed = await getChangedFiles();
	return changed.filter(file => file.endsWith('.min.js'));
};

// https://stackoverflow.com/questions/15900485/correct-way-to-convert-size-in-bytes-to-kb-mb-gb-in-javascript
const formatBytes = (bytes, decimals = 2) => {
	if (bytes === 0) {
		return '0 Bytes';
	}

	const k = 1000;
	const dm = decimals < 0 ? 0 : decimals;
	const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];

	const i = Math.floor(Math.log(Math.abs(bytes)) / Math.log(k));

	return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
};

const maybePlus = (from, to) => from < to ? '+' : '';

const absDiff = (from, to) => {
	if (from === to) {
		return formatBytes(0);
	}

	return `${maybePlus(from, to)}${formatBytes(to - from)}`;
};

const percDiff = (from, to) => {
	if (from === to) {
		return '0%';
	}

	return `${maybePlus(from, to)}${(100 * (to - from) / (from || to)).toFixed(1)}%`;
};

const getSummary = (rows, totalMasterFileSize, totalFileSize) => {
	const numFiles = rows.length;
	const maybeS = rows.length > 0 ? 's' : '';
	const byteDiff = absDiff(totalMasterFileSize, totalFileSize);
	const percentDiff = percDiff(totalMasterFileSize, totalFileSize);

	return `A total of ${numFiles} file${maybeS} have changed, with a combined diff of ${byteDiff} (${percentDiff}).`;
};

const run = async () => {
	const minified = await getChangedMinifiedFiles();

	if (minified.length === 0) {
		markdown(`## No JS Changes`);
		return;
	}

	const rows = [];
	let totalFileSize = 0;
	let totalMasterFileSize = 0;

	for (const file of minified) {
		const [fileContents, fileMasterContents] = await Promise.all([
			readPRFile(file).catch(() => ''),
			readBaseFile(file).catch(() => ''),
		]);

		const [fileSize, fileMasterSize] = await Promise.all([
			gzipSize(fileContents),
			gzipSize(fileMasterContents),
		]);

		totalFileSize += fileSize;
		totalMasterFileSize += fileMasterSize;

		rows.push([
			file,
			formatBytes(fileMasterSize),
			formatBytes(fileSize),
			absDiff(fileMasterSize, fileSize),
			percDiff(fileMasterSize, fileSize),
		]);
	}

	markdown(`## JS File Size Changes (gzipped)

${getSummary(rows, totalMasterFileSize, totalFileSize)}

<details>

| file | master | pull | size diff | % diff |
| --- | --- | --- | --- | --- |
${rows.map(row => `| ${row.join(' | ')} |`).join('\n')}

</details>
`);
};

run().catch(err => {
	console.error(err);
	process.exit(1);
});


================================================
File: /dependencies.js
================================================
'use strict';

/**
 * @typedef {Object<string, ComponentCategory>} Components
 * @typedef {Object<string, ComponentEntry | string>} ComponentCategory
 *
 * @typedef ComponentEntry
 * @property {string} [title] The title of the component.
 * @property {string} [owner] The GitHub user name of the owner.
 * @property {boolean} [noCSS=false] Whether the component doesn't have style sheets which should also be loaded.
 * @property {string | string[]} [alias] An optional list of aliases for the id of the component.
 * @property {Object<string, string>} [aliasTitles] An optional map from an alias to its title.
 *
 * Aliases which are not in this map will the get title of the component.
 * @property {string | string[]} [optional]
 * @property {string | string[]} [require]
 * @property {string | string[]} [modify]
 */

var getLoader = (function () {

	/**
	 * A function which does absolutely nothing.
	 *
	 * @type {any}
	 */
	var noop = function () { };

	/**
	 * Invokes the given callback for all elements of the given value.
	 *
	 * If the given value is an array, the callback will be invokes for all elements. If the given value is `null` or
	 * `undefined`, the callback will not be invoked. In all other cases, the callback will be invoked with the given
	 * value as parameter.
	 *
	 * @param {null | undefined | T | T[]} value
	 * @param {(value: T, index: number) => void} callbackFn
	 * @returns {void}
	 * @template T
	 */
	function forEach(value, callbackFn) {
		if (Array.isArray(value)) {
			value.forEach(callbackFn);
		} else if (value != null) {
			callbackFn(value, 0);
		}
	}

	/**
	 * Returns a new set for the given string array.
	 *
	 * @param {string[]} array
	 * @returns {StringSet}
	 *
	 * @typedef {Object<string, true>} StringSet
	 */
	function toSet(array) {
		/** @type {StringSet} */
		var set = {};
		for (var i = 0, l = array.length; i < l; i++) {
			set[array[i]] = true;
		}
		return set;
	}

	/**
	 * Creates a map of every components id to its entry.
	 *
	 * @param {Components} components
	 * @returns {EntryMap}
	 *
	 * @typedef {{ readonly [id: string]: Readonly<ComponentEntry> | undefined }} EntryMap
	 */
	function createEntryMap(components) {
		/** @type {Object<string, Readonly<ComponentEntry>>} */
		var map = {};

		for (var categoryName in components) {
			var category = components[categoryName];
			for (var id in category) {
				if (id != 'meta') {
					/** @type {ComponentEntry | string} */
					var entry = category[id];
					map[id] = typeof entry == 'string' ? { title: entry } : entry;
				}
			}
		}

		return map;
	}

	/**
	 * Creates a full dependencies map which includes all types of dependencies and their transitive dependencies.
	 *
	 * @param {EntryMap} entryMap
	 * @returns {DependencyResolver}
	 *
	 * @typedef {(id: string) => StringSet} DependencyResolver
	 */
	function createDependencyResolver(entryMap) {
		/** @type {Object<string, StringSet>} */
		var map = {};
		var _stackArray = [];

		/**
		 * Adds the dependencies of the given component to the dependency map.
		 *
		 * @param {string} id
		 * @param {string[]} stack
		 */
		function addToMap(id, stack) {
			if (id in map) {
				return;
			}

			stack.push(id);

			// check for circular dependencies
			var firstIndex = stack.indexOf(id);
			if (firstIndex < stack.length - 1) {
				throw new Error('Circular dependency: ' + stack.slice(firstIndex).join(' -> '));
			}

			/** @type {StringSet} */
			var dependencies = {};

			var entry = entryMap[id];
			if (entry) {
				/**
				 * This will add the direct dependency and all of its transitive dependencies to the set of
				 * dependencies of `entry`.
				 *
				 * @param {string} depId
				 * @returns {void}
				 */
				function handleDirectDependency(depId) {
					if (!(depId in entryMap)) {
						throw new Error(id + ' depends on an unknown component ' + depId);
					}
					if (depId in dependencies) {
						// if the given dependency is already in the set of deps, then so are its transitive deps
						return;
					}

					addToMap(depId, stack);
					dependencies[depId] = true;
					for (var transitiveDepId in map[depId]) {
						dependencies[transitiveDepId] = true;
					}
				}

				forEach(entry.require, handleDirectDependency);
				forEach(entry.optional, handleDirectDependency);
				forEach(entry.modify, handleDirectDependency);
			}

			map[id] = dependencies;

			stack.pop();
		}

		return function (id) {
			var deps = map[id];
			if (!deps) {
				addToMap(id, _stackArray);
				deps = map[id];
			}
			return deps;
		};
	}

	/**
	 * Returns a function which resolves the aliases of its given id of alias.
	 *
	 * @param {EntryMap} entryMap
	 * @returns {(idOrAlias: string) => string}
	 */
	function createAliasResolver(entryMap) {
		/** @type {Object<string, string> | undefined} */
		var map;

		return function (idOrAlias) {
			if (idOrAlias in entryMap) {
				return idOrAlias;
			} else {
				// only create the alias map if necessary
				if (!map) {
					map = {};

					for (var id in entryMap) {
						var entry = entryMap[id];
						forEach(entry && entry.alias, function (alias) {
							if (alias in map) {
								throw new Error(alias + ' cannot be alias for both ' + id + ' and ' + map[alias]);
							}
							if (alias in entryMap) {
								throw new Error(alias + ' cannot be alias of ' + id + ' because it is a component.');
							}
							map[alias] = id;
						});
					}
				}
				return map[idOrAlias] || idOrAlias;
			}
		};
	}

	/**
	 * @typedef LoadChainer
	 * @property {(before: T, after: () => T) => T} series
	 * @property {(values: T[]) => T} parallel
	 * @template T
	 */

	/**
	 * Creates an implicit DAG from the given components and dependencies and call the given `loadComponent` for each
	 * component in topological order.
	 *
	 * @param {DependencyResolver} dependencyResolver
	 * @param {StringSet} ids
	 * @param {(id: string) => T} loadComponent
	 * @param {LoadChainer<T>} [chainer]
	 * @returns {T}
	 * @template T
	 */
	function loadComponentsInOrder(dependencyResolver, ids, loadComponent, chainer) {
		var series = chainer ? chainer.series : undefined;
		var parallel = chainer ? chainer.parallel : noop;

		/** @type {Object<string, T>} */
		var cache = {};

		/**
		 * A set of ids of nodes which are not depended upon by any other node in the graph.
		 *
		 * @type {StringSet}
		 */
		var ends = {};

		/**
		 * Loads the given component and its dependencies or returns the cached value.
		 *
		 * @param {string} id
		 * @returns {T}
		 */
		function handleId(id) {
			if (id in cache) {
				return cache[id];
			}

			// assume that it's an end
			// if it isn't, it will be removed later
			ends[id] = true;

			// all dependencies of the component in the given ids
			var dependsOn = [];
			for (var depId in dependencyResolver(id)) {
				if (depId in ids) {
					dependsOn.push(depId);
				}
			}

			/**
			 * The value to be returned.
			 *
			 * @type {T}
			 */
			var value;

			if (dependsOn.length === 0) {
				value = loadComponent(id);
			} else {
				var depsValue = parallel(dependsOn.map(function (depId) {
					var value = handleId(depId);
					// none of the dependencies can be ends
					delete ends[depId];
					return value;
				}));
				if (series) {
					// the chainer will be responsibly for calling the function calling loadComponent
					value = series(depsValue, function () { return loadComponent(id); });
				} else {
					// we don't have a chainer, so we call loadComponent ourselves
					loadComponent(id);
				}
			}

			// cache and return
			return cache[id] = value;
		}

		for (var id in ids) {
			handleId(id);
		}

		/** @type {T[]} */
		var endValues = [];
		for (var endId in ends) {
			endValues.push(cache[endId]);
		}
		return parallel(endValues);
	}

	/**
	 * Returns whether the given object has any keys.
	 *
	 * @param {object} obj
	 */
	function hasKeys(obj) {
		for (var key in obj) {
			return true;
		}
		return false;
	}

	/**
	 * Returns an object which provides methods to get the ids of the components which have to be loaded (`getIds`) and
	 * a way to efficiently load them in synchronously and asynchronous contexts (`load`).
	 *
	 * The set of ids to be loaded is a superset of `load`. If some of these ids are in `loaded`, the corresponding
	 * components will have to reloaded.
	 *
	 * The ids in `load` and `loaded` may be in any order and can contain duplicates.
	 *
	 * @param {Components} components
	 * @param {string[]} load
	 * @param {string[]} [loaded=[]] A list of already loaded components.
	 *
	 * If a component is in this list, then all of its requirements will also be assumed to be in the list.
	 * @returns {Loader}
	 *
	 * @typedef Loader
	 * @property {() => string[]} getIds A function to get all ids of the components to load.
	 *
	 * The returned ids will be duplicate-free, alias-free and in load order.
	 * @property {LoadFunction} load A functional interface to load components.
	 *
	 * @typedef {<T> (loadComponent: (id: string) => T, chainer?: LoadChainer<T>) => T} LoadFunction
	 * A functional interface to load components.
	 *
	 * The `loadComponent` function will be called for every component in the order in which they have to be loaded.
	 *
	 * The `chainer` is useful for asynchronous loading and its `series` and `parallel` functions can be thought of as
	 * `Promise#then` and `Promise.all`.
	 *
	 * @example
	 * load(id => { loadComponent(id); }); // returns undefined
	 *
	 * await load(
	 *     id => loadComponentAsync(id), // returns a Promise for each id
	 *     {
	 *         series: async (before, after) => {
	 *             await before;
	 *             await after();
	 *         },
	 *         parallel: async (values) => {
	 *             await Promise.all(values);
	 *         }
	 *     }
	 * );
	 */
	function getLoader(components, load, loaded) {
		var entryMap = createEntryMap(components);
		var resolveAlias = createAliasResolver(entryMap);

		load = load.map(resolveAlias);
		loaded = (loaded || []).map(resolveAlias);

		var loadSet = toSet(load);
		var loadedSet = toSet(loaded);

		// add requirements

		load.forEach(addRequirements);
		function addRequirements(id) {
			var entry = entryMap[id];
			forEach(entry && entry.require, function (reqId) {
				if (!(reqId in loadedSet)) {
					loadSet[reqId] = true;
					addRequirements(reqId);
				}
			});
		}

		// add components to reload

		// A component x in `loaded` has to be reloaded if
		//  1) a component in `load` modifies x.
		//  2) x depends on a component in `load`.
		// The above two condition have to be applied until nothing changes anymore.

		var dependencyResolver = createDependencyResolver(entryMap);

		/** @type {StringSet} */
		var loadAdditions = loadSet;
		/** @type {StringSet} */
		var newIds;
		while (hasKeys(loadAdditions)) {
			newIds = {};

			// condition 1)
			for (var loadId in loadAdditions) {
				var entry = entryMap[loadId];
				forEach(entry && entry.modify, function (modId) {
					if (modId in loadedSet) {
						newIds[modId] = true;
					}
				});
			}

			// condition 2)
			for (var loadedId in loadedSet) {
				if (!(loadedId in loadSet)) {
					for (var depId in dependencyResolver(loadedId)) {
						if (depId in loadSet) {
							newIds[loadedId] = true;
							break;
						}
					}
				}
			}

			loadAdditions = newIds;
			for (var newId in loadAdditions) {
				loadSet[newId] = true;
			}
		}

		/** @type {Loader} */
		var loader = {
			getIds: function () {
				var ids = [];
				loader.load(function (id) {
					ids.push(id);
				});
				return ids;
			},
			load: function (loadComponent, chainer) {
				return loadComponentsInOrder(dependencyResolver, loadSet, loadComponent, chainer);
			}
		};

		return loader;
	}

	return getLoader;

}());

if (typeof module !== 'undefined') {
	module.exports = getLoader;
}


================================================
File: /download.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Download ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<style>
form label {
	display: block;
	padding: .2em;
	padding-left: 1.9em;
	page-break-inside: avoid;
	break-inside: avoid;
	-webkit-column-break-inside: avoid;
}

	form label .name {
		margin-right: .3em;
	}

	form label a.owner {
		margin-left: 0;
		hyphens: none;
	}

	form label input {
		margin-right: .7em;
		margin-left: -1.7em;
	}

form > p:first-of-type > label {
	font-size: 150%;
}

	form > p:first-of-type > label input {
		vertical-align: .3em;
	}

.filesize:empty {
	display: none;
}

#components {
	overflow: hidden;
}

section.options {
	width: 33.3%;
	width: calc(100% / 3);
	float: left;
}

section.options#category-languages,
section.options#category-plugins {
	width: 100%;
	float: none;
	column-count: 3;
	padding-top: 2em;
	overflow: visible;
}

	section.options#category-languages label,
	section.options#category-plugins label {
		break-inside: avoid;
	}
	section.options#category-languages > h1,
	section.options#category-plugins > h1 {
		margin-top: 0;
		column-span: all;
	}

	section.options#category-languages label[data-id="javascript"],
	section.options label[data-id^="check-all-"] {
		border-bottom: 1px solid #aaa;
		padding-bottom: 1em;
		margin-bottom: 1em;
	}

section.options#category-themes {
	width: 66.6%;
	width: calc(100% * 2/3);
	column-count: 2;
	overflow: visible;
	float: none;
}

	section.options#category-themes > h1 {
		column-span: all;
	}

section.download {
	width: 50%;
	float: left;
}

#download {
	overflow: hidden;
	padding: .3em;
}

	#download .error {
		color: #B61500;
		display: none;
	}
	#download pre {
		height: 20em;
	}
	#download .download-button {
		cursor: pointer;
		width: 100%;
	}

	#download-js .download-button {
		border-top-right-radius: 0;
		border-bottom-right-radius: 0;
	}

	#download-css .download-button {
		background-color: #dc9e23;
		border-top-left-radius: 0;
		border-bottom-left-radius: 0;
	}
</style>
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body>

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Customize your download</h2>
	<p>Select your compression level, as well as the languages and plugins you need.</p>
</header>

<section>
	<form>
		<p>
			Compression level:
			<label><input type="radio" name="compression" value="0" /> Development version</label>
			<label><input type="radio" name="compression" value="1" checked /> Minified version</label>
		</p>

		<section id="components"></section>

		<p>
			Total filesize: <strong id="filesize"></strong> (<strong id="percent-js"></strong> JavaScript + <strong id="percent-css"></strong> CSS)
		</p>
		<p><strong>Note:</strong> The filesizes displayed refer to non-gizipped files and include any CSS code required.</p>

		<section id="download">
			<div class="error"></div>
			<section id="download-js" class="download">
				<pre><code class="language-javascript"></code></pre>
				<button type="button" class="download-button">Download JS</button>
			</section>

			<section id="download-css" class="download">
				<pre><code class="language-css"></code></pre>
				<button type="button" class="download-button">Download CSS</button>
			</section>
		</section>

	</form>

</section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="components.js"></script>
<script src="dependencies.js"></script>
<script src="assets/code.js"></script>
<script src="assets/vendor/promise.js"></script>
<script src="assets/vendor/FileSaver.min.js"></script>
<script src="assets/download.js"></script>

</body>
</html>


================================================
File: /examples.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Examples ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<style>
#languages {
	column-count: 4;
}
	#languages > h1 {
		margin-top: 0;
		column-span: all;
	}
	#languages label {
		display: block;
		padding: .2em;
	}
	#languages label[data-id="javascript"] {
		border-bottom: 1px solid #aaa;
		padding-bottom: 1em;
		margin-bottom: 1em;
	}
	#languages .unavailable {
		color: #aaa;
	}
	#languages input {
		margin-right: .7em;
	}

#examples > section {
	display: block;
	margin: auto;
	max-width: 900px;
}
	#examples h3 {
		margin: 1em 0 0.3em;
	}
ul {
	padding-left: 40px;
}
</style>
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body>

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Examples</h2>
	<p>The examples in this page serve a dual purpose: They act as unit tests, making it easy to spot bugs, and at the same time demonstrate what Prism can do, on simple and on edge cases.</p>
</header>

<section class="language-markup">
	<h1>Different markup</h1>

	<h2>code.language-css</h2>
	<code class="language-css">p { color: red; }</code>

	<h2>pre.language-css > code</h2>
	<pre class="language-css"><code>p { color: red; }</code></pre>

	<h2>pre > code.language-css</h2>
	<pre><code class="language-css">p { color: red; }</code></pre>

	<h2>pre.language-css > code.language-*</h2>
	<pre class="language-css"><code class="language-*">p { color: red; }</code></pre>

	<h2>code.lang-css</h2>
	<code class="lang-css">p { color: red; }</code>

	<h2>pre.lang-css > code</h2>
	<pre class="lang-css"><code>p { color: red; }</code></pre>

	<h2>pre > code</h2>
	<p>No language, should inherit .language-markup</p>
	<pre><code>&lt;p>hi!&lt;/p></code></pre>

	<h2>code.language-*</h2>
	<p>No language, should inherit .language-markup</p>
	<code class="language-*">&lt;p>hi!&lt;/p></code>

	<h2>code.language-none</h2>
	<p>Should not be highlighted.</p>
	<code class="language-none">&lt;p>hi!&lt;/p></code>
</section>

<section>
	<h1>Per language examples</h1>
	<div id="languages"></div>
</section>
<section id="examples"></section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="plugins/autoloader/prism-autoloader.js" data-autoloader-path="components/"></script>
<script src="components.js"></script>
<script src="assets/code.js"></script>
<script src="assets/vendor/promise.js"></script>
<script src="assets/examples.js"></script>

</body>
</html>


================================================
File: /extending.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Extending Prism ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<link rel="stylesheet" href="plugins/line-highlight/prism-line-highlight.css" data-noprefix />
<script src="assets/vendor/prefixfree.min.js"></script>
<style>
ol.indent {
	margin: 1em 0;
	padding-left: 2em;
}
</style>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body class="language-javascript">

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Extending Prism</h2>
	<p>Prism is awesome out of the box, but it’s even awesomer when it’s customized to your own needs. This section will help you write new language definitions, plugins and all-around Prism hacking.</p>
</header>

<section id="language-definitions">
	<h1>Language definitions</h1>

	<p>Every language is defined as a set of tokens, which are expressed as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions" target="_blank" rel="noopener noreferrer">regular expressions</a>. For example, this is the language definition for JSON:</p>
	<pre data-src="components/prism-json.js"></pre>

	<p>At its core, a language definition is just a JavaScript object, and a token is just an entry of the language definition. The simplest language definition is an empty object:</p>
	<pre><code class="language-javascript">Prism.languages['some-language'] = { };</code></pre>

	<p>Unfortunately, an empty language definition isn't very useful, so let's add a token. The simplest way to express a token is using a regular expression literal:</p>
	<pre><code class="language-javascript">Prism.languages['some-language'] = {
	'token-name': /regex/,
};</code></pre>

	<p>Alternatively, an object literal can also be used. With this notation, the regular expression describing the token is the <code>pattern</code> property of the object:</p>
	<pre><code class="language-javascript">Prism.languages['some-language'] = {
	'token-name': {
		pattern: /regex/
	},
};</code></pre>

	<p>So far, the functionality is exactly the same between the regex and object notations. However, the object notation allows for <a href="#object-notation">additional options</a>. More on that later.</p>

	<p>The name of a token can theoretically be any string that is also a valid CSS class, but there are <a href="#token-names">some guidelines to follow</a>. More on that later.</p>

	<p>Language definitions can have any number of tokens, but the name of each token must be unique:</p>
	<pre><code class="language-javascript">Prism.languages['some-language'] = {
	'token-1': /I love regexes!/,
	'token-2': /regex/,
};</code></pre>

	<p>Prism will match tokens against the input text one after the other, in order, and tokens cannot overlap with the matches of previous tokens. So in the above example, <code class="language-none">token-2</code> will not match the substring "regex" inside of matches of <code class="language-none">token-1</code>. More information about <a href="#matching-algorithm">Prism's matching algorithm </a> later.</p>

	<p>Lastly, in many languages, there are multiple different ways of declaring the same constructs (e.g. comments, strings, ...) and sometimes it is difficult or unpractical to match all of them with one single regular expression. To add multiple regular expressions for one token name, an array can be used:</p>
	<pre><code class="language-javascript">Prism.languages['some-language'] = {
	'token-name': [
		/regex 1/,
		/regex 2/,
		{ pattern: /regex 3/ }
	],
};</code></pre>

	<p>Note: An array <strong>cannot</strong> be used in the <code>pattern</code> property.</p>


	<h2 id="object-notation">Object notation</h2>

	<p>Instead of using just plain regular expressions, Prism also supports an object notation for tokens. This notation enables the following options:</p>

	<dl>
		<dt id="object-notation-pattern"><code>pattern: RegExp</code></dt>
		<dd>
			<p>This is the only required option. It holds the regular expression of the token.</p>
		</dd>

		<dt id="object-notation-lookbehind"><code>lookbehind: boolean</code></dt>
		<dd>
			<p>This option mitigates JavaScript's poor browser support for lookbehinds. When set to <code>true</code>, the first capturing group in the <code>pattern</code> regex is discarded when matching this token, so it effectively functions as a lookbehind.</p>

			<p>For an example of this, check out how the C-like language definition finds <code class="language-none">class-name</code> tokens:</p>
			<pre><code>Prism.languages.clike = {
	// ...
	'class-name': {
		pattern: /(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+)\w+/i,
		lookbehind: true
	}
};</code></pre>
		</dd>

		<dt id="object-notation-greedy"><code>greedy: boolean</code></dt>
		<dd>
			<p>This option enables greedy matching for the token. For more information, see the section about <a href="#matching-algorithm">the matching algorithm</a>.</p>
		</dd>

		<dt id="object-notation-alias"><code>alias: string | string[]</code></dt>
		<dd>
			<p>This option can be used to define one or more aliases for the token. The result will be that the styles of the token name and the alias(es) are combined. This can be useful to combine the styling of a <a href="/tokens.html">standard token</a>, which is already supported by most of the themes, with a more precise token name. For more information on this topic, see <a href="#granular-highlighting">granular highlighting</a>.</p>

			<p>E.g. the token name <code class="language-none">latex-equation</code> is not supported by most themes, but it will be highlighted the same as a string in the following example:</p>
			<pre><code class="language-javascript">Prism.languages.latex = {
	// ...
	'latex-equation': {
		pattern: /\$.*?\$/,
		alias: 'string'
	}
};</code></pre>
		</dd>

		<dt id="object-notation-inside"><code>inside: Grammar</code></dt>
		<dd>
			<p>This option accepts another object literal, with tokens that are allowed to be nested in this token. All tokens in the <code>inside</code> grammar will be encapsulated by this token. This makes it easier to define certain languages.</p>

			<p>For an example of nested tokens, check out the <code>url</code> token in the CSS language definition:</p>
			<pre><code>Prism.languages.css = {
	// ...
	'url': {
		// e.g. url(https://example.com)
		pattern: /\burl\(.*?\)/i,
		inside: {
			'function': /^url/i,
			'punctuation': /^\(|\)$/
		}
	}
};</code></pre>

			<p>The <code>inside</code> option can also be used to create recursive languages. This is useful for languages where one token can contain arbitrary expressions, e.g. languages with a string interpolation syntax.</p>

			<p>For example, here is how JavaScript implements template string interpolation:</p>
			<pre><code>Prism.languages.javascript = {
	// ...
	'template-string': {
		pattern: /`(?:\\.|\$\{[^{}]*\}|(?!\$\{)[^\\`])*`/,
		inside: {
			'interpolation': {
				pattern: /\$\{[^{}]*\}/,
				inside: {
					'punctuation': /^\$\{|\}$/,
					'expression': {
						pattern: /[\s\S]+/,
						inside: null // see below
					}
				}
			}
		}
	}
};
Prism.languages.javascript['template-string'].inside['interpolation'].inside['expression'].inside = Prism.languages.javascript;</code></pre>

			<p>Be careful when creating recursive grammars as they might lead to infinite recursion which will cause a stack overflow.</p>
		</dd>
	</dl>


	<h2 id="token-names">Token names</h2>

	<p>The name of a token determines the <em>semantic meaning</em> of matched text of the token. Tokens can capture anything from simple language constructs, like comments, to more complex ones, like template string interpolation expressions. Token names differentiate these language constructs.</p>

	<p>A token name can theoretically be any string that is a valid CSS class name. However, in practice, it makes sense for token names to follow some rules. In Prism's code, we enforce that all token names use kebab case (<code class="language-none">foo-bar</code>) and contain only lower-case ASCII letters, digits, and hyphen characters. E.g. <code class="language-none">class-name</code> is allowed but <code class="language-none">Class_name</code> is not.</p>

	<p>Prism also defines some <a href="tokens.html">standard tokens names</a> that should be used for most tokens.</p>

	<h3 id="token-names-and-themes">Themes</h3>

	<p>Prism's themes assign color (and other styles) to tokens based on their name (and aliases). This means that the language definition does not control the color of tokens, themes do.</p>

	<p>However, themes only support a limited number of <strong>known token names</strong>. If a theme does not know a particular token name, no styles will be applied. While different themes may support different token names, all themes are guaranteed to support Prism's <a href="tokens.html">standard tokens</a>. Standard tokens as special token names with specific semantic meanings. They are the common ground all language definitions and themes agree on and must follow. Standard tokens should be preferred when choosing token names.</p>

	<h3 id="granular-highlighting">Granular highlighting</h3>

	<p>While standard tokens should be the preferred choice, they are also quite general. This is by design as they have to apply to a large number and variety of different languages, but sometimes more fine-grained tokenization (and subsequent highlighting) is desirable.</p>

	<p>Granular highlighting is a method of choosing token names to enable fine control for themes, while also ensuring compatibility with all themes.</p>

	<p>Let's look at an example. Say we had a language that supported both decimal and binary literals for numbers, and we wanted to give binary number special highlighting. We might implement it like this:</p>
	<pre><code class="language-javascript">Prism.languages['my-language'] = {
	// ...
	'number': /\b\d+(?:\.\d+)?\b/,
	'binary-number': /\b0b[01]+\b/,
};</code></pre>

	<p>But this has a problem. <code class="language-none">binary-number</code> is not a standard token, so almost no theme is going to given binary numbers any color.</p>

	<p>The solution to this problem is to use an <em>alias</em>:</p>
	<pre><code class="language-javascript">Prism.languages['my-language'] = {
	// ...
	'number': /\b\d+(?:\.\d+)?\b/,
	'binary-number': {
		pattern: /\b0b[01]+\b/,
		alias: 'number'
	},
};</code></pre>

	<p>Aliases allow themes to apply the styles of multiple names to one token. This means that themes that do support the <code class="language-none">binary-number</code> token name can assign a special color, and themes don't support it will fallback to their usual color for numbers.</p>

	<p>This is granular highlighting: using a non-standard token name and a standard token as an alias.</p>


	<h2 id="matching-algorithm">The matching algorithm</h2>

	<p>The job of Prism's matching algorithm is to produce a token stream given a language definition and some text. A token stream is Prism's representation of (partially or fully) tokenized text and is implemented as a list of strings (representing literal text) and tokens (representing tokenized text).</p>

	<p><em>Note:</em> The word "token" is ambiguous here. We use "token" to refer to both the entry of a language definition (as described in above sections) and a <a href="docs/Token.html">Token object</a> inside a token stream. Which type of "token" is meant can be inferred from context.</p>

	<p>The simplified token stream notation will be used in this section. Briefly, the notation uses JSON to represent a token stream. E.g. <code>["foo ", ["keyword", "bar"], " baz"]</code> is the simplified token stream notation for the token stream that starts with the string <code class="language-none">foo </code>, is followed by a token of type <code class="language-none">keyword</code> and text <code class="language-none">bar</code>, and ends with the string <code class="language-none"> baz</code>.</p>

	<p>Back to the matching algorithm: Prism's matching algorithm is a hybrid with two modes: first-come, first-served (FCFS) matching and greedy matching.</p>

	<h3 id="fcfs-matching">FCFS matching</h3>

	<p>This is Prism default matching mode. All tokens are matched one after the other, in order, tokens cannot overlap, and tokens cannot match text that is already matched by previous tokens.</p>

	<p>The algorithm itself is quite simple. Let's say we wanted to tokenize the JS code <code>max(3, 5, exp2(7));</code> and that function tokens had already been processed. The current token stream would be:</p>
	<pre><code>[
	["function", "max"],
	"(3, 5, ",
	["function", "exp2"],
	"(7));"
]</code></pre>

	<p>Next, we would tokenize numbers with the token <code>'number': /[0-9]+/</code>.</p>

	<p>FCFS matching will go through all strings in the current token stream to find matches for the number regex. The first string is <code>"(3, 5, "</code>, so the match <code>3</code> is found. A new token is created for <code>3</code> and inserted into the token stream to replace the matching text. The token stream is now:</p>
	<pre><code>[
	["function", "max"],
	"(",
	["number", "3"],
	", 5, ",
	["function", "exp2"],
	"(7));"
]</code></pre>

	<p>Now, the algorithm goes to the next string <code>", 5, "</code> and finds another match. A new token is created for <code>5</code> and the token stream is now:</p>
	<pre><code>[
	["function", "max"],
	"(",
	["number", "3"],
	", ",
	["number", "5"],
	", ",
	["function", "exp2"],
	"(7));"
]</code></pre>

	<p>The next string is <code>", "</code> and no matches are found. The string after that is <code>"(7));"</code> and a new token is create for <code>7</code>:
	<pre><code>[
	["function", "max"],
	"(",
	["number", "3"],
	", ",
	["number", "5"],
	", ",
	["function", "exp2"],
	"(",
	["number", "7"],
	"));"
]</code></pre>

	<p>The last string to check is <code>"));"</code> and no matches are found. The number token has now been processed and the algorithm will go process the next token in the language definition.</p>

	<p>Notice how FCFS matching did not find the <code>2</code> in <code>exp2</code>. Since FCFS matching completely ignores existing tokens in the token stream, the number regex cannot see already-tokenized text. This is a very useful property. In the above example, <code>2</code> is a part of the function name <code>exp2</code>, so highlighting it as a number would be incorrect.</p>

	<h3 id="greedy-matching">Greedy matching</h3>

	<p>Greedy matching is very similar to FCFS matching. All tokens are matched in order and tokens cannot overlap. The defining difference is that greedy tokens <strong>can</strong> match the text of previous tokens.</p>

	<p>Let's look at an example to see why greedy matching is useful and how it works <em>conceptually</em>. A very simplified version of JavaScript's comment and string syntax might be implemented like this:</p>
	<pre><code>Prism.languages.javascript = {
	'comment': /\/\/.*/,
	'string': /'(?:\\.|[^\\\r\n])*'/
};</code></pre>

	<p>To understand why greedy matching is useful, let's look at how FCFS matching would tokenize the text <code>'http://example.com'</code>:</p>

	<p>FCFS matching starts with the token stream <code>["'http://example.com'"]</code> and tries to find matches for <code>'comment': /\/\/.*/</code>. The match <code class="language-none">//example.com'</code> is found and inserted into the token stream:</p>
	<pre><code>[
	"'http:",
	["comment", "//example.com'"]
]</code></pre>

	<p>Then FCFS matching will search for matches for <code>'string': /'(?:\\.|[^'\\\r\n])*'/</code>. The first string of the token stream, <code>"'http:"</code>, does not match the string regex, so the token stream remains unchanged. The string token has now been processed and the above token stream is the final result.</p>

	<p>Obviously, this is bad. The code <code>'http://example.com'</code> is clearly just a string containing a URL, but FCFS matching doesn't understand this.</p>

	<p>An obvious, but incorrect, fix might be to swap the order of <code>comment</code> and <code>string</code>. This would fix <code>'http://example.com'</code>. However, the problem was merely moved. Comments like <code>// it's my co-worker's code</code> (note the two single quotes) will now be tokenized incorrectly.</p>

	<p>This is <strong>the problem greedy matching solves</strong>. Let's make the tokens greedy and then see how this affects the result:</p>
	<pre><code>Prism.languages.javascript = {
	'comment': {
		pattern: /\/\/.*/,
		greedy: true
	},
	'string': {
		pattern: /'(?:\\.|[^'\\\r\n])*'/,
		greedy: true
	}
};</code></pre>

	<p>While the actual greedy matching algorithm is quite complex and littered with subtle edge cases, its effect quite simple: a list of <strong>greedy tokens will behave as if they were matched by a single regex</strong>. This is how greedy matching works <em>conceptually</em> and how you should think about greedy tokens.</p>

	<p>This means that the greedy comment and string tokens will behave like the following language definition, but the combined token will result in the correct token names of the original greedy tokens:</p>
	<pre><code>Prism.languages.javascript = {
	'comment-or-string': /\/\/.*|'(?:\\.|[^'\\\r\n])*'/
};</code></pre>

	<p>In the above example, <code>'http://example.com'</code> will be matched by <code>/\/\/.*|'(?:\\.|[^'\\\r\n])*'/</code> completely. Since the <code class="language-none">'(?:\\.|[^'\\\r\n])*'</code> part of the regex caused the match, a token of type <code>string</code> will be created and the following token stream will be produced:</p>
	<pre><code>[
	["string", "'http://example.com'"]
]</code></pre>

	<p>Similarly, the tokenization will also be correct for the <code>// it's my co-worker's code</code> example.</p>

	<p>When deciding whether a token should be greedy, use the following guide lines:</p>

	<ol class="indent">
		<li>
			<p>Most tokens are not greedy.</p>

			<p>Most tokens in most languages are not greedy, because they don't need to be. Typically only the comment, string, and regex literal tokens need to be greedy. All other tokens can use FCFS matching.</p>

			<p>Generally, a token should only be greedy if it can contain the start of another token.</p>
		</li>
		<li>
			<p>All tokens before a greedy token should also be greedy.</p>

			<p>Greedy matching works subtly differently if there are non-greedy tokens before a greedy token. This typically leads to subtle and hard-to-catch bugs that sometimes take years to uncover.</p>

			<p>To make sure that greedy matching works as expected, the greedy tokens should be the first tokens of a language.</p>
		</li>
		<li>
			<p>Greedy tokens come in groups.</p>

			<p>If a language definition contains only a single greedy token, then the greedy token shouldn't be greedy. As explained above, greedy matching conceptually combines the regexes of all greedy tokens into one. If there is only one greedy token, greedy matching will behave like FCFS matching.</p>
		</li>
	</ol>

	<h2 id="helper-functions">Helper functions</h2>

	<p>Prism also provides some useful function for creating and modifying language definitions. <a href="docs/Prism.languages.html#.insertBefore"><code>Prism.languages.insertBefore</code></a> can be used to modify existing languages definitions. <a href="docs/Prism.languages.html#.extend"><code>Prism.languages.extend</code></a> is useful for when your language is very similar to another existing language.</p>


	<h2 id="rest">The rest property</h2>

	<p>The <code>rest</code> property in language definitions is special. Prism expects this property to be another language definition instead of a token. The tokens of the grammar in the <code>rest</code> property will be appended to the end of the language definition with the <code>rest</code> property. It can be thought of as a built-in object spread operator.</p>

	<p>This is useful for referring to tokens defined elsewhere. However, the <code>rest</code> property should be used sparingly. When referencing another language, it is typically better to encapsulate the text of the language into a token and use <a href="#object-notation-inside">the <code>inside</code> property</a> instead.</p>
</section>

<section id="creating-a-new-language-definition" class="language-none">
	<h1>Creating a new language definition</h1>

	<p>This section will explain the usual workflow of creating a new language definition.</p>

	<p>As an example, we will create the language definition of the fictional <em>Foo's Binary, Artistic Robots&trade;</em> language or just Foo Bar for short.</p>

	<ol class="indent">
		<li>
			<p>Create a new file <code>components/prism-foo-bar.js</code>.</p>

			<p>In this example, we choose <code>foo-bar</code> as the id of the new language. The language id has to be unique and should work well with the <code>language-xxxx</code> CSS class name Prism uses to refer to language definitions. Your language id should ideally match the regular expression <code>/^[a-z][a-z\d]*(?:-[a-z][a-z\d]*)*$/</code>.</p>
		</li>
		<li>
			<p>Edit <a href="https://github.com/PrismJS/prism/blob/master/components.json"><code>components.json</code></a> to register the new language by adding it to the <code>languages</code> object. (Please note that all language entries are sorted alphabetically by title.) <br>
			Our new entry for this example will look like this:</p>

			<pre><code class="language-json">"foo-bar": {
	"title": "Foo Bar",
	"owner": "Your GitHub name"
}</code></pre>

			<p>If your language definition depends any other languages, you have to specify this here as well by adding a <code class="language-js">"require"</code> property. E.g. <code class="language-js">"require": "clike"</code>, or <code class="language-js">"require": ["markup", "css"]</code>. For more information on dependencies read the <a href="#declaring-dependencies">declaring dependencies</a> section.</p>

			<p><em>Note:</em> Any changes made to <code>components.json</code> require a rebuild (see step 3).</p>
		</li>
		<li>
			<p>Rebuild Prism by running <code class="language-bash">npm run build</code>.</p>

			<p>This will make your language available to the <a href="test.html">test page</a>, or more precise: your local version of it. You can open your local <code>test.html</code> page in any browser, select your language, and see how your language definition highlights any code you input.</p>

			<p><em>Note:</em> You have to reload the test page to apply changes made to <code>prism-foo-bar.js</code> but you don't have to rebuild Prism itself. However, if you change <code>components.json</code> (e.g. because you added a dependency) then these changes will not show up on the test page until you rebuild Prism.</p>
		</li>
		<li>
			<p>Write the language definition.</p>

			<p>The <a href="#language-definitions">above section</a> already explains the makeup of language definitions.</p>
		</li>
		<li>
			<p>Adding aliases.</p>

			<p>Aliases for are useful if your language is known under more than just one name or there are very common abbreviations for your language (e.g. JS for JavaScript). Keep in mind that aliases are very similar to language ids in that they also have to be unique (i.e. there cannot be an alias which is the same as another alias of language id) and work as CSS class names.</p>

			<p>In this example, we will register the alias <code>foo</code> for <code>foo-bar</code> because Foo Bar code is stored in <code>.foo</code> files.</p>

			<p>To add the alias, we add this line at the end of <code>prism-foo-bar.js</code>:</p>

			<pre><code class="language-js">Prism.languages.foo = Prism.languages['foo-bar'];</code></pre>

			<p>Aliases also have to be registered in <code>components.json</code> by adding the <code>alias</code> property to the language entry. In this example, the updated entry will look like this:</p>

			<pre><code class="language-json">"foo-bar": {
	"title": "Foo Bar",
	"alias": "foo",
	"owner": "Your GitHub name"
}</code></pre>

			<p><em>Note:</em> <code>alias</code> can also be a string array if you need to register multiple aliases.</p>

			<p>Using <code>aliasTitles</code>, it's also possible to give aliases specific titles. In this example, this won't be necessary but a good example as to where this is useful is the markup language:</p>

			<pre><code class="language-json">"markup": {
	"title": "Markup",
	"alias": ["html", "xml", "svg", "mathml"],
	"aliasTitles": {
		"html": "HTML",
		"xml": "XML",
		"svg": "SVG",
		"mathml": "MathML"
	},
	"option": "default"
}</code></pre>
		</li>
		<li>
			<p>Adding tests.</p>

			<p>Create a folder <code>tests/languages/foo-bar/</code>. This is where your test files will live. The test format and how to run tests is described <a href="test-suite.html">here</a>.</p>

			<p>You should add a test for every major feature of your language. Test files should test the common case and certain edge cases (if any). Good examples are <a href="https://github.com/PrismJS/prism/tree/master/tests/languages/javascript">the tests of the JavaScript language</a>.</p>

			<p>You can use this template for new <code>.test</code> files:</p>

			<pre><code class="language-json">The code to test.

----------------------------------------------------

----------------------------------------------------

Brief description.</code></pre>

			<p>For every test file:</p>

			<ol class="indent">
				<li>
					<p>Add the code to test and a brief description.</p>
				</li>
				<li>
					<p>Verify that your language definition correctly highlights the test code. This can be done using your local version of the test page. <br>
					<em>Note:</em> Using the <em>Show tokens</em> options, you see the token stream your language definition created.</p>
				</li>
				<li>
					<p>Once you <strong>carefully checked</strong> that the test case is handled correctly (i.e. by using the test page), run the following command:</p>
					<code class="language-bash">npm run test:languages -- --language=foo-bar --accept</code>
					<p>This command will take the token stream your language definition currently produces and inserted into the test file. The empty space between the two lines separating the code and the description of test case will be replaced with a <a href="test-suite.html#writing-tests-explaining-the-simplified-token-stream">simplified version of the token stream</a>.</p>
				</li>
				<li>
					<p><strong>Carefully check</strong> that the inserted token stream JSON is what you expect.</p>
				</li>
				<li>Re-run <code class="language-bash">npm run test:languages -- --language=foo-bar</code> to verify that the test passes.</li>
			</ol>
		</li>
		<li>
			<p>Add an example page.</p>

			<p>Create a new file <code>examples/prism-foo-bar.html</code>. This will be the template containing the example markup. Just look at other examples to see how these files are structured. <br>
			We don't have any rules as to what counts as an example, so a single <em>Full example</em> section where you present the highlighting of the major features of the language is enough.</p>
		</li>
		<li>
			<p>Run <code class="language-bash">npm test</code> to check that <em>all</em> tests pass, not just your language tests.<br>
			This will usually pass without problems. If you can't get all the tests to pass, skip this step.</p>
		</li>
		<li>
			<p>Run <code class="language-bash">npm run build</code> again.</p>

			<p>Your language definition is now ready!</p>
		</li>
	</ol>
</section>


<section id="dependencies" class="language-none">
	<h1>Dependencies</h1>

	<p>Languages and plugins can depend on each other, so Prism has its own dependency system to declare and resolve dependencies.</p>

	<h2 id="declaring-dependencies">Declaring dependencies</h2>

	<p>You declare a dependency by adding a property to the entry of your language or plugin in the <a href="https://github.com/PrismJS/prism/blob/master/components.json"><code>components.json</code></a> file. The name of the property will be dependency kind and its value will be the component id of the dependee. If multiple languages or plugins are depended upon then you can also declare an array of component ids.</p>

	<p>In the following example, we will use the <code>require</code> dependency kind to declare that a fictional language Foo depends on the JavaScript language and that another fictional language Bar depends on both JavaScript and CSS.</p>

	<pre class="language-json" data-line="8,12"><code>{
	"languages": {
		"javascript": { "title": "JavaScript" },
		"css": { "title": "CSS" },
		...,
		"foo": {
			"title": "Foo",
			"require": "javascript"
		},
		"bar": {
			"title": "Bar",
			"require": ["css", "javascript"]
		}
	}
}</code></pre>

	<h3>Dependency kinds</h3>

	<p>There are 3 kinds of dependencies:</p>

	<dl>
		<dt><code>require</code></dt>
		<dd>
			Prism will ensure that all dependees are loaded before the depender. <br>
			You are <strong>not</strong> allowed to modify the dependees unless they are also declared as <code>modify</code>.

			<p>This kind of dependency is most useful if you e.g. extend another language or dependee as an embedded language (e.g. like PHP is embedded in HTML).</p>
		</dd>
		<dt><code>optional</code></dt>
		<dd>
			Prism will ensure that an optional dependee is loaded before the depender if the dependee is loaded. Unlike <code>require</code> dependencies which also guarantee that the dependees are loaded, <code>optional</code> dependencies only guarantee the order of loaded components. <br>
			You are <strong>not</strong> allowed to modify the dependees. If you need to modify the optional dependee, declare it as <code>modify</code> instead.

			<p>This kind of dependency is useful if you have embedded languages but you want to give the users a choice as to whether they want to include the embedded language. By using <code>optional</code> dependencies, users can better control the bundle size of Prism by only including the languages they need.<br>
			E.g. HTTP can highlight JSON and XML payloads but it doesn't force the user to include these languages.</p>
		</dd>
		<dt><code>modify</code></dt>
		<dd>
			This is an <code>optional</code> dependency which also declares that the depender might modify the dependees.

			<p>This kind of dependency is useful if your language modifies another language (e.g. by adding tokens).<br>
			E.g. CSS Extras adds new tokens to the CSS language.</p>
		</dd>
	</dl>

	<p>To summarize the properties of the different dependency kinds:</p>

	<table class="stylish">
		<tr>
			<th></th>
			<th>Non-optional</th>
			<th>Optional</th>
		</tr>
		<tr>
			<th>Read only</th>
			<td><code>require</code></td>
			<td><code>optional</code></td>
		</tr>
		<tr>
			<th>Modifiable</th>
			<td></td>
			<td><code>modify</code></td>
		</tr>
	</table>

	<style>
	table.stylish {
		border-collapse: collapse;
	}
	table.stylish, table.stylish tr, table.stylish td, table.stylish th {
		border: 1px solid #CCC;
	}
	table.stylish td, table.stylish th {
		padding: .5em .75em;
	}
	table.stylish th {
		background-color: #F8F8F8;
	}
	</style>

	<p>Note: You can declare a component as both <code>require</code> and <code>modify</code></p>

	<h2 id="resolving-dependencies">Resolving dependencies</h2>

	<p>We consider the dependencies of components an implementation detail, so they may change from release to release. Prism will usually resolve dependencies for you automatically. So you won't have to worry about dependency loading if you <a href="download.html">download</a> a bundle or use the <code>loadLanguages</code> function in NodeJS, the <a href="plugins/autoloader/">AutoLoader</a>, or our Babel plugin.</p>

	<p>If you have to resolve dependencies yourself, use the <code>getLoader</code> function exported by <a href="https://github.com/PrismJS/prism/blob/master/dependencies.js"><code>dependencies.js</code></a>. Example:</p>

	<pre><code class="language-js">const getLoader = require('prismjs/dependencies');
const components = require('prismjs/components');

const componentsToLoad = ['markup', 'css', 'php'];
const loadedComponents = ['clike', 'javascript'];

const loader = getLoader(components, componentsToLoad, loadedComponents);
loader.load(id => {
	require(`prismjs/components/prism-${id}.min.js`);
});</code></pre>

	<p>For more details on the <code>getLoader</code> API, check out the <a href="https://github.com/PrismJS/prism/blob/master/dependencies.js">inline documentation</a>.</p>

</section>


<section id="writing-plugins">
	<h1>Writing plugins</h1>

	<p>Prism’s plugin architecture is fairly simple. To add a callback, you use <code class="language-javascript">Prism.hooks.add(hookname, callback)</code>.
	<code>hookname</code> is a string with the hook id, that uniquely identifies the hook your code should run at.
	<code>callback</code> is a function that accepts one parameter: an object with various variables that can be modified, since objects in JavaScript are passed by reference.
	For example, here’s a plugin from the Markup language definition that adds a tooltip to entity tokens which shows the actual character encoded:
	<pre><code class="language-javascript">Prism.hooks.add('wrap', function(env) {
	if (env.token === 'entity') {
		env.attributes['title'] = env.content.replace(/&amp;amp;/, '&amp;');
	}
});</code></pre>
	<p>Of course, to understand which hooks to use you would have to read Prism’s source. Imagine where you would add your code and then find the appropriate hook.
	If there is no hook you can use, you may <a href="https://github.com/PrismJS/prism/issues">request one to be added</a>, detailing why you need it there.
</section>

<section id="api">
	<h1>API documentation</h1>

	<p>All public and stable parts of <a href="docs/">Prism's API are documented here</a>.</p>
</section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="plugins/autoloader/prism-autoloader.js"></script>
<script src="plugins/line-highlight/prism-line-highlight.js"></script>
<script src="components.js"></script>
<script src="assets/code.js"></script>

</body>
</html>


================================================
File: /faq.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>FAQ ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<style>
#toc {
	display: block;
	position: static;
	max-width: 900px;
	font-size: 100%;
	color: black;
}
</style>
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body class="language-none">

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>FAQ</h2>
	<p>Frequently Asked Questions, with a few Questions I want people to Frequently Ask.</p>
</header>

<section>
	<h1>This page doesn’t work in Opera!</h1>

	<p><strong>Prism works fine in Opera.</strong> However, this page might sometimes appear to not be working in Opera, due to the theme switcher triggering an Opera bug.
	This will be fixed soon.</p>
</section>

<section>
	<h1>Isn’t it bad to do syntax highlighting with regular expressions?</h1>

	<p>It is true that to correctly handle every possible case of syntax found in the wild, one would need to write a full-blown parser.
	However, in most web applications and websites a small error margin is usually acceptable and a rare highlighting failure is not the end of the world.
	A syntax highlighter based on regular expressions might only be accurate 99% of the time (the actual percentage is just a guess),
	but in exchange for the small error margin, it offers some very important benefits:

	<ul>
		<li>Smaller filesize. Proper parsers are very big.</li>
		<li>Extensibility. Authors can define new languages simply by knowing how to code regular expressions.
			Writing a correct, unambiguous BNF grammar is a task at least an order of magnitude harder.</li>
		<li>Graceful error recovery. Parsers fail on incorrect syntax, where regular expressions keep matching.</li>
	</ul>

	<p>For this reason, most syntax highlighters on the web and on desktop, are powered by regular expressions. This includes the internal syntax
	highlighters used by popular native applications like Espresso and Sublime Text, at the time of writing.
	Of course, not every regex-powered syntax highlighter is created equal. The number and type of failures can be vastly different, depending on
	the exact algorithm used. <a href="known-failures.html">Prism’s known failures are documented on this page.</a>.</p>
</section>

<section>
	<h1>Why is asynchronous highlighting disabled by default?</h1>

	<p>Web Workers are good for preventing syntax highlighting of really large code blocks from blocking the main UI thread.
	In most cases, you will want to highlight reasonably sized chunks of code, and this will not be needed.
	Furthermore, using Web Workers is actually <strong>slower</strong> than synchronously highlighting, due to the overhead of creating and terminating
	the Worker. It just appears faster in these cases because it doesn’t block the main thread.
	In addition, since Web Workers operate on files instead of objects, plugins that hook on core parts of Prism (e.g. modify language definitions)
	will not work unless included in the same file (using the builder in the <a href="download.html">Download</a> page will protect you from this pitfall).
	Lastly, Web Workers cannot interact with the DOM and most other APIs (e.g. the console), so they are notoriously hard to debug.
	</p>
</section>

<section>
	<h1>Why is pre-existing HTML stripped off?</h1>

	<p>Because it would complicate the code a lot, although it’s not a crucial feature for most people.
	If it’s very important to you, you can use the <a href="plugins/keep-markup/">Keep Markup plugin</a>.</p>
</section>

<section>
	<h1>If pre-existing HTML is stripped off, how can I highlight certain parts of the code?</h1>

	<p>There is a number of ways around it. You can always break the block of code into multiple parts, and wrap the HTML around it (or just use a <code>.highlight</code> class).
	You can see an example of this in action at the “<a href="index.html#basic-usage">Basic usage</a>” section of the homepage.</p>
	<p>Another way around the limitation is to use the <a href="plugins/line-highlight/">Line Highlght plugin</a>, to highlight and link to specific lines and/or line ranges.
</section>

<section>
	<h1>How do I know which tokens I can style for every language?</h1>

	<p>Every token that is highlighted gets at least two classes: <code>token</code> and a class with the token type (e.g. <code>comment</code>) plus any number of aliases.
	Aliases can be seen as additional token types and are used to give specialized tokens a more common class for easier styling.
	You can find the different types of tokens either by looking at the keys of the object defining the language or by using the below interface.</p>

	<p>Language: <select id="language-select"></select></p>
	<pre class="language-none" style="height: 30em"><code id="print-tokens-output"></code></pre>

	<p>Additionally, you can find a list of standard tokens on <a href="/tokens.html">this page</a>.</p>
</section>

<section>
	<h1>How can I use different highlighting for tokens with the same name in different languages?</h1>
	<p>Just use a descendant selector, that includes the language class. The default <code>prism.css</code> does this, to have different colors for
	JavaScript strings (which are very common) and CSS strings (which are relatively rare). Here’s that code, simplified to illustrate the technique:
	<pre><code class="language-css">.token.string {
	color: #690;
}

.language-css .token.string,
.style .token.string {
	color: #a67f59;
}</code></pre>

	<p>Abbreviated language classes (e.g. <code>lang-css</code>) will be converted to their extended forms, so you don’t need to account for them.</p>
	<p>The same technique can be used to differentiate XML tag namespaces from attribute namespaces:</p>
	<pre><code class="language-css">.tag > .token.namespace {
	color: #b37298;
}
.attr-name > .token.namespace {
	color: #ab6;
}</code></pre>
</section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="plugins/autoloader/prism-autoloader.min.js"></script>
<script>
	Prism.plugins.autoloader.languages_path = 'components/';
</script>
<script src="components.js"></script>
<script>
(function () {
	$$('section > h1').forEach(function (h1) {
		$u.element.create('p', {
			contents: {
				tag: 'a',
				properties: {
					href: '#toc'
				},
				contents: '↑ Back to top'
			},
			inside: h1.parentNode
		});
	});

	function printTokens(grammar) {
		function toArray(x) {
			return Array.isArray(x) ? x : (x == undefined ? [] : [x]);
		}

		var lines = [];
		function log(line) {
			if (lines.indexOf(line) === -1) {
				lines.push(line);
			}
		}

		var languageMap = new Map();
		Object.keys(Prism.languages).filter(function (l) { return l in components.languages; }).forEach(function (l) {
			languageMap.set(Prism.languages[l], 'Prism.languages["' + l + '"]');
		});

		var stack = new Map();

		function inner(g, prefix) {
			if (prefix && languageMap.has(g)) {
				log(prefix + ' > ...' + languageMap.get(g));
				return;
			}
			if (stack.has(g)) {
				log(prefix + ' > ...' + stack.get(g));
				return;
			}

			stack.set(g, '(' + (prefix || ':root:') + ')');

			for (var name in g) {
				var element = g[name];
				if (name === 'rest') {
					inner(element, (prefix ? prefix + ' > ' : '') + ':rest:');
				} else {
					for (var a = toArray(element), i = 0, token; token = a[i++];) {
						var line = (prefix ? prefix + ' > ' : '') + name + toArray(token.alias).map(function (a) {
							return '.' + a;
						}).join('');

						log(line);

						if (token.inside) {
							inner(token.inside, line);
						}
					}
				}
			}

			stack.delete(g);
		}
		inner(grammar, '');

		return lines.join('\n');
	}

	var loadedLanguages = {};
	function showTokens() {
		var language = $('#language-select').value;
		if (Prism.languages[language]) {
			$('#print-tokens-output').textContent = printTokens(Prism.languages[language]);
		} else if (language in loadedLanguages) {
			$('#print-tokens-output').textContent = '"' + language + '" doesn\'t have any tokens.';
		} else {
			// load grammar
			Prism.plugins.autoloader.loadLanguages([language], function() {
				loadedLanguages[language] = true;
				showTokens();
			}, function () {
				$('#print-tokens-output').textContent = 'Unable to load "' + language + '"';
			});
		}
	}

	$('#language-select').onchange = showTokens;
	$('#language-select').innerHTML = Object.keys(components.languages)
		.filter(function (x) { return x !== 'meta'; })
		.map(function (x) {
			return '<option value="' + x + '">' + components.languages[x].title + '</option>';
		}).join('');
	showTokens();
}());
</script>
<script src="assets/code.js"></script>

</body>
</html>


================================================
File: /index.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<script>
	// Just a lil’ script to show off that inline JS gets highlighted
	window.console && console.log('foo');
</script>
<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body>

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<ul id="features">
		<li>
			<strong>Dead simple</strong>
			Include prism.css and prism.js, use proper HTML5 code tags (<code>code.language-xxxx</code>), done!
		</li>
		<li>
			<strong>Intuitive</strong>
			Language classes are inherited so you can only define the language once for multiple code snippets.
		</li>
		<li>
			<strong>Light as a feather</strong>
			The core is 2KB minified &amp; gzipped. Languages add 0.3-0.5KB each, themes are around 1KB.
		</li>
		<li>
			<strong>Blazing fast</strong>
			Supports parallelism with Web Workers, if available.
		</li>
		<li>
			<strong>Extensible</strong>
			Define new languages or extend existing ones.
			Add new features thanks to Prism’s plugin architecture.
		</li>
		<li>
			<strong>Easy styling</strong>
			All styling is done through CSS, with sensible class names like <code>.comment</code>, <code>.string</code>, <code>.property</code> etc
		</li>
	</ul>

</header>

<section id="used-by">
	<h1>Used By</h1>

	<p>Prism is used on several websites, small and large. Some of them are:</p>

	<div class="used-by-logos">
		<a href="https://www.smashingmagazine.com/" target="_blank"><img src="assets/img/logo-smashing.png" alt="Smashing Magazine" /></a>
		<a href="https://alistapart.com/" target="_blank"><img src="assets/img/logo-ala.png" alt="A List Apart" /></a>
		<a href="https://developer.mozilla.org/" target="_blank"><img src="assets/img/logo-mdn.png" alt="Mozilla Developer Network (MDN)" /></a>
		<a href="https://css-tricks.com/" target="_blank"><img src="assets/img/logo-css-tricks.png" alt="CSS-Tricks" /></a>
		<a href="https://www.sitepoint.com/" target="_blank"><img src="assets/img/logo-sitepoint.png" alt="SitePoint" /></a>
		<a href="https://www.drupal.org/" target="_blank"><img src="assets/img/logo-drupal.png" alt="Drupal" /></a>
		<a href="https://reactjs.org/" target="_blank"><img src="assets/img/logo-react.png" alt="React" /></a>
		<a href="https://stripe.com/" target="_blank"><img src="assets/img/logo-stripe.png" alt="Stripe" /></a>
		<a href="https://dev.mysql.com/" target="_blank"><img src="assets/img/logo-mysql.png" alt="MySQL" /></a>
	</div>
</section>

<section id="examples">
	<h1>Examples</h1>

	<p>The Prism source, highlighted with Prism (don’t you just love how meta this is?):</p>
	<pre data-src="prism.js"></pre>

	<p>This page’s CSS code, highlighted with Prism:</p>
	<pre data-src="assets/style.css"></pre>

	<p>This page’s HTML, highlighted with Prism:</p>
	<pre data-src="index.html"></pre>

	<p>This page’s logo (SVG), highlighted with Prism:</p>
	<pre data-src="assets/logo.svg"></pre>

	<p>If you’re still not sold, you can <a href="examples.html">view more examples</a> or <a href="test.html">try it out for yourself</a>.</p>
</section>

<section id="features-full" class="language-markup">
	<h1>Full list of features</h1>
	<ul>
		<li><strong>Only 2KB</strong> minified &amp; gzipped (core). Each language definition adds roughly 300-500 bytes.</li>
		<li>Encourages good author practices. Other highlighters encourage or even force you to use elements that are semantically wrong,
			like <code>&lt;pre></code> (on its own) or <code>&lt;script></code>.
			Prism forces you to use the correct element for marking up code: <code>&lt;code></code>.
			On its own for inline code, or inside a <code>&lt;pre></code> for blocks of code.
			In addition, the language is defined through the way recommended in the HTML5 draft: through a <code>language-xxxx</code> class.</li>
		<li>The <code>language-xxxx</code> class is inherited.
			This means that if multiple code snippets have the same language, you can just define it once,in one of their common ancestors.</li>
		<li>Supports <strong>parallelism with Web Workers</strong>, if available.
			Disabled by default (<a href="faq.html#why-is-asynchronous-highlighting-disabled-by-default">why?</a>).</li>
		<li>Very easy to extend without modifying the code, due to Prism’s <a href="#plugins">plugin architecture</a>.
			Multiple hooks are scattered throughout the source.</li>
		<li>Very easy to <a href="extending.html#language-definitions">define new languages</a>.
			The only thing you need is a good understanding of regular expressions.</li>
		<li>All styling is done through CSS, with <a href="faq.html#how-do-i-know-which-tokens-i-can-style-for">sensible class names</a> rather than ugly, namespaced, abbreviated nonsense.</li>
		<li>Wide browser support: Edge, IE11, Firefox, Chrome, Safari, <a href="faq.html#this-page-doesnt-work-in-opera">Opera</a>, most mobile browsers.</li>
		<li>Highlights embedded languages (e.g. CSS inside HTML, JavaScript inside HTML).</li>
		<li>Highlights inline code as well, not just code blocks.</li>
		<li>It doesn’t force you to use any Prism-specific markup, not even a Prism-specific class name, only standard markup you should be using anyway.
			So, you can just try it for a while, remove it if you don’t like it and leave no traces behind.</li>
		<li>Highlight specific lines and/or line ranges (requires <a href="plugins/line-highlight/">plugin</a>).</li>
		<li>Show invisible characters like tabs, line breaks etc (requires <a href="plugins/show-invisibles/">plugin</a>).</li>
		<li>Autolink URLs and emails, use Markdown links in comments (requires <a href="plugins/autolinker/">plugin</a>).</li>
	</ul>
</section>

<section id="limitations">
	<h1>Limitations</h1>
	<ul>
		<li>Any pre-existing HTML in the code will be stripped off. <a href="faq.html#if-pre-existing-html-is-stripped-off-how-can-i-highlight">There are ways around it though</a>.</li>
		<li>Regex-based so it *will* fail on certain edge cases, which are documented in the <a href="known-failures.html">known failures page</a>.</li>
		<li>Some of our themes have problems with certain layouts. Known cases are documented <a href="known-failures.html#themes">here</a>.</li>
		<li>No IE 6-10 support. If someone can read code, they are probably in the 95% of the population with a modern browser.</li>
	</ul>
</section>

<section id="basic-usage" class="language-markup">
	<h1>Basic usage</h1>

	<p>You will need to include the <code>prism.css</code> and <code>prism.js</code> files you <a href="download.html">downloaded</a> in your page. Example:
	<pre><code>&lt;!DOCTYPE html>
&lt;html>
&lt;head>
	...
	<mark>&lt;link href="themes/prism.css" rel="stylesheet" /></mark>
&lt;/head>
&lt;body>
	...
	<mark>&lt;script src="prism.js">&lt;/script></mark>
&lt;/body>
&lt;/html></code></pre>

	<p>Prism does its best to encourage good authoring practices. Therefore, it only works with <code>&lt;code></code> elements, since marking up code without a <code>&lt;code></code> element is semantically invalid.
	<a href="https://www.w3.org/TR/html52/textlevel-semantics.html#the-code-element">According to the HTML5 spec</a>, the recommended way to define a code language is a <code>language-xxxx</code> class, which is what Prism uses.
	Alternatively, Prism also supports a shorter version: <code>lang-xxxx</code>.</p>

	<p>The <a href="https://www.w3.org/TR/html5/grouping-content.html#the-pre-element">recommended way to mark up a code block</a>
	(both for semantics and for Prism) is a <code>&lt;pre></code> element with a <code>&lt;code></code> element inside, like so:</p>

	<pre><code>&lt;pre>&lt;code class="language-css">p { color: red }&lt;/code>&lt;/pre></code></pre>

	<p>If you use that pattern, the <code>&lt;pre></code> will automatically get the <code>language-xxxx</code> class (if it doesn’t already have it) and will be styled as a code block.</p>

	<p>Inline code snippets are done like this:</p>

	<pre><code>&lt;code class="language-css">p { color: red }&lt;/code></code></pre>

	<p><strong>Note</strong>: You have to escape all <code>&lt;</code> and <code>&amp;</code> characters inside <code>&lt;code></code> elements (code blocks and inline snippets) with <code>&amp;lt;</code> and <code>&amp;amp;</code> respectively, or else the browser might interpret them as an HTML tag or <a href="https://developer.mozilla.org/en-US/docs/Glossary/Entity">entity</a>. If you have large portions of HTML code, you can use the <a href="plugins/unescaped-markup/">Unescaped Markup plugin</a> to work around this.</p>

	<h3>Language inheritance</h3>

	<p>To make things easier however, Prism assumes that the language class is inherited. Therefore, if multiple <code>&lt;code></code> elements have the same language, you can add the <code>language-xxxx</code> class on one of their common ancestors.
		This way, you can also define a document-wide default language, by adding a <code>language-xxxx</code> class on the <code>&lt;body></code> or <code>&lt;html></code> element.</p>

	<p>If you want to opt-out of highlighting a <code>&lt;code></code> element that inherits its language, you can add the <code>language-none</code> class to it. The <code>none</code> language can also be inherited to disable highlighting for the element with the class and all of its descendants.</p>

	<p>If you want to opt-out of highlighting but still use plugins like <a href="plugins/show-invisibles/">Show Invisibles</a>, add use <code>language-plain</code> class instead.</p>

	<h3>Manual highlighting</h3>

	<p>If you want to prevent any elements from being automatically highlighted and instead use the <a href="extending.html#api">API</a>, you can set <a href="docs/Prism.html#.manual"><code class="language-javascript">Prism.manual</code></a> to <code class="language-javascript">true</code> before the <code>DOMContentLoaded</code> event is fired. By setting the <code>data-manual</code> attribute on the <code>&lt;script></code> element containing Prism core, this will be done automatically.
	Example:</p>

	<pre><code>&lt;script src="prism.js" data-manual>&lt;/script></code></pre>

	<p>or</p>

	<pre><code>&lt;script>
window.Prism = window.Prism || {};
window.Prism.manual = true;
&lt;/script>
&lt;script src="prism.js">&lt;/script></code></pre>

	<h2 id="basic-usage-cdn">Usage with CDNs</h2>

	<p>In combination with CDNs, we recommend using the <a href="plugins/autoloader">Autoloader plugin</a> which automatically loads languages when necessary.</p>

	<p>The setup of the Autoloader, will look like the following. You can also add your own themes of course.</p>

	<pre><code>&lt;!DOCTYPE html>
&lt;html>
&lt;head>
	...
	<mark>&lt;link href="https://{{cdn}}/prismjs@v1.x/themes/prism.css" rel="stylesheet" /></mark>
&lt;/head>
&lt;body>
	...
<mark>	&lt;script src="https://{{cdn}}/prismjs@v1.x/components/prism-core.min.js"&gt;&lt;/script&gt;
	&lt;script src="https://{{cdn}}/prismjs@v1.x/plugins/autoloader/prism-autoloader.min.js"&gt;&lt;/script&gt;</mark>
&lt;/body>
&lt;/html></code></pre>

	<p>Please note that links in the above code sample serve as placeholders. You have to replace them with valid links to the CDN of your choice.</p>

	<p>CDNs which provide PrismJS are e.g. <a href="https://cdnjs.com/libraries/prism">cdnjs</a>, <a href="https://www.jsdelivr.com/package/npm/prismjs">jsDelivr</a>, and <a href="https://unpkg.com/browse/prismjs@1/">UNPKG</a>.</p>

	<h2 id="basic-usage-bundlers">Usage with Webpack, Browserify, & Other Bundlers</h2>

	<p>If you want to use Prism with a bundler, install Prism with <code>npm</code>:</p>

	<pre><code>$ npm install prismjs</code></pre>

	<p>You can then <code class="language-js">import</code> into your bundle:</p>

	<pre><code class="language-js">import Prism from 'prismjs';</code></pre>

	<p>To make it easy to configure your Prism instance with only the languages and plugins you need, use the babel plugin,
		<a href="https://github.com/mAAdhaTTah/babel-plugin-prismjs">babel-plugin-prismjs</a>. This will allow you to load
		the minimum number of languages and plugins to satisfy your needs.
		See that plugin's documentation for configuration details.</p>

	<h2 id="basic-usage-node">Usage with Node</h2>

	<p>If you want to use Prism on the server or through the command line, Prism can be used with Node.js as well.
	This might be useful if you're trying to generate static HTML pages with highlighted code for environments that don't support browser-side JS, like <a href="https://www.ampproject.org/">AMP pages</a>.</p>

	<p>Example:</p>
	<pre><code class="language-js">const Prism = require('prismjs');

// The code snippet you want to highlight, as a string
const code = `var data = 1;`;

// Returns a highlighted HTML string
const html = Prism.highlight(code, Prism.languages.javascript, 'javascript');</code></pre>

	<p>Requiring <code>prismjs</code> will load the default languages: <code>markup</code>, <code>css</code>,
		<code>clike</code> and <code>javascript</code>. You can load more languages with the
		<code class="language-javascript">loadLanguages()</code> utility, which will automatically handle any required dependencies.</p>
	<p>Example:</p>

	<pre><code class="language-js">const Prism = require('prismjs');
const loadLanguages = require('prismjs/components/');
loadLanguages(['haml']);

// The code snippet you want to highlight, as a string
const code = `= ['hi', 'there', 'reader!'].join " "`;

// Returns a highlighted HTML string
const html = Prism.highlight(code, Prism.languages.haml, 'haml');</code></pre>

	<p><strong>Note</strong>: Do <em>not</em> use <code class="language-javascript">loadLanguages()</code> with Webpack or another bundler, as this will cause Webpack to include all languages and plugins. Use the babel plugin described above.</p>

	<p><strong>Note</strong>: <code class="language-javascript">loadLanguages()</code> will ignore unknown languages and log warning messages to the console. You can prevent the warnings by setting <code class="language-javascript">loadLanguages.silent = true</code>.</p>

</section>

<section class="language-markup">
	<h1>Supported languages</h1>
	<p>This is the list of all <span id="languages-list-count"></span> languages currently supported by Prism, with
		their corresponding alias, to use in place of <code>xxxx</code> in the <code>language-xxxx</code> (or <code>lang-xxxx</code>) class:</p>
	<div id="languages-list"></div>
	<p>Couldn’t find the language you were looking for? <a href="https://github.com/PrismJS/prism/issues" target="_blank">Request it</a>!</p>
</section>

<section id="plugins">
	<h1>Plugins</h1>
	<p>Plugins are additional scripts (and CSS code) that extend Prism’s functionality. Many of the following plugins are official, but are released as plugins to keep the Prism Core small for those who don’t need the extra functionality.</p>
	<ul class="plugin-list language-none"></ul>

	<p>No assembly required to use them. Just select them in the <a href="download.html">download</a> page.</p>
	<p>It’s very easy to <a href="extending.html#writing-plugins">write your own Prism plugins</a>. Did you write a plugin for Prism that you want added to this list? <a href="https://github.com/LeaVerou/prism" target="_blank">Send a pull request</a>!</p>
</section>

<section id="languages">
	<h1>Third-party language definitions</h1>

	<ul>
		<li><a href="https://github.com/SassDoc/prism-scss-sassdoc">SassDoc Sass/Scss comments</a></li>
		<li><a href="https://github.com/Liquibase/prism-liquibase">Liquibase CLI Bash language extension</a></li>
	</ul>
</section>

<section id="tutorials">
	<h1>Third-party tutorials</h1>

	<p>Several tutorials have been written by members of the community to help you integrate Prism into multiple different website types and configurations:</p>

	<ul>
		<li><a href="https://startblogging101.com/how-to-add-prism-js-syntax-highlighting-wordpress/">How to Add Prism.js Syntax Highlighting to Your WordPress Site</a></li>
		<li><a href="https://websitebeaver.com/escape-html-inside-code-or-pre-tag-to-entities-to-display-raw-code-with-prismjs">Escape HTML Inside &lt;code&gt; or &lt;pre&gt; Tag to Entities to Display Raw Code with PrismJS</a></li>
		<li><a href="http://wp.tutsplus.com/tutorials/plugins/adding-a-syntax-highlighter-shortcode-using-prism-js/">Adding a Syntax Highlighter Shortcode Using Prism.js | WPTuts+</a></li>
		<li><a href="https://www.stramaxon.com/2012/07/prism-syntax-highlighter-for-blogger.html">Implement PrismJs Syntax Highlighting to your Blogger/BlogSpot</a></li>
		<li><a href="https://schier.co/blog/2013/01/07/how-to-re-run-prismjs-on-ajax-content.html">How To Re-Run Prism.js On AJAX Content</a></li>
		<li><a href="https://www.semisedlak.com/highlight-your-code-syntax-with-prismjs">Highlight your code syntax with Prism.js</a></li>
		<li><a href="https://usetypo3.com/fs-code-snippet.html">A code snippet content element powered by Prism.js for TYPO3 CMS</a></li>
		<li><a href="https://auralinna.blog/post/2017/code-syntax-highlighting-with-angular-and-prismjs">Code syntax highlighting with Angular and Prism.js</a></li>
		<li><a href="https://mkaz.blog/wordpress/code-syntax-highlighting-in-gutenberg/">Code syntax highlighting in Gutenberg, WordPress block editor</a></li>
		<li><a href="https://karlkaufmann.com/writing/technotes/code-highlighting-prism-drupal">Code Highlighting with Prism.js in Drupal</a></li>
		<li><a href="https://betterstack.dev/blog/code-highlighting-in-react-using-prismjs/">Code highlighting in React using Prism.js</a></li>
		<li><a href="https://www.akashmittal.com/react-native-prismjs-using-webview/">Using Prism.js in React Native</a></li>
		<li><a href="https://itsmycode.com/prismjs-tutorial/">PrismJS Tutorial | Implement Prism in HTML and React</a></li>
		<li>Code syntax highlighting in Pug with <a href="https://webdiscus.github.io/pug-loader/pug-filters/highlight.html">:highlight</a> and <a href="https://webdiscus.github.io/pug-loader/pug-filters/markdown.html">:markdown</a> filters using <a href="https://github.com/webdiscus/pug-loader">pug-loader</a> and Prism.js</li>
	</ul>

	<p>Please note that the tutorials listed here are not verified to contain correct information. Read at your risk and always check the official documentation here if something doesn’t work :)</p>

	<p>Have you written a tutorial about Prism that’s not already included here? Send a pull request!</p>
</section>

<section id="credits">
	<h1>Credits</h1>
	<ul>
		<li>Special thanks to <a href="https://github.com/RunDevelopment">Michael Schmidt</a>, <a href="https://github.com/mAAdhaTTah">James DiGioia</a>, <a href="https://github.com/Golmote">Golmote</a> and <a href="https://github.com/apfelbox">Jannik Zschiesche</a> for their contributions and for being <strong>amazing maintainers</strong>. Prism would not have been able to keep up without their help.</li>
		<li>To <a href="https://twitter.com/kizmarh">Roman Komarov</a> for his contributions, feedback and testing.</li>
		<li>To <a href="https://twitter.com/zdfs">Zachary Forrest</a> for <a href="https://twitter.com/zdfs/statuses/217834980871639041">coming up with the name “Prism”</a></li>
		<li>To <a href="https://stellarr.deviantart.com/">stellarr</a> for the <a href="https://stellarr.deviantart.com/art/Spectra-Wallpaper-Pack-97785901">spectrum background</a> used on this page</li>
		<li>To <a href="https://twitter.com/thecodezombie">Jason Hobbs</a> for <a href="https://twitter.com/thecodezombie/status/217663703825399809">encouraging me</a> to release this script as standalone</li>
	</ul>
</section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="plugins/keep-markup/prism-keep-markup.js"></script>
<script src="components.js"></script>
<script src="assets/code.js"></script>
<script>
(function() {
	var languageItems = [];
	var languages = components.languages;
	var count = 0;
	for (var id in languages) {
		if (id == 'meta') {
			continue;
		}
		count++;

		var lang = languages[id];
		var name = lang.title || lang;

		var contents = [
			name,
			' - ',
			{
				tag: 'code',
				contents: id
			}
		];

		var alias = lang.alias;
		if (typeof alias === 'string')
			alias = [alias];

		if (alias) {
			for (var i = 0, l = alias.length; i < l; i++) {
				contents.push(
					', ',
					{
						tag: 'code',
						contents: alias[i]
					});
			}
		}

		languageItems.push({
			tag: 'li',
			attributes: {
				'data-id': id
			},
			contents: contents
		});
	}
	$u.element.create('ul', {
		contents: languageItems,
		inside: '#languages-list'
	});
	$u.element.contents($('#languages-list-count'), count);
}());
</script>

</body>
</html>


================================================
File: /known-failures.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Known failures ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<style>
#toc {
	display: block;
	position: static;
	max-width: 900px;
	font-size: 100%;
	color: black;
}
#toc > ol {
	columns: 4;
}
</style>
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body class="language-none">

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Known failures</h2>
	<p>A list of rare edge cases where Prism highlights code incorrectly.</p>
</header>

<section>
	<p>There are certain edge cases where Prism will fail. There are always such cases in every regex-based syntax highlighter. <br>
	However, Prism dares to be open and honest about them. If a failure is listed here, it doesn’t mean it will never be fixed. This is more of a “known bugs” list, just with a certain type of bug.</p>
</section>


<section class="language-applescript">

<h3>Comments only support one level of nesting</h3>
<pre><code>(* Nested block
	(* comments
		(* on more than
		2 levels *)
	are *)
not supported *)</code></pre>

</section>


<section class="language-autoit">

<h3>Nested block comments</h3>
<pre><code>#cs
	#cs
		foo()
	#ce
#ce</code></pre>

</section>


<section class="language-bison">

<h3>Two levels of nesting inside C section</h3>
<pre><code>{
	if($1) {
		if($2) {

		}
	}
} // &lt;- Broken
%%
%%</code></pre>

</section>


<section class="language-d">

<h3>Comments only support one level of nesting</h3>
<pre><code>/+ /+ /+ this does not work +/ +/ +/</code></pre>

<h3>Token strings only support one level of nesting</h3>
<pre><code>q{ q{ q{ this does not work } } }</code></pre>

</section>


<section class="language-elixir">

<h3>String interpolation in single-quoted strings</h3>
<pre><code>'#{:atom} &lt;- this should not be highligted'</code></pre>

</section>


<section class="language-groovy">

<h3>Two divisions on the same line</h3>
<pre><code>2 / 3 / 4</code></pre>

</section>


<section class="language-inform7">

<h3>Names starting with a number</h3>
<pre><code>The box 1A is a container</code></pre>

</section>


<section class="language-javascript">

<h3>String interpolation containing a closing brace</h3>
<pre><code>`${ /* } */ a + b }`
`${ '}' }`</code></pre>

<h3>String interpolation with deeply nested braces</h3>
<pre><code>`${foo({ a: { b: { c: true } } })}`</code></pre>

</section>


<section class="language-less">

<h3>At-rules looking like variables</h3>
<pre><code>@import "some file.less";</code></pre>

<h3>At-rules containing interpolation</h3>
<pre><code>@import "@{themes}/tidal-wave.less";</code></pre>

<h3>extend is not highlighted consistently</h3>
<pre><code>nav ul {
  &:extend(.inline);
  background: blue;
}
.a:extend(.b) {}</code></pre>

</section>


<section class="language-lua">

<h3>Functions with a single string parameter not using parentheses are not highlighted</h3>
<pre><code>foobar"param";</code></pre>

</section>


<section class="language-nasm">

<h3>Numbers with underscores</h3>
<pre><code>mov     ax,1100_1000b
mov     ax,1100_1000y
mov     ax,0b1100_1000
mov     ax,0y1100_1000

dd    1.222_222_222</code></pre>

</section>


<section class="language-parser">

<h3>Code block starting with a comment</h3>
<pre><code># Doesn't work
# Does work</code></pre>
<pre><code> # Does work when prefixed with a space</code></pre>

<h3>Comments inside expressions break literals and operators</h3>
<pre><code>^if(
    $age>=4  # not too young
    && $age&lt;=80  # and not too old
)</code></pre>

</section>


<section class="language-prolog">

<h3>Null-ary predicates are not highlighted</h3>
<pre><code>halt.
trace.

:- if(test1).
section_1.
:- elif(test2).
section_2.
:- elif(test3).
section_3.
:- else.
section_else.
:- endif.</code></pre>

</section>


<section class="language-puppet">

<h3>More than one level of nested braces inside interpolation</h3>
<pre><code>"Foobar ${foo({
    bar => {baz => 42}
    baz => 42
})} &lt;- broken"</code></pre>

</section>


<section class="language-python">

<h3>Interpolation expressions containing strings with <code>{</code> or <code>}</code></h3>
<pre><code>f"{'}'}"</code></pre>

</section>


<section class="language-q">

<h3>The global context is highlighted as a verb</h3>
<pre><code>\d .</code></pre>

</section>


<section class="language-rest">

<h3>Nothing is highlighted inside table cells</h3>
<pre><code>+---------------+----------+
| column 1     | column 2  |
+--------------+-----------+
| **bold**?    | *italic*? |
+--------------+-----------+</code></pre>

<h3>The inline markup recognition rules are not as strict as they are in the spec</h3>
<p>No inline markup should be highlighted in the following code.</p>
<pre><code>2 * x a ** b (* BOM32_* ` `` _ __ |
"*" '|' (*) [*] {*} &lt;*> ‘*’ ‚*‘ ‘*‚ ’*’ ‚*’ “*” „*“ “*„ ”*” „*” »*« ›*‹ «*» »*» ›*›</code></pre>

</section>


<section class="language-rust">

<h3>Nested block comments</h3>
<pre><code>/* Nested block
	/* comments
	are */
not supported */</code></pre>

<h3>Delimiters of parameters for closures that don't use braces</h3>
<pre><code>|x| x + 1i;</code></pre>

</section>


<section class="language-sass">

<h3>Deprecated Sass syntax is not supported</h3>
<pre><code>.page
  color = 5px + 9px

!width = 13px
.icon
  width = !width</code></pre>

<h3>Selectors with pseudo classes are highlighted as property/value pairs</h3>
<pre><code>a:hover
  text-decoration: underline</code></pre>

</section>


<section class="language-scala">

<h3>Nested block comments</h3>
<pre><code>/* Nested block
	/* comments
	are */
not supported */</code></pre>

</section>


<section class="language-scheme">

<h3>The first argument of <code>case-lambda</code> argument lists are highlighted as functions</h3>
<pre><code>(define plus
	(case-lambda
		(() 0)
		((x) x)
		((x y) (+ x y))
		((x y z) (+ (+ x y) z))
		(args (apply + args))))</code></pre>

</section>


<section class="language-swift">

<h3>Nested block comments</h3>
<pre><code>/* Nested block
	/* comments
	are */
not supported */</code></pre>

</section>


<section class="language-textile">

<h3>HTML inside Textile is not supported</h3>

<p>But Textile inside HTML should be just fine.</p>

<pre><code>&lt;strong>This _should_ work properly.&lt;/strong>
*But this is &lt;em>definitely&lt;/em> broken.*</code></pre>

</section>


<section class="language-twig">

<h3>Tag containing Twig is not highlighted</h3>
<pre><code>&lt;div{% if foo %} class="bar"{% endif %}>&lt;/div></code></pre>

</section>


<section class="language-wiki">

<h3>Nested magic words are not supported</h3>

<pre><code>{{#switch:{{PAGENAME}}
| L'Aquila = No translation
| L = Not OK
| L&apos;Aquila = Entity escaping
| L&#39;Aquila = Numeric char encoding
}}</code></pre>

<h3>Nesting of bold and italic is not supported</h3>
<pre><code>''Italic with '''bold''' inside''</code></pre>

</section>


<section>

<h1 id="themes">Themes</h1>

<p>Some of our themes are not compatible with certain layouts.</p>

<h2>Coy</h2>

<p>Coy's shadows and background might not wrap around the code correctly if combined with float of flexbox layouts.</p>

<img src="assets/img/failures/coy-overlap.png"/>

<h3>Workarounds</h3>

<p>There are 2 possible workarounds:</p>

<p>The first workaround is setting <code>display: flex-root;</code> for the <code>pre</code> element. This will fix the issue but <code>flex-root</code> has <a href="https://caniuse.com/#feat=flow-root">limited browser support</a>.</p>

<p>The second is adding <code>clear: both;</code> to the style of the <code>pre</code> element. This will fix the issue but it will change the way code blocks behave when overlapping with other elements.</p>

</section>


<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="plugins/autoloader/prism-autoloader.js" data-autoloader-path="components"></script>
<script src="components.js"></script>
<script>
	$$('section[class*=language-]').forEach(function (section) {
		var lang = /(?:^|\s)language-([\w-]+)(?:$|\s)/.exec(section.className)[1];
		var title = components.languages[lang].title;

		$u.element.create('h1', {
			contents: title,
			id: lang,
			before: section.firstChild
		});
	});

	$$('section > h1').forEach(function (h1) {
		$u.element.create('p', {
			contents: {
				tag: 'a',
				properties: {
					href: '#toc'
				},
				contents: '↑ Back to top'
			},
			inside: h1.parentNode
		});
	});
</script>
<script src="assets/code.js"></script>

</body>
</html>


================================================
File: /package.json
================================================
{
	"name": "prismjs",
	"version": "1.29.0",
	"description": "Lightweight, robust, elegant syntax highlighting. A spin-off project from Dabblet.",
	"main": "prism.js",
	"style": "themes/prism.css",
	"engines": {
		"node": ">=6"
	},
	"scripts": {
		"benchmark": "node benchmark/benchmark.js",
		"build": "gulp",
		"start": "http-server -c-1",
		"lint": "eslint . --cache",
		"lint:fix": "npm run lint -- --fix",
		"lint:ci": "eslint . --max-warnings 0",
		"regex-coverage": "mocha tests/coverage.js",
		"test:aliases": "mocha tests/aliases-test.js",
		"test:core": "mocha tests/core/**/*.js",
		"test:dependencies": "mocha tests/dependencies-test.js",
		"test:examples": "mocha tests/examples-test.js",
		"test:identifiers": "mocha tests/identifier-test.js",
		"test:languages": "mocha tests/run.js",
		"test:patterns": "mocha tests/pattern-tests.js",
		"test:plugins": "mocha tests/plugins/**/*.js",
		"test:runner": "mocha tests/testrunner-tests.js",
		"test": "npm-run-all test:*"
	},
	"repository": {
		"type": "git",
		"url": "https://github.com/PrismJS/prism.git"
	},
	"keywords": [
		"prism",
		"highlight"
	],
	"author": "Lea Verou",
	"license": "MIT",
	"readmeFilename": "README.md",
	"devDependencies": {
		"@types/node-fetch": "^2.5.5",
		"benchmark": "^2.1.4",
		"chai": "^4.2.0",
		"danger": "^10.5.0",
		"del": "^4.1.1",
		"docdash": "^1.2.0",
		"eslint": "^7.22.0",
		"eslint-plugin-jsdoc": "^32.3.0",
		"eslint-plugin-regexp": "^1.6.0",
		"gulp": "^4.0.2",
		"gulp-clean-css": "^4.3.0",
		"gulp-concat": "^2.3.4",
		"gulp-header": "^2.0.7",
		"gulp-jsdoc3": "^3.0.0",
		"gulp-rename": "^1.2.0",
		"gulp-replace": "^1.0.0",
		"gulp-terser": "^2.1.0",
		"gzip-size": "^5.1.1",
		"htmlparser2": "^4.0.0",
		"http-server": "^0.12.3",
		"jsdom": "^16.7.0",
		"mocha": "^9.2.2",
		"node-fetch": "^3.1.1",
		"npm-run-all": "^4.1.5",
		"prettier": "^2.4.1",
		"pump": "^3.0.0",
		"refa": "^0.9.1",
		"regexp-ast-analysis": "^0.2.4",
		"regexpp": "^3.2.0",
		"scslre": "^0.1.6",
		"simple-git": "^3.3.0",
		"webfont": "^9.0.0",
		"yargs": "^13.2.2"
	},
	"jspm": {
		"main": "prism",
		"registry": "jspm",
		"jspmPackage": true,
		"format": "global",
		"files": [
			"components/**/*.js",
			"plugins/**/*",
			"themes/*.css",
			"prism.js"
		]
	}
}


================================================
File: /test-suite.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Running the test suite ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body class="language-javascript">

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Running the test suite</h2>

	<p>Prism has a test suite, that ensures that the correct tokens are matched.</p>
</header>

<section id="running-the-test-suite">
	<h1>Running the test suite</h1>

	<p>Running the test suite is simple: just call <code class="language-bash">npm test</code>.</p>
	<p>All test files are run in isolation. A new prism instance is created for each test case. This will slow the test runner a bit down, but we can be sure that nothing leaks into the next test case.</p>


	<h2 id="running-tests-for-specific-languages">Running tests for specific languages</h2>

	<p>To run the tests only for one language, you can use the <code>language</code> parameter:</p>

	<pre><code class="language-bash">npm run test:languages -- --language=markup</code></pre>

	<p>You can even specify multiple languages:</p>

	<pre><code class="language-bash">npm run test:languages -- --language=markup --language=css</code></pre>
</section>

<section id="writing-tests">
	<h1>Writing tests</h1>

	<p>Thank you for writing tests! Tests are awesome! They ensure, that we can improve the codebase without breaking anything. Also, this way, we can ensure that upgrading Prism is as painless as possible for you.</p>
	<p>You can add new tests by creating a new test case file (with the <code>.test</code> file extension) in the tests directory which is located at <code>/tests/languages/${language}</code>.</p>


	<h2 id="writing-tests-directories">Language directories</h2>

	<p>All tests are sorted into directories in the <code>tests/languages</code> directory. Each directory name encodes, which language you are currently testing.</p>
	<p><strong>All language names must match the names from the definition in <code>components.json</code>.</strong></p>

	<h3>Example 1: testing a language in isolation (default use case)</h3>
	<p>Just put your test file into the directory of the language you want to test.</p>
	<p>So, if you want to test CSS, put your test file in <code>/tests/languages/css</code> to test CSS only. If you create a test case in this directory, the test runner will ensure that the <code>css</code> language definition including all required language definitions are correctly loaded.</p>

	<h3>Example 2: testing language injection</h3>
	<p>If you want to test language injection, you typically need to load two or more languages where one language is the “main” language that is being tested, with all other languages being injected into it.</p>
	<p>You need to define multiple languages by separating them using a <code>+</code> sign: <code>markup+php</code>.</p>
	<p>The languages are loaded in order, so first markup (+ dependencies) is loaded, then php (+ dependencies). The test loader ensures that no language is loaded more than once (for example if two languages have the same dependencies).</p>
	<p>By default the last language is the main language: <code>php+markup</code> will have <code>markup</code> as main language. This is equal to putting your code in the following code block:</p>
	<pre><code class="language-markup">...
&lt;pre>&lt;code class="language-markup">
	&lt;!-- your code here -->
&lt;/code>&lt;pre>
...</code></pre>

	<p>If you need to load the languages in a given order, but you don't want to use the last language as main language, you can mark the main language with an exclamation mark: <code>php!+markup</code>. This will use <code>php</code> as main language. (You can only define one main language. The test runner will fail all tests in directories with more than one main language.)</p>

	<p><em>Note: by loading multiple languages you can do integration tests (ensure that loading two or more languages together won't break anything).</em></p>


	<h2 id="writing-tests-creating-your-test-case-file">Creating your test case file</h2>

	<p>At first you need to create a new file in the language directory, you want to test.</p>
	<p><strong>Use a proper name for your test case.</strong> Please use one case of the following conventions:</p>
	<ul>
		<li><code>issue{issueid}</code>: reference a github issue id (example: <code>issue588.test</code>).</li>
		<li><code>{featurename}_feature</code>: group all tests to one feature in one file (example: <code>string_interpolation_feature.test</code>).</li>
		<li><code>{language}_inclusion</code>: test inclusion of one language into the other (example: <code>markup!+css/css_inclusion.test</code> will test CSS inclusion into markup).</li>
	</ul>
	<p>You can use all conventions as a prefix, so <code>string_interpolation_feature_inline.test</code> is possible. <strong>But please take a minute or two to think of a proper name of your test case file. You are writing code not only for the computers, but also for your fellow developers.</strong></p>


	<h2 id="writing-tests-writing-your-test">Writing your test</h2>

	<p>A test case file is built up of two or three sections separated by ten or more dashes <code>-</code> starting at the begin of the line. The sections are the following:</p>

	<ol>
		<li>Your language snippet. The code you want to tokenize using Prism. (<strong>required</strong>)</li>
		<li>
			The simplified token stream you expect. Needs to be valid JSON. (<em>optional</em>) <br>
			The test runner will automatically insert this if not present. <strong>Carefully check</strong> that the inserted token stream is what you expected. <br>
			If the test case fails because the JSON is present but incorrect, then you can use the <a href="#writing-tests-update"><code>--update</code> flag</a> to overwrite it.
		</li>
		<li>A brief comment explaining the test case. (<em>optional</em>)</li>
	</ol>

	<p>Here is an example:</p>
	<pre><code>var a = 5;

----------------------------------------------------

[
	["keyword", "var"],
	" a ",
	["operator", "="],
	["number", "5"],
	["punctuation", ";"]
]

----------------------------------------------------

This is a comment explaining this test case.</code></pre>

	<h2 id="writing-tests-the-easy-way">The easy way to write tests</h2>
	<p>The easy way to create one or multiple new test case(s) is this:</p>

	<ol>
		<li>Create a new test case file <code class="language-none">tests/languages/{language}/{test-case}.test</code>.</li>
		<li>Insert the code you want to test (and nothing more).</li>
		<li>Repeat the first two steps for as many test cases as you want.</li>
		<li>Run <code class="language-bash">npm run test:languages</code>.</li>
		<li>Done.</li>
	</ol>

	<p>Updating existing test case files is easy too!</p>

	<ol>
		<li>Run <code class="language-bash">npm run test:languages -- --update</code>.</li>
		<li>Done.</li>
	</ol>

	<p>This works by making the test runner insert the actual token stream of you test code as the expected token stream. <strong>Carefully check that the inserted token stream is actually what you expect or else the test is meaningless!</strong></p>


	<h2 id="writing-tests-update">Updating tests</h2>

	<p>When creating and changing languages, their test files have to be updated to properly test the language. The rather tedious task of updating test files can be automated using the following command:</p>

	<pre><code class="language-bash">npm run test:languages -- --update</code></pre>

	<p>Updates (overwrites) the expected token stream of all failing test files. The language tests are guaranteed to pass after running this command.</p>

	<p><em>Keep in mind:</em> This command makes it easy to create/update test files but this doesn't mean that the tests will be correct. <strong>Always carefully check the inserted/updated token streams!</strong></p>

	<h2 id="writing-tests-explaining-the-simplified-token-stream">Explaining the simplified token stream</h2>

	<p>While highlighting, Prism transforms your source code into a token stream. This is basically a tree of nested tokens (or arrays, or strings).</p>
	<p>As these trees are hard to write by hand, the test runner uses a simplified version of it.</p>
	<p>It uses the following rules:</p>
	<ul>
		<li><code>Token</code> objects are transformed into an array: <code>[token.type, token.content]</code> (whereas <code>token.content</code> can be a nested structure).</li>
		<li>All strings that are either empty or only contain whitespace, are removed from the token stream.</li>
		<li>All empty structures are removed.</li>
	</ul>

	<p>The simplified token stream does not contain the aliases of a token.</p>

	<p>For further information: reading the tests of the test runner (<code>tests/testrunner-tests.js</code>) will help you understand the transformation.</p>
</section>

<section id="writing-specific-tests">
	<h1>Writing specific tests</h1>

	<p>Sometimes, using the token stream tests is not powerful enough. By creating a test file with the file extension <code>.html.test</code> instead of <code>.test</code>, you can make Prism highlight arbitrary pieces of code and check their HTML results.</p>
	<p>The language is determined by the folder containing the test file lies, as explained in the previous section.</p>
	<p>The structure of your test file will look like this, for example:</p>
	<pre><code class="language-html">&amp;amp;
&amp;#x41;

----------------------------------------------------

&lt;span class="token entity named-entity" title="&amp;amp;">&amp;amp;amp;&lt;/span>
&lt;span class="token entity" title="&amp;#x41;">&amp;amp;#x41;&lt;/span>

----------------------------------------------------

This is a comment explaining this test case.
</code></pre>
</section>

<section id="test-runner-tests">
	<h1>Test runner tests</h1>
	<p>The test runner itself is tested in a separate test case. You can find all “test core” related tests in <code>tests/testrunner-tests.js</code>.</p>
	<p>You shouldn't need to touch this file ever, except you modify the test runner code.</p>
</section>

<section id="internal-structure">
	<h1>Internal structure</h1>
	<p>The global test flow is at follows:</p>
	<ol>
		<li>Run all internal tests (test the test runner).</li>
		<li>Find all language tests.</li>
		<li>Run all language tests individually.</li>
		<li>Report the results.</li>
	</ol>
</section>


<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="components/prism-bash.js"></script>
<script src="components.js"></script>
<script src="assets/code.js"></script>

</body>
</html>


================================================
File: /test.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Test drive ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<style>
textarea {
	width: 100%;
	height: 10em;
	padding: 1em;
	box-sizing: border-box;
	margin: .5em 0;
	background: #f5f2f0;
	color: black;
	text-shadow: 0 1px white;
	tab-size: 4;
	font: 100% Consolas, Monaco, monospace;
	white-space: pre;
	word-wrap: normal;
}

#language {
	column-count: 4;
}

	#language label {
		display: block;
		padding: .2em;
	}

	#language label[data-id="javascript"] {
		border-bottom: 1px solid #aaa;
		padding-bottom: 1em;
		margin-bottom: 1em;
	}

	#language input {
		margin-right: 1em;
	}

	#language strong {
		display: block;
		column-span: all;
	}


pre.show-tokens {
	line-height: calc(1.5em + 12px);
}

.show-tokens .token:not(:first-child) {
	margin-left: 1px;
}

.show-tokens .token:empty {
	background: red;
}
.show-tokens .token:empty::before {
	color: white;
	content: 'empty';
	font-style: italic;
	text-shadow: black 0 0 .3em;
}

.show-tokens .token {
	border: 1px solid;
	padding: 6px 1px;
}
.show-tokens .token > .token {
	padding: 4px 1px;
}
.show-tokens .token > .token > .token {
	padding: 2px 1px;
}
.show-tokens .token > .token > .token > .token {
	padding: 0 1px;
}
.show-tokens .token > .token > .token > .token > .token {
	border: none;
	border-left: 1px solid;
	border-right: 1px solid;
	padding: 0;
	margin: 0 1px;
}

#options {
	position: relative;
}

.link-wrapper {
	position: absolute;
	top: 0;
	right: 0;
	background-color: white;
}
.link-wrapper .hidden-wrapper {
	display: none;
}

.link-wrapper:hover {
	top: -.5em;
	right: -1em;
	width: 300px;
	padding: .5em 1em;
	outline: 1px solid #888;
}
.link-wrapper:hover .hidden-wrapper {
	display: block;
}

.link-wrapper input {
	width: 100%;
	box-sizing: border-box;
}

.link-wrapper button {
	border: none;
	background: none;
	font: inherit;
	text-decoration: underline;
	cursor: pointer;
}

</style>
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
</head>
<body>

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Test drive</h2>
	<p>Take Prism for a spin!</p>
</header>

<section>
	<form>
		<p>
			<textarea>&lt;p class="hey">Type some code here&lt;/p></textarea>
		</p>

		<p>Result:</p>
		<pre><code></code></pre>

		<div id="options" style="margin: 1em 0">
			<label><input type="checkbox" id="option-show-tokens"> Show tokens</label>
			<div class="link-wrapper">
				<a id="share-link" href="" style="float: right;">Share</a>
				<div class="hidden-wrapper">
					<input id="share-link-input" type="text" readonly onClick="this.select();"/>
					<button type="button" id="copy-share-link" onclick="copyShare();">Copy to clipboard</button>
				</div>
			</div>
		</div>
		<p id="language">
			<strong>Language:</strong>
		</p>
	</form>
</section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="components/prism-core.js"></script>
<script src="plugins/autoloader/prism-autoloader.js" data-autoloader-path="components/"></script>
<script>
Prism.plugins.autoloader.use_minified = false;
</script>
<script src="components.js"></script>
<script src="assets/code.js"></script>
<script src="assets/vendor/promise.js"></script>

<script>
(function() {
/** @type {HTMLFormElement} */
var form = $('form');
/** @type {HTMLElement} */
var code = $('code', form);
var languages = components.languages;

function highlightCode() {
	var newCode = document.createElement('code');
	newCode.textContent = code.textContent;
	newCode.className = code.className;

	Prism.highlightElement(newCode);

	code.parentElement.replaceChild(newCode, code);
	code = newCode;
};

function getHashParams() {
	return parseUrlParams((location.hash || '').substr(1));
}
function setHashParams(params) {
	location.hash = stringifyUrlParams(params);
}
function updateHashLanguage(lang) {
	var params = getHashParams();
	params.language = lang;
	setHashParams(params);
}
function getHashLanguage() {
	return getHashParams().language;
}
function getRadio(lang) {
	return $('input[name=language][value="' + lang + '"]');
}

function copyShare() {
	const link = $('#share-link').href;
	try {
		navigator.clipboard.writeText(link).then(function () {
			$('#copy-share-link').textContent = 'Copied!';
		}, function () {
			$('#copy-share-link').textContent = 'Failed to copy!';
		});
	} catch (e) {
		$('#copy-share-link').textContent = 'Failed to copy!';
	}
	setTimeout(function () {
		$('#copy-share-link').textContent = 'Copy to clipboard';
	}, 5000);
}
window.copyShare = copyShare;

window.onhashchange = function () {
	var input = getRadio(getHashLanguage());

	if (input && !input.checked) {
		input.checked = true;
		input.onclick();
	}
}


for (var id in languages) {
	if (id == 'meta') {
		continue;
	}

	var name = languages[id].title || languages[id];

	$u.element.create('label', {
		attributes: {
			'data-id': id
		},
		contents: [
			{
				tag: 'input',
				properties: {
					type: 'radio',
					name: 'language',
					value: id,
					onclick: function () {
						var lang = this.value;
						code.className = 'language-' + lang;
						code.textContent = code.textContent;
						updateHashLanguage(lang);
						updateShareLink();

						highlightCode();
					}
				}
			}, name
		],
		inside: '#language'
	});
}


var radios = $$('input[name=language]');
var selectedRadio = radios[0];

var lastLanguageRadio = getRadio(getHashLanguage());
if (lastLanguageRadio) {
	selectedRadio = lastLanguageRadio;
}

selectedRadio.checked = true;
selectedRadio.onclick();

var textarea = $('textarea', form);

try {
	var hashText = getHashParams().text;
	if (hashText) {
		textarea.value = hashText;
	} else {
		var lastCode = sessionStorage.getItem('test-code');
		if (lastCode) {
			textarea.value = lastCode;
		}
	}
} catch (e) {
	// ignore sessionStorage errors
}

textarea.oninput = function() {
	var codeText = this.value || '';
	code.textContent = codeText;
	highlightCode();

	updateShareLink();

	try {
		sessionStorage.setItem('test-code', codeText);
	} catch (error) {
		// ignore sessionStorage errors
	}
}
textarea.oninput();

$('#option-show-tokens').onchange = function () {
	var cls = 'show-tokens';
	if (this.checked) {
		$('pre').classList.add(cls);
	} else {
		$('pre').classList.remove(cls);
	}
};
$('#option-show-tokens').onchange();

function updateShareLink() {
	var params = {
		language: /\blang(?:uage)?-([\w-]+)\b/i.exec(code.className)[1],
		text: code.textContent,
	};

	$('#share-link').href = '#' + stringifyUrlParams(params);
	$('#share-link-input').value = $('#share-link').href;
}


/**
 * @param {Record<string, string | number | boolean>} params
 * @returns {string}
 */
function stringifyUrlParams(params) {
	var parts = [];
	for (var name in params) {
		if (params.hasOwnProperty(name)) {
			var value = params[name];
			if (typeof value === 'boolean') {
				if (value) {
					parts.push(name);
				}
			} else {
				parts.push(name + '=' + encodeURIComponent(value));
			}
		}
	}
	return parts.join('&');
}
/**
 * @param {string} str
 * @returns {Record<string, string | boolean>}
 */
function parseUrlParams(str) {
	/** @type {Record<string, string | boolean>} */
	var params = {};
	str.split(/&/g).filter(Boolean).forEach(function (part) {
		var parts = part.split(/=/);
		var name = parts[0];
		if (parts.length === 1) {
			params[name] = true;
		} else {
			params[name] = decodeURIComponent(parts[1]);
		}
	});
	return params;
}

})();
</script>

</body>
</html>


================================================
File: /tokens.html
================================================
<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<link rel="icon" href="assets/favicon.png" />
<title>Prism tokens ▲ Prism</title>
<link rel="stylesheet" href="assets/style.css" />
<link rel="stylesheet" href="themes/prism.css" data-noprefix />
<link rel="stylesheet" href="plugins/line-highlight/prism-line-highlight.css" data-noprefix />
<link rel="stylesheet" href="plugins/toolbar/prism-toolbar.css" data-noprefix />
<script src="assets/vendor/prefixfree.min.js"></script>

<script>var _gaq = [['_setAccount', 'UA-33746269-1'], ['_trackPageview']];</script>
<script src="https://www.google-analytics.com/ga.js" async></script>
<style>
table.styled {
	border: 1px solid #ccc;
	border-spacing: 0;
}
table.styled tr:not(:first-child) > * {
	border-top: 1px solid #ccc;
}
table.styled tr > *:not(:first-child) {
	border-left: 1px solid #ccc;
}
table.styled tr:nth-child(2n + 1) {
	background-color: #F8F8F8;
}
table.styled tr > * {
	padding: .5em .75em;
}
table.styled tr > th {
	text-align: left;
}
</style>
</head>
<body class="language-none">

<header>
	<div class="intro" data-src="assets/templates/header-main.html" data-type="text/html"></div>

	<h2>Prism tokens</h2>
	<p>Prism identifies tokens in your code, which are in turn styled by CSS to produce the syntax highlighting. This page provides an overview of the standard tokens and corresponding examples.</p>
</header>

<section id="standard-tokens">
	<h1>Standard tokens</h1>

	<p>When defining a new language, you will need to provide token names for each 'type' of code, such as keywords and operators, so Prism's themes can assign colors (and other styles) accordingly. Prism's themes (both official and non-official) only guarantee coverage for these standard tokens, so it is recommended to make use of the following standard tokens to ensure that code will be highlighted.</p>

	<table class="styled">
		<tbody>
			<tr>
				<th colspan="2">General purpose</th>
			</tr>
			<tr>
				<td><code>keyword</code></td>
				<td>
					Pre-defined and reserved words.

					<pre><code class="language-javascript">for (const foo of bar) {
	if (foo === 'foobar') break;
	await foo;
}</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>builtin</code></td>
				<td>
					Functions/Methods/Classes/Types that are available out of the box.

					<pre><code class="language-python">pi = round(float('3.14159'), 2)</code></pre>
					<pre><code class="language-typescript">type SearchFunc = (source: string, subStr: string) => boolean;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>class-name</code></td>
				<td>
					The name of a class, interface, trait, or type.

					<pre><code class="language-javascript">class Rectangle extends Square { /* ... */ }</code></pre>
					<pre><code class="language-csharp">public class CameraController : MonoBehaviour { /* ... */ }</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>function</code></td>
				<td>
					The name of a function or method.

					<pre><code class="language-javascript">function isEven(number) {
	return Number(number) % 2 === 0;
}
const isOdd = (number) => !isEven(number);</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>boolean</code></td>
				<td>
					True and false, and pairs with similar concepts (e.g. yes and no).

					<pre><code class="language-javascript">console.log(true === false); // prints false
console.log(true === !false); // prints true</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>number</code></td>
				<td>
					A numerical value, regardless of base and order, and no matter real or imaginary.

					<pre><code class="language-python">print(3.14159 * 42)
print(1e100 + .001j)
return foo & 0xdeadbeef</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>string</code></td>
				<td>
					Literal text, including numbers and symbols and maybe even more special characters.

					<pre><code class="language-javascript">let greeting = 'Hello World!';</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>char</code></td>
				<td>
					A string that can comprise only a single character, enforced by the language.

					<pre><code class="language-elm">['A', 'z', '0', '-', '\t', '\u{2728}']</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>symbol</code></td>
				<td>
					A primitive data type found in some languages, can be thought of as an identifier.

					<pre><code class="language-smalltalk">#myFirstSymbol "#myFirstSymbol is a symbol in Smalltalk"</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>regex</code></td>
				<td>
					A regular expression.

					<pre><code class="language-javascript">let entity = /&#x?[\da-f]{1,8};/;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>url</code></td>
				<td>
					A link to another page or resource.

					<pre><code class="language-css">body {
	background: url(foo.png);
}</code></pre>
					<pre><code class="language-markdown">[Prism](https://prismjs.com) is a cool syntax highlighter.</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>operator</code></td>
				<td>
					A symbol that represents an action or process, whether it's a mathematical operation, logical operation, and so on.

					<pre><code class="language-javascript">x += (y + 4 >> -z === w) ? b ** c : ~a;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>variable</code></td>
				<td>
					The name of a variable. This token is intended to be used sparingly. It's generally used on special variables (e.g. Less or Bash), not general variables from imperative and procedural programming languages (e.g. C, JavaScript, Python).

					<pre><code class="language-less">@nice-blue: #5B83AD;
@light-blue: lighten(@nice-blue, 20%);</code></pre>
					<pre><code class="language-bash">echo $STRING
args=("$@")
echo ${args[0]} ${args[1]} ${args[2]}</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>constant</code></td>
				<td>
					The name of a constant.

					<pre><code class="language-javascript">const PI = 3.14159;</code></pre>
					<pre><code class="language-rust">const THING: u32 = 0xABAD1DEA;</code></pre>
					<pre><code class="language-c">fprintf(stdout, "hello world\n");</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>property</code></td>
				<td>
					An attribute/characteristic or object/map key.

					<pre><code class="language-css">body {
	color: red;
	line-height: normal;
}</code></pre>
					<pre><code class="language-json">{
	"data": { "labels": ["foo", "bar"], },
	"error": null,
	"status": "Ok"
}</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>punctuation</code></td>
				<td>
					Punctuation such as brackets, parentheses, commas, and more.

					<pre><code class="language-python">def median(pool):
	copy = sorted(pool)
	size = len(copy)
	if size % 2 == 1:
		return copy[(size - 1) / 2]
	else:
		return (copy[size/2 - 1] + copy[size/2]) / 2</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>important</code></td>
				<td>
					Anything that is important and needs special highlighting.

					<pre><code class="language-css">body {
	color: red !important;
}</code></pre>
					<pre><code class="language-markdown"># This is a heading. Headings are important.</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>comment</code></td>
				<td>
					Code comments.

					<pre><code class="language-markup">&lt;!-- Here's a comment --&gt;
&lt;style&gt;
	/* Here's another comment */
&lt;/style&gt;
&lt;script&gt;
// Here's yet another comment
&lt;/script&gt;</code></pre>
				</td>
			</tr>
			<tr>
				<th colspan="2">Markup languages</th>
			</tr>
			<tr>
				<td><code>tag</code></td>
				<td>
					A markup tag (e.g. HTML and XML tags).

					<pre><code class="language-markup">&lt;p&gt;Hello World!&lt;/p&gt;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>attr-name</code>, <code>attr-value</code></td>
				<td>
					Kind of like a property of a markup tag and its value/argument respectively.

					<pre><code class="language-markup">&lt;p id="greeting"&gt;Hello World!&lt;/p&gt;
&lt;video width="1280" height="720" allowfullscreen controls&gt;
	&lt;source src="hello_world.mp4" type="video/mp4" /&gt;
&lt;/video&gt;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>namespace</code></td>
				<td>
					Used to provide uniquely named elements and attributes in XML documents. Outside of markup languages, it is used to tokenize the package/namespace part of identifiers.

					<pre><code class="language-markup">&lt;html:p foo:bar="baz" foo:weee&gt;&lt;/html:p&gt;</code></pre>
					<pre><code class="language-java">class Foo extends foo.bar.Foo {
	java.util.List&lt;foo.bar.Foo.Bar&gt; bar(foo.bar.Baz bat) {
		throw new java.lang.UnsupportedOperationException();
	}
}</code></pre>
					<pre><code class="language-rust">use std::sync::Arc;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>prolog</code></td>
				<td>
					The first part of an XML document.

					<pre><code class="language-markup">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;svg&gt;&lt;/svg&gt;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>doctype</code></td>
				<td>
					Document type declaration, specific to markup languages.

					<pre><code class="language-markup">&lt;!DOCTYPE html&gt;
&lt;html&gt;&lt;/html&gt;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>cdata</code></td>
				<td>
					Character data, specific to markup languages.

					<pre><code class="language-markup">&lt;ns1:description&gt;&lt;![CDATA[
  CDATA is &lt;not&gt; magical.
]]>&lt;/ns1:description&gt;</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>entity</code></td>
				<td>
					Code used to display reserved characters in markup languages.

					<pre><code class="language-markup">&amp;amp; &amp;#x2665; &amp;#160; &amp;#x152;</code></pre>
				</td>
			</tr>
			<tr>
				<th colspan="2">Document-markup languages</th>
			</tr>
			<tr>
				<td><code>bold</code></td>
				<td>
					Bolded text. Mostly found in document-markup languages.

					<pre><code class="language-markdown">**I am bolded text!**</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>italic</code></td>
				<td>
					Italicised text. Mostly found in document-markup languages.

					<pre><code class="language-markdown">*I am italicised text!*</code></pre>
				</td>
			</tr>
			<tr>
				<th colspan="2">Stylesheets</th>
			</tr>
			<tr>
				<td><code>atrule</code></td>
				<td>
					Literally <code>@</code> rules (statements) in stylesheets.

					<pre><code class="language-css">@font-family {
	font-family: Questrial;
	src: url(questrial.otf);
}
@media screen and (min-width: 768px) { /* ... */ }</code></pre>
				</td>
			</tr>
			<tr>
				<td><code>selector</code></td>
				<td>
					Code that identifies or picks something out of a group to operate on, such as the names of HTML elements in stylesheets.

					<pre><code class="language-css">section h1,
#features li strong,
header h2,
footer p { /* ... */ }</code></pre>
				</td>
			</tr>
			<tr>
				<th colspan="2">Diff</th>
			</tr>
			<tr>
				<td><code>inserted</code>, <code>deleted</code></td>
				<td>
					Added or modified line and deleted line respectively, mainly for diffs. In general, also the idea of something being increased and decreased/removed respectively.

					<pre><code class="language-diff">--- bar.yml	2014-12-16 11:43:41 +0800
+++ /Users/foo/Desktop/bar.yml	2014-12-31 11:28:08 +0800
@@ -4,5 +4,5 @@
project:
	sources: "src/*.cpp"
	headers: "src/*.h"
-    qt: core
+    qt: core gui
public_headers: "src/*.h"</code></pre>
				</td>
			</tr>
		</tbody>
	</table>
</section>

<section id="embedded-languages">
	<h1>Embedded languages</h1>

	<p>In addition to the standard tokens above, Prism also has a token for languages that are embedded in another language, such as CSS in HTML, JS in HTML, Bash in Shell-session, and CSS in JS, allowing Prism's themes to highlight the tokens in the embedded languages more accurately. All embedded languages are wrapped in their own special token, which includes a CSS class <code>language-xxxx</code> corresponding to the embedded language.</p>

	<p>Open your browser's developer tools and check out the example below to see it in action!</p>

	<pre data-line="6-10,14-18"><code class="language-markup">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
	&lt;meta charset="utf-8" /&gt;
	&lt;title>I can haz embedded CSS and JS&lt;/title&gt;
	&lt;style&gt;
		@media print {
			p { color: red !important; }
		}
	&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;I can haz embedded CSS and JS&lt;/h1&gt;
	&lt;script&gt;
	if (true) {
		console.log('foo');
	}
	&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
</section>

<section id="non-standard-tokens">
	<h1>Non-standard tokens</h1>

	<p>Sometimes, a language might use a particular name to refer to certain pieces of code, but which is not one of Prism's standard token names, such as <code>function-defintion</code>. Since <code>function-definition</code> is not a standard token, you might want to alias it with a standard token such as <code>function</code>, which is semantically similar, and will ensure that Prism's themes will highlight it. Here's an example:</p>

	<pre><code class="language-rust">fn main() {
	println!("Hello World");
	another_function();
}</code></pre>
</section>

<footer data-src="assets/templates/footer.html" data-type="text/html"></footer>

<script src="assets/vendor/utopia.js"></script>
<script src="prism.js"></script>
<script src="plugins/autoloader/prism-autoloader.js"></script>
<script src="plugins/line-highlight/prism-line-highlight.js"></script>
<script src="plugins/toolbar/prism-toolbar.js"></script>
<script src="plugins/show-language/prism-show-language.js"></script>
<script src="components.js"></script>
<script src="assets/code.js"></script>

</body>
</html>


================================================
File: /.editorconfig
================================================
root = true

[*]
insert_final_newline = false
charset = utf-8
indent_style = tab
indent_size = 4

[tests/languages/**.test]
end_of_line = crlf

[{package.json,.travis.yml}]
indent_style = space
indent_size = 2

================================================
File: /.eslintrc.js
================================================
/** @type {import('eslint').Linter.Config} */
module.exports = {
	root: true,
	plugins: ['jsdoc', 'regexp'],
	extends: 'eslint:recommended',
	rules: {
		'no-use-before-define': ['error', { 'functions': false, 'classes': false }],

		// stylistic rules
		'brace-style': ['warn', '1tbs', { allowSingleLine: true }],
		'curly': ['warn', 'all'],
		'eol-last': 'warn',
		'no-multiple-empty-lines': ['warn', { max: 2, maxBOF: 0, maxEOF: 0 }],
		'no-tabs': ['warn', { allowIndentationTabs: true }],
		'no-var': 'error',
		'one-var': ['warn', 'never'],
		'quotes': ['warn', 'single', { avoidEscape: true, allowTemplateLiterals: true }],
		'semi': 'warn',
		'wrap-iife': 'warn',

		// spaces and indentation
		'arrow-spacing': 'warn',
		'block-spacing': 'warn',
		'comma-spacing': 'warn',
		'computed-property-spacing': 'warn',
		'func-call-spacing': 'warn',
		'generator-star-spacing': 'warn',
		'indent': ['warn', 'tab', { SwitchCase: 1 }],
		'key-spacing': 'warn',
		'keyword-spacing': 'warn',
		'no-multi-spaces': ['warn', { ignoreEOLComments: true }],
		'no-trailing-spaces': 'warn',
		'no-whitespace-before-property': 'warn',
		'object-curly-spacing': ['warn', 'always'],
		'rest-spread-spacing': 'warn',
		'semi-spacing': 'warn',
		'space-before-blocks': 'warn',
		'space-before-function-paren': ['warn', { named: 'never' }],
		'space-in-parens': 'warn',
		'space-infix-ops': ['warn', { int32Hint: true }],
		'space-unary-ops': 'warn',
		'switch-colon-spacing': 'warn',
		'template-curly-spacing': 'warn',
		'yield-star-spacing': 'warn',

		// JSDoc
		'jsdoc/check-alignment': 'warn',
		'jsdoc/check-syntax': 'warn',
		'jsdoc/check-param-names': 'warn',
		'jsdoc/require-hyphen-before-param-description': ['warn', 'never'],
		'jsdoc/check-tag-names': 'warn',
		'jsdoc/check-types': 'warn',
		'jsdoc/empty-tags': 'warn',
		'jsdoc/newline-after-description': 'warn',
		'jsdoc/require-param-name': 'warn',
		'jsdoc/require-property-name': 'warn',

		// regexp
		'regexp/no-dupe-disjunctions': 'error',
		'regexp/no-empty-alternative': 'error',
		'regexp/no-empty-capturing-group': 'error',
		'regexp/no-empty-lookarounds-assertion': 'error',
		'regexp/no-lazy-ends': 'error',
		'regexp/no-obscure-range': 'error',
		'regexp/no-optional-assertion': 'error',
		'regexp/no-standalone-backslash': 'error',
		'regexp/no-super-linear-backtracking': 'error',
		'regexp/no-unused-capturing-group': 'error',
		'regexp/no-zero-quantifier': 'error',
		'regexp/optimal-lookaround-quantifier': 'error',

		'regexp/match-any': 'warn',
		'regexp/negation': 'warn',
		'regexp/no-dupe-characters-character-class': 'warn',
		'regexp/no-trivially-nested-assertion': 'warn',
		'regexp/no-trivially-nested-quantifier': 'warn',
		'regexp/no-useless-character-class': 'warn',
		'regexp/no-useless-flag': 'warn',
		'regexp/no-useless-lazy': 'warn',
		'regexp/no-useless-range': 'warn',
		'regexp/prefer-d': ['warn', { insideCharacterClass: 'ignore' }],
		'regexp/prefer-plus-quantifier': 'warn',
		'regexp/prefer-question-quantifier': 'warn',
		'regexp/prefer-star-quantifier': 'warn',
		'regexp/prefer-w': 'warn',
		'regexp/sort-alternatives': 'warn',
		'regexp/sort-flags': 'warn',
		'regexp/strict': 'warn',

		// I turned this rule off because we use `hasOwnProperty` in a lot of places
		// TODO: Think about re-enabling this rule
		'no-prototype-builtins': 'off',
		// TODO: Think about re-enabling this rule
		'no-inner-declarations': 'off',
		// TODO: Think about re-enabling this rule
		'no-sparse-arrays': 'off',

		// turning off some regex rules
		// these are supposed to protect against accidental use but we need those quite often
		'no-control-regex': 'off',
		'no-empty-character-class': 'off',
		'no-useless-escape': 'off'
	},
	settings: {
		jsdoc: { mode: 'typescript' },
		regexp: {
			// allow alphanumeric and cyrillic ranges
			allowedCharacterRanges: ['alphanumeric', 'а-я', 'А-Я']
		}
	},
	ignorePatterns: [
		'*.min.js',
		'vendor/',
		'docs/',
		'components.js',
		'prism.js',
		'node_modules'
	],

	overrides: [
		{
			// Languages and plugins
			files: [
				'components/*.js',
				'plugins/*/prism-*.js'
			],
			excludedFiles: 'components/index.js',
			env: {
				browser: true,
				node: true,
				worker: true
			},
			globals: {
				'Prism': true,
				// Allow Set and Map. They are partially supported by IE11
				'Set': true,
				'Map': true
			},
			rules: {
				'no-var': 'off'
			}
		},
		{
			// `loadLanguages` function for Node.js
			files: 'components/index.js',
			env: {
				es6: true,
				node: true
			},
			parserOptions: {
				ecmaVersion: 6
			},
			globals: {
				'Prism': true
			}
		},
		{
			// Gulp and Danger
			files: 'dependencies.js',
			env: {
				browser: true,
				node: true
			},
			rules: {
				'no-var': 'off'
			}
		},
		{
			// The scripts that run on our website
			files: 'assets/*.js',
			env: {
				browser: true
			},
			globals: {
				'components': true,
				'getLoader': true,
				'PrefixFree': true,
				'Prism': true,
				'Promise': true,
				'saveAs': true,
				'$': true,
				'$$': true,
				'$u': true
			},
			rules: {
				'no-var': 'off'
			}
		},
		{
			// Test files
			files: 'tests/**',
			env: {
				es6: true,
				mocha: true,
				node: true
			},
			parserOptions: {
				ecmaVersion: 2018
			}
		},
		{
			// Gulp, Danger, and benchmark
			files: [
				'gulpfile.js/**',
				'dangerfile.js',
				'benchmark/**',
			],
			env: {
				es6: true,
				node: true
			},
			parserOptions: {
				ecmaVersion: 2018
			}
		},
		{
			// This file
			files: '.eslintrc.js',
			env: {
				node: true
			}
		},
	]
};


================================================
File: /.jsdoc.json
================================================
{
	"plugins": [
		"plugins/markdown",
		"./gulpfile.js/docs.js"
	],
	"opts": {
		"destination": "./docs",
		"encoding": "utf8",
		"template": "./node_modules/docdash",
		"access": [
			"public",
			"protected"
		]
	},
	"recurseDepth": 10,
	"source": {
		"includePattern": "\\.js$",
		"excludePattern": "\\.min\\.js$"
	},
	"tags": {
		"allowUnknownTags": true,
		"dictionaries": [
			"jsdoc",
			"closure"
		]
	},
	"templates": {
		"cleverLinks": true,
		"monospaceLinks": true,
		"default": {
			"includeDate": false
		}
	},
	"docdash": {
		"static": true,
		"sort": true,
		"search": true,
		"collapse": false,
		"wrap": false,
		"typedefs": true,
		"private": false,
		"scripts": [
			"styles/overwrites.css"
		],
		"openGraph": {
			"title": "Prism generated API documentation",
			"type": "website",
			"image": "/logo.svg",
			"site_name": "Prism",
			"url": "https://prismjs.com"
		},
		"menu": {
			"PrismJS": {
				"href": "https://prismjs.com",
				"class": "menu-item",
				"id": "website_link"
			},
			"GitHub": {
				"href": "https://github.com/PrismJS/prism",
				"target": "_blank",
				"class": "menu-item",
				"id": "github_link"
			}
		}
	}
}


================================================
File: /.npmignore
================================================
.idea
*.iml

hide-*.js
.DS_Store
CNAME
.github/
benchmark/
assets/
docs/
examples/
tests/
*.tgz
*.html
*.svg
bower.json
composer.json
dangerfile.js
gulpfile.js
.editorconfig
.gitattributes
.travis.yml
.eslintrc.js
.eslintcache
.jsdoc.json
MAINTAINERS.md
SECURITY.md


================================================
File: /assets/code.js
================================================
(function () {

	if (!document.body.addEventListener) {
		return;
	}

	$$('[data-plugin-header]').forEach(function (element) {
		var plugin = components.plugins[element.getAttribute('data-plugin-header')];
		element.innerHTML = '<div class="intro" data-src="assets/templates/header-plugins.html" data-type="text/html"></div>\n'
	+ '<h2>' + plugin.title + '</h2>\n<p>' + plugin.description + '</p>';
	});

	$$('[data-src][data-type="text/html"]').forEach(function (element) {
		var src = element.getAttribute('data-src');
		var html = element.getAttribute('data-type') === 'text/html';
		var contentProperty = html ? 'innerHTML' : 'textContent';

		$u.xhr({
			url: src,
			callback: function (xhr) {
				try {
					element[contentProperty] = xhr.responseText;

					// Run JS

					$$('script', element).forEach(function (script) {
						var parent = script.parentNode;
						parent.removeChild(script);
						document.head.appendChild(script);
					});
				} catch (e) { /* noop */ }
			}
		});
	});

}());

/**
 * Table of contents
 */
(function () {
	var toc = document.createElement('ol');

	$$('body > section > h1').forEach(function (h1) {
		var section = h1.parentNode;
		var text = h1.textContent;
		var id = h1.id || section.id;

		// Assign id if one does not exist
		if (!id) {
			id = text.toLowerCase();

			// Replace spaces with hyphens, only keep first 10 words
			id = id.split(/\s+/g, 10).join('-');

			// Remove non-word characters
			id = id.replace(/[^\w-]/g, '');

			section.id = id;
		}

		// Linkify heading text
		if (h1.children.length === 0) {
			h1.innerHTML = '';

			$u.element.create('a', {
				properties: {
					href: window.location.pathname + '#' + id
				},
				contents: text,
				inside: h1
			});
		}

		$u.element.create('li', {
			contents: {
				tag: 'a',
				properties: {
					href: window.location.pathname + '#' + (h1.id || section.id)
				},
				contents: text
			},
			inside: toc
		});
	});

	if (toc.children.length > 0) {
		$u.element.create('section', {
			properties: {
				id: 'toc'
			},
			contents: [{
				tag: 'h1',
				contents: 'On this page'
			}, toc],
			before: $('body > section')
		});
	}

}());

/**
 * Linkify h2
 */
(function () {
	$$('section h2[id]').forEach(function (h2) {
		var text = h2.textContent;
		h2.innerHTML = '';

		$u.element.create('a', {
			properties: {
				href: window.location.pathname + '#' + h2.id
			},
			contents: text,
			inside: h2
		});
	});
}());

// calc()
(function () {
	if (!window.PrefixFree) {
		return;
	}

	if (PrefixFree.functions.indexOf('calc') == -1) {
		var style = document.createElement('_').style;
		style.width = 'calc(1px + 1%)';

		if (!style.width) {
			// calc not supported
			var header = $('header');
			var footer = $('footer');

			function calculatePadding() {
				header.style.padding =
				footer.style.padding = '30px ' + (innerWidth / 2 - 450) + 'px';
			}

			addEventListener('resize', calculatePadding);
			calculatePadding();
		}
	}
}());

// setTheme is intentionally global,
// so it can be accessed from download.js
var setTheme;
(function () {
	var p = $u.element.create('p', {
		properties: {
			id: 'theme'
		},
		contents: {
			tag: 'p',
			contents: 'Theme:'
		},
		after: '.intro'
	});

	var themes = components.themes;
	var current = (location.search.match(/theme=([\w-]+)/) || [])[1];

	if (!(current in themes)) {
		current = undefined;
	}

	if (current === undefined) {
		var stored = localStorage.getItem('theme');

		current = stored in themes ? stored : 'prism';
	}

	setTheme = function (id) {
		var link = $$('link[href^="themes/prism"]')[0];

		link.href = themes.meta.path.replace(/\{id\}/g, id);
		localStorage.setItem('theme', id);
	};

	for (var id in themes) {

		if (id === 'meta') {
			continue;
		}

		$u.element.create('input', {
			properties: {
				type: 'radio',
				name: 'theme',
				id: 'theme=' + id,
				checked: current === id,
				value: id,
				onclick: function () {
					setTheme(this.value);
				}
			},
			inside: p
		});

		$u.element.create('label', {
			properties: {
				htmlFor: 'theme=' + id
			},
			contents: themes[id].title || themes[id],
			inside: p
		});
	}

	setTheme(current);
}());

(function () {

	function listPlugins(ul) {
		for (var id in components.plugins) {
			if (id == 'meta') {
				continue;
			}

			var plugin = components.plugins[id];

			var li = $u.element.create('li', {
				contents: [
					{
						tag: 'a',
						prop: {
							href: 'plugins/' + id
						},
						contents: plugin.title || plugin
					},
					{
						tag: 'br'
					}
				],
				inside: ul
			});

			var desc = document.createElement('div');
			desc.innerHTML = plugin.description;
			li.appendChild(desc);
		}
	}

	$$('.plugin-list').forEach(listPlugins);

}());


================================================
File: /assets/download.js
================================================
/**
 * Manage downloads
 */

(function () {

	var cache = {};
	var form = $('form');
	var minified = true;

	var dependencies = {};

	var treeURL = 'https://api.github.com/repos/PrismJS/prism/git/trees/master?recursive=1';
	var treePromise = new Promise(function (resolve) {
		$u.xhr({
			url: treeURL,
			callback: function (xhr) {
				if (xhr.status < 400) {
					resolve(JSON.parse(xhr.responseText).tree);
				}
			}
		});
	});

	/**
	 * Converts the given value into an array.
	 *
	 * @param {T | T[] | null | undefined} value
	 * @returns {T[]}
	 * @template T
	 */
	function toArray(value) {
		if (Array.isArray(value)) {
			return value;
		} else {
			return value == null ? [] : [value];
		}
	}

	var hstr = window.location.hash.match(/(?:languages|plugins)=[-+\w]+|themes=[-\w]+/g);
	if (hstr) {
		hstr.forEach(function (str) {
			var kv = str.split('=', 2);
			var category = kv[0];
			var ids = kv[1].split('+');
			if (category !== 'meta' && category !== 'core' && components[category]) {
				for (var id in components[category]) {
					if (components[category][id].option) {
						delete components[category][id].option;
					}
				}
				if (category === 'themes' && ids.length) {
					var themeInput = $('#theme input[value="' + ids[0] + '"]');
					if (themeInput) {
						themeInput.checked = true;
					}
					// eslint-disable-next-line no-undef
					setTheme(ids[0]);
				}
				var makeDefault = function (id) {
					if (id !== 'meta') {
						if (components[category][id]) {
							if (components[category][id].option !== 'default') {
								if (typeof components[category][id] === 'string') {
									components[category][id] = { title: components[category][id] };
								}
								components[category][id].option = 'default';
							}

							toArray(components[category][id].require).forEach(makeDefault);
						}
					}
				};
				ids.forEach(makeDefault);
			}
		});
	}

	// Stay compatible with old querystring feature
	var qstr = window.location.search.match(/(?:languages|plugins)=[-+\w]+|themes=[-\w]+/g);
	if (qstr && !hstr) {
		window.location.hash = window.location.search.replace(/^\?/, '');
		window.location.search = '';
	}

	var storedTheme = localStorage.getItem('theme');

	for (var category in components) {
		var all = components[category];

		all.meta.section = $u.element.create('section', {
			className: 'options',
			id: 'category-' + category,
			contents: {
				tag: 'h1',
				contents: category.charAt(0).toUpperCase() + category.slice(1)
			},
			inside: '#components'
		});

		if (all.meta.addCheckAll) {
			$u.element.create('label', {
				attributes: {
					'data-id': 'check-all-' + category
				},
				contents: [
					{
						tag: 'input',
						properties: {
							type: 'checkbox',
							name: 'check-all-' + category,
							value: '',
							checked: false,
							onclick: (function (category, all) {
								return function () {
									var checkAll = this;
									$$('input[name="download-' + category + '"]').forEach(function (input) {
										all[input.value].enabled = input.checked = checkAll.checked;
									});

									update(category);
								};
							}(category, all))
						}
					},
					'Select/unselect all'
				],
				inside: all.meta.section
			});
		}

		for (var id in all) {
			if (id === 'meta') {
				continue;
			}

			var checked = false; var disabled = false;
			var option = all[id].option || all.meta.option;

			switch (option) {
				case 'mandatory': disabled = true; // fallthrough
				case 'default': checked = true;
			}
			if (category === 'themes' && storedTheme) {
				checked = id === storedTheme;
			}

			var filepath = all.meta.path.replace(/\{id\}/g, id);

			var info = all[id] = {
				title: all[id].title || all[id],
				aliasTitles: all[id].aliasTitles,
				noCSS: all[id].noCSS || all.meta.noCSS,
				noJS: all[id].noJS || all.meta.noJS,
				enabled: checked,
				require: toArray(all[id].require),
				after: toArray(all[id].after),
				modify: toArray(all[id].modify),
				owner: all[id].owner,
				files: {
					minified: {
						paths: [],
						size: 0
					},
					dev: {
						paths: [],
						size: 0
					}
				}
			};

			info.require.forEach(function (v) {
				dependencies[v] = (dependencies[v] || []).concat(id);
			});

			if (!all[id].noJS && !/\.css$/.test(filepath)) {
				info.files.minified.paths.push(filepath.replace(/(\.js)?$/, '.min.js'));
				info.files.dev.paths.push(filepath.replace(/(\.js)?$/, '.js'));
			}


			if ((!all[id].noCSS && !/\.js$/.test(filepath)) || /\.css$/.test(filepath)) {
				var cssFile = filepath.replace(/(\.css)?$/, '.css');
				var minCSSFile = cssFile.replace(/(?:\.css)$/, '.min.css');

				info.files.minified.paths.push(minCSSFile);
				info.files.dev.paths.push(cssFile);
			}

			function getLanguageTitle(lang) {
				if (!lang.aliasTitles) {
					return lang.title;
				}

				var titles = [lang.title];
				for (var alias in lang.aliasTitles) {
					if (lang.aliasTitles.hasOwnProperty(alias)) {
						titles.push(lang.aliasTitles[alias]);
					}
				}
				return titles.join(' + ');
			}

			var label = $u.element.create('label', {
				attributes: {
					'data-id': id
				},
				contents: [
					{
						tag: 'input',
						properties: {
							type: all.meta.exclusive ? 'radio' : 'checkbox',
							name: 'download-' + category,
							value: id,
							checked: checked,
							disabled: disabled,
							onclick: (function (id, category, all) {
								return function () {
									$$('input[name="' + this.name + '"]').forEach(function (input) {
										all[input.value].enabled = input.checked;
									});

									if (all[id].require && this.checked) {
										all[id].require.forEach(function (v) {
											var input = $('label[data-id="' + v + '"] > input');
											input.checked = true;

											input.onclick();
										});
									}

									if (dependencies[id] && !this.checked) { // It’s required by others
										dependencies[id].forEach(function (dependent) {
											var input = $('label[data-id="' + dependent + '"] > input');
											input.checked = false;

											input.onclick();
										});
									}

									update(category, id);
								};
							}(id, category, all))
						}
					},
					all.meta.link ? {
						tag: 'a',
						properties: {
							href: all.meta.link.replace(/\{id\}/g, id),
							className: 'name'
						},
						contents: info.title
					} : {
						tag: 'span',
						properties: {
							className: 'name'
						},
						contents: getLanguageTitle(info)
					},
					' ',
					all[id].owner ? {
						tag: 'a',
						properties: {
							href: 'https://github.com/' + all[id].owner,
							className: 'owner',
							target: '_blank'
						},
						contents: all[id].owner
					} : ' ',
					{
						tag: 'strong',
						className: 'filesize'
					}
				],
				inside: all.meta.section
			});

			// Add click events on main theme selector too.
			(function (label) {
				if (category === 'themes') {
					var themeInput = $('#theme input[value="' + id + '"]');
					var input = $('input', label);
					if (themeInput) {
						var themeInputOnclick = themeInput.onclick;
						themeInput.onclick = function () {
							input.checked = true;
							input.onclick();
							themeInputOnclick && themeInputOnclick.call(themeInput);
						};
					}
				}
			}(label));
		}
	}

	form.elements.compression[0].onclick =
		form.elements.compression[1].onclick = function () {
			minified = !!+this.value;

			getFilesSizes();
		};

	function getFileSize(filepath) {
		return treePromise.then(function (tree) {
			for (var i = 0, l = tree.length; i < l; i++) {
				if (tree[i].path === filepath) {
					return tree[i].size;
				}
			}
		});
	}

	function getFilesSizes() {
		for (var category in components) {
			var all = components[category];

			for (var id in all) {
				if (id === 'meta') {
					continue;
				}

				var distro = all[id].files[minified ? 'minified' : 'dev'];
				var files = distro.paths;

				files.forEach(function (filepath) {
					var file = cache[filepath] = cache[filepath] || {};

					if (!file.size) {

						(function (category, id) {
							getFileSize(filepath).then(function (size) {
								if (size) {
									file.size = size;
									distro.size += file.size;

									update(category, id);
								}
							});
						}(category, id));
					} else {
						update(category, id);
					}
				});
			}
		}
	}

	getFilesSizes();

	function getFileContents(filepath) {
		return new Promise(function (resolve, reject) {
			$u.xhr({
				url: filepath,
				callback: function (xhr) {
					if (xhr.status < 400 && xhr.responseText) {
						resolve(xhr.responseText);
					} else {
						reject();
					}
				}
			});
		});
	}

	function prettySize(size) {
		return Math.round(100 * size / 1024) / 100 + 'KB';
	}

	function update(updatedCategory, updatedId) {
		// Update total size
		var total = { js: 0, css: 0 }; var updated = { js: 0, css: 0 };

		for (var category in components) {
			var all = components[category];
			var allChecked = true;

			for (var id in all) {
				var info = all[id];

				if (info.enabled || id == updatedId) {
					var distro = info.files[minified ? 'minified' : 'dev'];

					distro.paths.forEach(function (path) {
						if (cache[path]) {
							var file = cache[path];

							var type = path.match(/\.(\w+)$/)[1];
							var size = file.size || 0;

							if (info.enabled) {

								if (!file.contentsPromise) {
									file.contentsPromise = getFileContents(path);
								}

								total[type] += size;
							}

							if (id == updatedId) {
								updated[type] += size;
							}
						}
					});
				}
				if (id !== 'meta' && !info.enabled) {
					allChecked = false;
				}

				// Select main theme
				if (category === 'themes' && id === updatedId && info.enabled) {
					var themeInput = $('#theme input[value="' + updatedId + '"]');
					if (themeInput) {
						themeInput.checked = true;
					}
					// eslint-disable-next-line no-undef
					setTheme(updatedId);
				}
			}

			if (all.meta.addCheckAll) {
				$('input[name="check-all-' + category + '"]').checked = allChecked;
			}
		}

		total.all = total.js + total.css;

		if (updatedId) {
			updated.all = updated.js + updated.css;

			$u.element.prop($('label[data-id="' + updatedId + '"] .filesize'), {
				textContent: prettySize(updated.all),
				title: (updated.js ? Math.round(100 * updated.js / updated.all) + '% JavaScript' : '') +
					(updated.js && updated.css ? ' + ' : '') +
					(updated.css ? Math.round(100 * updated.css / updated.all) + '% CSS' : '')
			});
		}

		$('#filesize').textContent = prettySize(total.all);

		$u.element.prop($('#percent-js'), {
			textContent: Math.round(100 * total.js / total.all) + '%',
			title: prettySize(total.js)
		});

		$u.element.prop($('#percent-css'), {
			textContent: Math.round(100 * total.css / total.all) + '%',
			title: prettySize(total.css)
		});

		delayedGenerateCode();
	}

	var timerId = 0;
	// "debounce" multiple rapid requests to generate and highlight code
	function delayedGenerateCode() {
		if (timerId !== 0) {
			clearTimeout(timerId);
		}
		timerId = setTimeout(generateCode, 500);
	}

	function generateCode() {
		/** @type {CodePromiseInfo[]} */
		var promises = [];
		var redownload = {};

		for (var category in components) {
			for (var id in components[category]) {
				if (id === 'meta') {
					continue;
				}

				var info = components[category][id];
				if (info.enabled) {
					if (category !== 'core') {
						redownload[category] = redownload[category] || [];
						redownload[category].push(id);
					}
					info.files[minified ? 'minified' : 'dev'].paths.forEach(function (path) {
						if (cache[path]) {
							var type = path.match(/\.(\w+)$/)[1];

							promises.push({
								contentsPromise: cache[path].contentsPromise,
								id: id,
								category: category,
								path: path,
								type: type
							});
						}
					});
				}
			}
		}

		// Hide error message if visible
		var error = $('#download .error');
		error.style.display = '';

		Promise.all([buildCode(promises), getVersion()]).then(function (arr) {
			var res = arr[0];
			var version = arr[1];
			var code = res.code;
			var errors = res.errors;

			if (errors.length) {
				error.style.display = 'block';
				error.innerHTML = '';
				$u.element.contents(error, errors);
			}

			var redownloadUrl = window.location.href.split('#')[0] + '#';
			for (var category in redownload) {
				redownloadUrl += category + '=' + redownload[category].join('+') + '&';
			}
			redownloadUrl = redownloadUrl.replace(/&$/, '');
			window.location.replace(redownloadUrl);

			var versionComment = '/* PrismJS ' + version + '\n' + redownloadUrl + ' */';

			for (var type in code) {
				(function (type) {
					var text = versionComment + '\n' + code[type];
					var fileName = 'prism.' + type;

					var codeElement = $('#download-' + type + ' code');
					var pre = codeElement.parentElement;

					var newCode = document.createElement('CODE');
					newCode.className = codeElement.className;
					newCode.textContent = text;

					Prism.highlightElement(newCode, true, function () {
						pre.replaceChild(newCode, codeElement);
					});


					$('#download-' + type + ' .download-button').onclick = function () {
						saveAs(new Blob([text], { type: 'application/octet-stream;charset=utf-8' }), fileName);
					};
				}(type));
			}
		});
	}

	/**
	 * Returns a promise of the code of the Prism bundle.
	 *
	 * @param {CodePromiseInfo[]} promises
	 * @returns {Promise<{ code: { js: string, css: string }, errors: HTMLElement[] }>}
	 *
	 * @typedef CodePromiseInfo
	 * @property {Promise} contentsPromise
	 * @property {string} id
	 * @property {string} category
	 * @property {string} path
	 * @property {string} type
	 */
	function buildCode(promises) {
		// sort the promises

		/** @type {CodePromiseInfo[]} */
		var finalPromises = [];
		/** @type {Object<string, CodePromiseInfo[]>} */
		var toSortMap = {};

		promises.forEach(function (p) {
			if (p.category == 'core' || p.category == 'themes') {
				finalPromises.push(p);
			} else {
				var infos = toSortMap[p.id];
				if (!infos) {
					toSortMap[p.id] = infos = [];
				}
				infos.push(p);
			}
		});

		// this assumes that the ids in `toSortMap` are complete under transitive requirements
		getLoader(components, Object.keys(toSortMap)).getIds().forEach(function (id) {
			if (!toSortMap[id]) {
				console.error(id + ' not found.');
			}
			finalPromises.push.apply(finalPromises, toSortMap[id]);
		});
		promises = finalPromises;

		// build
		var i = 0;
		var l = promises.length;
		var code = { js: '', css: '' };
		var errors = [];

		var f = function (resolve) {
			if (i < l) {
				var p = promises[i];
				p.contentsPromise.then(function (contents) {
					code[p.type] += contents + (p.type === 'js' && !/;\s*$/.test(contents) ? ';' : '') + '\n';
					i++;
					f(resolve);
				});
				p.contentsPromise['catch'](function () {
					errors.push($u.element.create({
						tag: 'p',
						prop: {
							textContent: 'An error occurred while fetching the file "' + p.path + '".'
						}
					}));
					i++;
					f(resolve);
				});
			} else {
				resolve({ code: code, errors: errors });
			}
		};

		return new Promise(f);
	}

	/**
	 * @returns {Promise<string>}
	 */
	function getVersion() {
		return getFileContents('./package.json').then(function (jsonStr) {
			return JSON.parse(jsonStr).version;
		});
	}

}());


================================================
File: /assets/examples.js
================================================
/**
 * Manage examples
 */

(function () {

	var examples = {};

	var treeURL = 'https://api.github.com/repos/PrismJS/prism/git/trees/master?recursive=1';
	var treePromise = new Promise(function (resolve) {
		$u.xhr({
			url: treeURL,
			callback: function (xhr) {
				if (xhr.status < 400) {
					resolve(JSON.parse(xhr.responseText).tree);
				}
			}
		});
	});

	var languages = components.languages;

	Promise.all(Object.keys(languages).filter(function (id) { return id !== 'meta'; }).map(function (id) {
		var language = languages[id];

		language.enabled = language.option === 'default';
		language.path = languages.meta.path.replace(/\{id\}/g, id) + '.js';
		language.examplesPath = languages.meta.examplesPath.replace(/\{id\}/g, id) + '.html';

		return fileExists(language.examplesPath).then(function (exists) {
			return { id: id, exists: exists };
		});
	})).then(function (values) {
		values.forEach(function (result) {
			var id = result.id;
			var exists = result.exists;
			var language = languages[id];
			var checked = language.enabled;

			$u.element.create('label', {
				attributes: {
					'data-id': id,
					'title': !exists ? 'No examples are available for this language.' : ''
				},
				className: !exists ? 'unavailable' : '',
				contents: [
					{
						tag: 'input',
						properties: {
							type: 'checkbox',
							name: 'language',
							value: id,
							checked: checked && exists,
							disabled: !exists,
							onclick: function () {
								$$('input[name="' + this.name + '"]').forEach(function (input) {
									languages[input.value].enabled = input.checked;
								});

								update(id);
							}
						}
					},
					language.title
				],
				inside: '#languages'
			});
			examples[id] = $u.element.create('section', {
				'id': 'language-' + id,
				'className': 'language-' + id,
				inside: '#examples'
			});
			if (checked) {
				update(id);
			}
		});
	});


	function fileExists(filepath) {
		return treePromise.then(function (tree) {
			for (var i = 0, l = tree.length; i < l; i++) {
				if (tree[i].path === filepath) {
					return true;
				}
			}

			// on localhost: The missing example might be for a new language
			if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
				return getFileContents(filepath).then(function () { return true; }, function () { return false; });
			}

			return false;
		});
	}

	function getFileContents(filepath) {
		return new Promise(function (resolve, reject) {
			$u.xhr({
				url: filepath,
				callback: function (xhr) {
					if (xhr.status < 400 && xhr.responseText) {
						resolve(xhr.responseText);
					} else {
						reject();
					}
				}
			});
		});
	}

	function buildContentsHeader(id) {
		function toArray(value) {
			if (Array.isArray(value)) {
				return value;
			} else if (value != null) {
				return [value];
			} else {
				return [];
			}
		}

		var language = languages[id];
		var header = '<h1>' + language.title + '</h1>';

		if (language.alias) {
			var alias = toArray(language.alias);

			header += '<p>To use this language, use one of the following classes:</p>';
			header += '<ul><li><code class="language-none">"language-' + id + '"</code></li>';
			alias.forEach(function (alias) {
				header += '<li><code class="language-none">"language-' + alias + '"</code></li>';
			});
			header += '</ul>';
		} else {
			header += '<p>To use this language, use the class <code class="language-none">"language-' + id + '"</code>.</p>';
		}

		function wrapCode(text) {
			return '<code class="language-none">' + text + '</code>';
		}

		var deps = [];
		if (language.require) {
			deps.push('requires ' + toArray(language.require).map(wrapCode).join(', '));
		}
		if (language.optional) {
			deps.push('optionally uses ' + toArray(language.optional).map(wrapCode).join(', '));
		}
		if (language.modify) {
			deps.push('modifies ' + toArray(language.modify).map(wrapCode).join(', '));
		}
		if (deps.length) {
			header += '<p>';
			header += '<a href="https://prismjs.com/extending.html#dependencies"><strong>Dependencies:</strong></a>';
			header += ' This component';
			if (deps.length === 1) {
				header += ' ' + deps[0] + '.';
			} else {
				header += ':';
				header += '<ul>';
				deps.forEach(function (text) {
					header += '<li>' + text + '.</li>';
				});
				header += '</ul>';
			}
			header += '</p>';
		}

		return header;
	}

	function update(id) {
		var language = languages[id];
		if (language.enabled) {
			if (!language.examplesPromise) {
				language.examplesPromise = getFileContents(language.examplesPath);
			}
			language.examplesPromise.then(function (contents) {
				examples[id].innerHTML = buildContentsHeader(id) + contents;

				/** @type {HTMLElement} */
				var container = examples[id];
				container.innerHTML = buildContentsHeader(id) + contents;

				// the current language might be an extension of a language
				// so to be safe, we explicitly add a dependency to the current language
				$$('pre', container).forEach(/** @param {HTMLElement} pre */function (pre) {
					var dependencies = (pre.getAttribute('data-dependencies') || '').trim();
					dependencies = dependencies ? dependencies + ',' + id : id;
					pre.setAttribute('data-dependencies', dependencies);
				});

				Prism.highlightAllUnder(container);
			});
		} else {
			examples[id].innerHTML = '';
		}
	}
}());


================================================
File: /assets/style.css
================================================
@import url(https://fonts.googleapis.com/css?family=Questrial);
@import url(https://fonts.googleapis.com/css?family=Arvo);

@font-face {
	src: url(https://lea.verou.me/logo.otf);
	font-family: 'LeaVerou';
}

/*
 Shared styles
 */

section h1,
#features li strong,
header h2,
footer p {
	font: 100% Rockwell, Arvo, serif;
}

/*
 Styles
 */

* {
	margin: 0;
	padding: 0;
}

body {
	font: 100%/1.5 Questrial, sans-serif;
	tab-size: 4;
	hyphens: auto;
}

a {
	color: inherit;
}

section h1 {
	font-size: 250%;
}

	section section h1 {
		font-size: 150%;
	}

	section h1 code {
		font-style: normal;
	}

	section h1 > a,
	section h2[id] > a {
		text-decoration: none;
	}

	section h1 > a:before,
	section h2[id] > a:before {
		content: '§';
		position: absolute;
		padding: 0 .2em;
		margin-left: -1em;
		border-radius: .2em;
		color: silver;
		text-shadow: 0 1px white;
	}

	section h1 > a:hover:before,
	section h2[id] > a:hover:before {
		color: black;
		background: #f1ad26;
	}

p {
	margin: 1em 0;
}

section h1,
h2,
h3 {
	margin: 1em 0 .3em;
}

h2,
h3 {
	font-weight: normal;
}

dt {
	margin: 1em 0 0 0;
	font-size: 130%;
}

	dt:after {
		content: ':';
	}

dd {
	margin-left: 2em;
}

strong {
	font-weight: bold;
}

code, pre {
	font-family: Consolas, Monaco, 'Andale Mono', 'Lucida Console', monospace;
	hyphens: none;
}

pre {
	max-height: 30em;
	overflow: auto;
}

mark {
	outline: .4em solid red;
	outline-offset: .4em;
	margin: .4em 0;
	background-color: transparent;
	display: inline-block;
}

header,
body > section {
	display: block;
	max-width: 900px;
	margin: auto;
}

header, footer {
	position: relative;
	padding: 30px -webkit-calc(50% - 450px); /* Workaround for bug */
	padding: 30px calc(50% - 450px);
	color: white;
	text-shadow: 0 -1px 2px black, 0 0 4px black,
	             0 -1px 0 black, 0 1px 0 black, -1px 0 0 black, 1px 0 0 black;
	background: linear-gradient(transparent, rgba(0, 0, 0, 0.6)), url(img/spectrum.png) fixed;
}

header:before,
footer:before {
	content: '';
	position: absolute;
	bottom: 0; left: 0; right: 0;
	height: 20px;
	background-size: 20px 40px;
	background-repeat: repeat-x;
	background-image: linear-gradient(45deg, transparent 34%, white 34%, white 66%, transparent 66%),
	                  linear-gradient(135deg, transparent 34%, white 34%, white 66%, transparent 66%);
}

	header .intro,
	html.simple header {
		overflow: hidden;
	}

	header h1 {
		float: left;
		margin-right: 30px;
		color: #7fab14;
		text-align: center;
		font-size: 140%;
		text-transform: uppercase;
		letter-spacing: .25em;
	}

	header h2 {
		margin-top: .5em;
		color: #f1ad26;
	}

		header h1 a {
			text-decoration: none;
		}

		header img {
			display: block;
			width: 150px;
			height: 128px;
			margin-bottom: .3em;
			border: 0;
		}

	header h2 {
		font-size: 300%;
	}

	header .intro p {
		margin: 0;
		font: 150%/1.4 Questrial, sans-serif;
		font-size: 150%;
	}

	#features {
		margin-top: 1.6em;
	}

		#features li {
			margin: 0 0 1.6em 0;
			list-style: none;
			display: inline-block;
			width: 49%;
			box-sizing: border-box;
			vertical-align: top;
		}

		#features li:nth-child(odd) {
			padding-right: 2em;
		}
		#features li:nth-child(even) {
			padding-left: 2em;
		}

			#features li:before {
				content: '✓';
				float: left;
				margin-left: -.8em;
				color: #7fab14;
				font-size: 320%;
				line-height: 1;
			}

				#features li strong {
					display: block;
					margin-bottom: .1em;
					font-size: 160%;
				}

	header .download-button {
		float: right;
		margin: 0 0 .5em .5em;
	}

	#theme {
		position: relative;
		z-index: 1;
		float: right;
		margin-right: -9em;
		text-align: center;
		text-transform: uppercase;
		letter-spacing: .2em;
		text-shadow: 0 -1px 2px black;
	}

		#theme > p {
			position: absolute;
			left: 100%;
			transform: translateX(50%) rotate(90deg) ;
			transform-origin: top left;
			font-size: 130%;
		}

		#theme > label {
			position: relative;
			display: flex;
			justify-content: center;
			align-items: center;
			width: 8.5em;
			height: 8.5em;
			line-height: 1em;
			border-radius: 50%;
			background: hsla(0,0%,100%,.5);
			cursor: pointer;
			font-size: 90%;
			padding: 0;
		}

		#theme > label:before {
			content: '';
			position: absolute;
			top: 0; right: 0; bottom: 0; left: 0;
			z-index: -1;
			border-radius: inherit;
			background: url(img/spectrum.png) fixed;
		}

		#theme > label:nth-of-type(n+2) {
			margin-top: -2.5em;
		}

		#theme > input:not(:checked) + label:hover {
			background: hsla(77, 80%, 60%, .5);
		}

		#theme > input {
			position: absolute;
			left: 0;
			clip: rect(0,0,0,0);
		}

		#theme > input:checked + label {
			background: #7fab14;
		}

		@media (max-width: 1300px) and (min-width: 1051px) {
			#theme {
				position: relative;
				z-index: 1;
				float: left;
				margin: 1em 0;
				width: 100%;
			}
			#theme + * {
				clear: both;
			}

				#theme > p {
					margin-top: .5em;
				}

				#theme > label {
					float: left;
					font-size: 82.6%;
				}

				#theme > label:before {
					display: none;
				}

				#theme > label:nth-of-type(n+2) {
					margin-top: 0;
				}
		}

		@media (max-width: 1050px) {
			#theme {
				position: relative;
				z-index: 1;
				float: left;
				margin: 1em 0;
			}
			#theme + * {
				clear: both;
			}

				#theme > p {
					left: inherit;
					right: -1em;
				}

				#theme > label {
					float: left;
				}

				#theme > label:before {
					display: none;
				}

				#theme > label:nth-of-type(n+2) {
					margin-top: 0;
				}
				#theme > label:nth-of-type(n+5) {
					margin-top: -2.5em;
				}
				#theme > label:nth-of-type(4n+1) {
					margin-left: 12.5em;
				}
		}

		@media (max-width: 800px) {
			#theme > label:nth-of-type(4) {
				margin-right: 4em;
			}
			#theme > label:nth-of-type(4n+1) {
				margin-left: 4em;
			}
		}


footer {
	margin-top: 2em;
	background-position: bottom;
	color: white;
}

	footer:before {
		bottom: auto;
		top: 0;
		background-position: bottom;
	}

	footer p {
		font-size: 150%;
	}

	footer ul {
		column-count: 3;
	}

.download-button {
	display: block;
	padding: .2em .8em .1em;
	border: 1px solid rgba(0,0,0,0.5);
	border-radius: 10px;
	background: #39a1cf;
	box-shadow: 0 2px 10px black,
	   inset 0 1px hsla(0,0%,100%,.3),
	   inset 0 .4em hsla(0,0%,100%,.2),
	   inset 0 10px 20px hsla(0,0%,100%,.25),
	   inset 0 -15px 30px rgba(0,0,0,0.3);
	color: white;
	text-shadow: 0 -1px 2px black;
	text-align: center;
	font-size: 250%;
	line-height: 1.5;
	text-transform: uppercase;
	text-decoration: none;
	hyphens: manual;
}

.download-button:hover {
	background-color: #7fab14;
}

.download-button:active {
	box-shadow: inset 0 2px 8px rgba(0,0,0,.8);
}

#toc {
	position: fixed;
	bottom: 15px;
	max-width: calc(50% - 450px - 40px);
	font-size: 80%;
    z-index: 999;
    background: white;
    color: rgba(0,0,0,.5);
    padding: 0 10px 10px;
	border-radius: 0 3px 3px 0;
	box-sizing: border-box;
}

@media (max-width: 1200px) {
	#toc {
		 display: none;
	}
}

#toc:hover {
    color: rgba(0,0,0,1);
}

	#toc h1 {
		font-size: 180%;
		margin-top: .75rem;
	}

	#toc li {
		list-style: none;
		line-height: 1.2;
		padding: .2em 0;
	}

	#toc li a {
		padding: .2em 0;
	}

#logo:before {
	content: '☠';
	float: right;
	font: 100px/1.6 LeaVerou;
}

.used-by-logos {
	overflow: hidden;
}
	.used-by-logos > a {
		float: left;
		width: 33.33%;
		height: 100px;
		text-align: center;
		background: #F5F2F0;
		box-sizing: border-box;
		border: 5px solid white;
		position: relative;
	}
		.used-by-logos > a > img {
			max-height: 100%;
			max-width: 100%;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}

label a.owner {
	margin: 0 .5em;
}

label a.owner:not(:hover) {
	text-decoration: none;
	color: #aaa;
}

#languages-list ul {
	column-count: 3;
}
	#languages-list li {
		padding: .2em;
	}
	#languages-list li[data-id="javascript"] {
		border-bottom: 1px solid #aaa;
		padding-bottom: 1em;
		margin-bottom: 1em;
		margin-right: 1em;
	}

ul.plugin-list {
	column-count: 2;
}
	ul.plugin-list > li {
		break-inside: avoid;
		page-break-inside: avoid;
	}
	ul.plugin-list > li > a {
		font-size: 110%;
	}
	ul.plugin-list > li > div {
		margin-bottom: .5em;
	}


================================================
File: /assets/templates/footer.html
================================================
<span id="logo"></span>
<p>Handcrafted with &hearts;, by <a href="http://lea.verou.me" target="_blank">Lea Verou</a>, <a href="https://github.com/Golmote" target="_blank">Golmote</a>,
<a href="https://github.com/mAAdhaTTah" target="_blank">James DiGioia</a>, <a href="https://github.com/RunDevelopment" target="_blank">Michael Schmidt</a>
&amp; <a href="https://github.com/PrismJS/prism/graphs/contributors" target="_blank">all these awesome people</a></p>

<nav>
	<ul>
		<li><a href="index.html">Home</a></li>
		<li><a href="download.html">Download</a></li>
		<li><a href="faq.html">FAQ</a></li>
		<li><a href="test.html">Test drive</a></li>
		<li><a href="extending.html">API docs</a></li>
		<li><a href="https://github.com/PrismJS/prism/">Fork Prism on GitHub</a></li>
		<li><a href="https://twitter.com/prismjs">Follow Prism on Twitter</a></li>
	</ul>
</nav>


================================================
File: /assets/templates/header-download.html
================================================
<a href="download.html" class="full-script download-button">Download Prism</a>
Customize your download to include only the languages and plugins you need and the compression level you prefer.

================================================
File: /assets/templates/header-main.html
================================================
<h1><a href="index.html"><img src="assets/logo.svg" alt="Prism" /></a></h1>

<a href="download.html" class="download-button">Download</a>

<p>
	Prism is a lightweight, extensible syntax highlighter, built with modern web standards in mind.
	It’s used in millions of websites, including some of those you visit daily.
</p>

<!--<a href="https://twitter.com/share" class="twitter-share-button" data-via="prismjs" data-size="large" data-related="LeaVerou">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<script>console.log('bar')</script>-->


================================================
File: /assets/templates/header-plugins.html
================================================
<h1><a href="index.html"><img src="assets/logo.svg" alt="Prism" /> plugins</a></h1>

<a href="download.html" class="download-button">Download</a>

<p>
	Prism is a lightweight, extensible syntax highlighter, built with modern web standards in mind.
	It’s used in millions of websites, including some of those you visit daily.
</p>


================================================
File: /assets/vendor/promise.js
================================================
/**
 * ES6-Promises
 * https://github.com/jakearchibald/es6-promise
 */
!function(){var a,b,c,d;!function(){var e={},f={};a=function(a,b,c){e[a]={deps:b,callback:c}},d=c=b=function(a){function c(b){if("."!==b.charAt(0))return b;for(var c=b.split("/"),d=a.split("/").slice(0,-1),e=0,f=c.length;f>e;e++){var g=c[e];if(".."===g)d.pop();else{if("."===g)continue;d.push(g)}}return d.join("/")}if(d._eak_seen=e,f[a])return f[a];if(f[a]={},!e[a])throw new Error("Could not find module "+a);for(var g,h=e[a],i=h.deps,j=h.callback,k=[],l=0,m=i.length;m>l;l++)"exports"===i[l]?k.push(g={}):k.push(b(c(i[l])));var n=j.apply(this,k);return f[a]=g||n}}(),a("promise/all",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to all.");return new b(function(b,c){function d(a){return function(b){f(a,b)}}function f(a,c){h[a]=c,0===--i&&b(h)}var g,h=[],i=a.length;0===i&&b([]);for(var j=0;j<a.length;j++)g=a[j],g&&e(g.then)?g.then(d(j),c):f(j,g)})}var d=a.isArray,e=a.isFunction;b.all=c}),a("promise/asap",["exports"],function(a){"use strict";function b(){return function(){process.nextTick(e)}}function c(){var a=0,b=new i(e),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function d(){return function(){j.setTimeout(e,1)}}function e(){for(var a=0;a<k.length;a++){var b=k[a],c=b[0],d=b[1];c(d)}k=[]}function f(a,b){var c=k.push([a,b]);1===c&&g()}var g,h="undefined"!=typeof window?window:{},i=h.MutationObserver||h.WebKitMutationObserver,j="undefined"!=typeof global?global:void 0===this?window:this,k=[];g="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?b():i?c():d(),a.asap=f}),a("promise/config",["exports"],function(a){"use strict";function b(a,b){return 2!==arguments.length?c[a]:(c[a]=b,void 0)}var c={instrument:!1};a.config=c,a.configure=b}),a("promise/polyfill",["./promise","./utils","exports"],function(a,b,c){"use strict";function d(){var a;a="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var b="Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in a.Promise&&"race"in a.Promise&&function(){var b;return new a.Promise(function(a){b=a}),f(b)}();b||(a.Promise=e)}var e=a.Promise,f=b.isFunction;c.polyfill=d}),a("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(!v(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof i))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],j(a,this)}function j(a,b){function c(a){o(b,a)}function d(a){q(b,a)}try{a(c,d)}catch(e){d(e)}}function k(a,b,c,d){var e,f,g,h,i=v(c);if(i)try{e=c(d),g=!0}catch(j){h=!0,f=j}else e=d,g=!0;n(b,e)||(i&&g?o(b,e):h?q(b,f):a===D?o(b,e):a===E&&q(b,e))}function l(a,b,c,d){var e=a._subscribers,f=e.length;e[f]=b,e[f+D]=c,e[f+E]=d}function m(a,b){for(var c,d,e=a._subscribers,f=a._detail,g=0;g<e.length;g+=3)c=e[g],d=e[g+b],k(b,c,d,f);a._subscribers=null}function n(a,b){var c,d=null;try{if(a===b)throw new TypeError("A promises callback cannot return that same promise.");if(u(b)&&(d=b.then,v(d)))return d.call(b,function(d){return c?!0:(c=!0,b!==d?o(a,d):p(a,d),void 0)},function(b){return c?!0:(c=!0,q(a,b),void 0)}),!0}catch(e){return c?!0:(q(a,e),!0)}return!1}function o(a,b){a===b?p(a,b):n(a,b)||p(a,b)}function p(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(r,a))}function q(a,b){a._state===B&&(a._state=C,a._detail=b,t.async(s,a))}function r(a){m(a,a._state=D)}function s(a){m(a,a._state=E)}var t=a.config,u=(a.configure,b.objectOrFunction),v=b.isFunction,w=(b.now,c.all),x=d.race,y=e.resolve,z=f.reject,A=g.asap;t.async=A;var B=void 0,C=0,D=1,E=2;i.prototype={constructor:i,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,d=new this.constructor(function(){});if(this._state){var e=arguments;t.async(function(){k(c._state,d,e[c._state-1],c._detail)})}else l(this,d,a,b);return d},"catch":function(a){return this.then(null,a)}},i.all=w,i.race=x,i.resolve=y,i.reject=z,h.Promise=i}),a("promise/race",["./utils","exports"],function(a,b){"use strict";function c(a){var b=this;if(!d(a))throw new TypeError("You must pass an array to race.");return new b(function(b,c){for(var d,e=0;e<a.length;e++)d=a[e],d&&"function"==typeof d.then?d.then(b,c):b(d)})}var d=a.isArray;b.race=c}),a("promise/reject",["exports"],function(a){"use strict";function b(a){var b=this;return new b(function(b,c){c(a)})}a.reject=b}),a("promise/resolve",["exports"],function(a){"use strict";function b(a){if(a&&"object"==typeof a&&a.constructor===this)return a;var b=this;return new b(function(b){b(a)})}a.resolve=b}),a("promise/utils",["exports"],function(a){"use strict";function b(a){return c(a)||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){return"[object Array]"===Object.prototype.toString.call(a)}var e=Date.now||function(){return(new Date).getTime()};a.objectOrFunction=b,a.isFunction=c,a.isArray=d,a.now=e}),b("promise/polyfill").polyfill()}();


================================================
File: /assets/vendor/utopia.js
================================================
/**
 * Utopia: A JavaScript util library that assumes modern standards support and doesn't fix any browser bugs
 * @author Lea Verou (http://lea.verou.me)
 * MIT license (http://www.opensource.org/licenses/mit-license.php)
 * Last update: 2012-4-29
 */
 
function $(expr, con) {
	return typeof expr === 'string'? (con || document).querySelector(expr) : expr;
}

function $$(expr, con) {
	var elements = (con || document).querySelectorAll(expr);
	
	try {
		return Array.prototype.slice.call(elements);
	}
	catch(e) {
		var arr = Array(elements.length);
	    
	    for (var i = elements.length; i-- > 0;) {
			arr[i] = elements[i];
		}
		
		return arr;
	}
}

if (!Array.prototype.forEach) {
	Array.prototype.forEach = function(fn, scope) {
		for (var i = 0, len = this.length; i < len; ++i) {
			fn.call(scope || this, this[i], i, this);
		}
	}
}

// Make each ID a global variable
// Many browsers do this anyway (it’s in the HTML5 spec), so it ensures consistency
$$('[id]').forEach(function(element) { window[element.id] = element; });

// Array#splice but for strings
String.prototype.splice = function(i, remove, add) {
	remove = +remove || 0;
	add = add || '';
	
	return this.slice(0,i) + add + this.slice(i + remove);
};

(function(){

var _ = window.Utopia = {
	/**
	 * Returns the [[Class]] of an object in lowercase (eg. array, date, regexp, string etc)
	 * Caution: Results for DOM elements and collections aren't reliable.
	 * @param {Object} obj
	 *
	 * @return {String}
	 */
	type: function(obj) {
		if(obj === null) { return 'null'; }

		if(obj === undefined) { return 'undefined'; }

		var ret = Object.prototype.toString.call(obj).match(/^\[object\s+(.*?)\]$/)[1];

		ret = ret? ret.toLowerCase() : '';

		if(ret == 'number' && isNaN(obj)) {
			return 'NaN';
		}

		return ret;
	},

	/**
	 * Iterate over the properties of an object. Checks whether the properties actually belong to it.
	 * Can be stopped if the function explicitly returns a value that isn't null, undefined or NaN.
	 * 
	 * @param obj {Object} The object to iterate over
	 * @param func {Function} The function used in the iteration. Can accept 2 parameters: one of the
	 * 							value of the object and one for its name.
	 * @param context {Object} Context for the above function. Default is the object being iterated.
	 *
	 * @return {Object} Null or the return value of func, if it broke the loop at some point.
	 */
	each: function(obj, func, context) {
		if(!_.type(func) == 'function') {
			throw Error('The second argument in Utopia.each() must be a function');
		};

		context = context || obj;

		for (var i in obj) {
			if(obj.hasOwnProperty && obj.hasOwnProperty(i)) {
				var ret = func.call(context, obj[i], i);

				if(!!ret || ret === 0 || ret === '') {
					return ret;
				}
			}
		}

		return null;
	},

	/**
	 * Copies the properties of one object onto another.
	 * When there is a collision, the later one wins
	 *
	 * @return {Object} destination object
	 */
	merge: function(objects) {
		var ret = {};
		
		for(var i=0; i<arguments.length; i++) {
			var o = arguments[i];
			
			for(var j in o) {
				ret[j] = o[j];
			}
		}
		
		return ret;
	},
	
	/**
	 * Copies the properties of one or more objects onto the first one
	 * When there is a collision, the first object wins
	 */
	attach: function(object, objects) {
		for(var i=0; i<arguments.length; i++) {
			var o = arguments[i];
			
			for(var j in o) {
				if(!(j in object)) {
					object[j] = o[j];
				}
			}
		}
		
		return object;
	},
	
	element: {
		/**
		 * Creates a new DOM element
		 * @param options {Object} A set of key/value pairs for attributes, properties, contents, placement in the DOM etc
		 * @return The new DOM element
		 */
		create: function() {
			var options;

			if(_.type(arguments[0]) === 'string') {
				if(_.type(arguments[1]) === 'object') {
					// Utopia.element.create('div', { ... });
					options = arguments[1];
					options.tag = arguments[0];
				}
				else {
					// Utopia.element.create('div', ...);
					options = {
						tag: arguments[0]
					};
					
					// Utopia.element.create('div', [contents]);
					if(_.type(arguments[1]) === 'array') {
						options.contents = arguments[1];
					}
					// Utopia.element.create('div', 'Text contents');
					else if(_.type(arguments[1]) === 'string' || _.type(arguments[1]) === 'number') {
						options.contents = ['' + arguments[1]];
					}
				}
			}
			else {
				options = arguments[0];
			}
			
			var namespace = options.namespace || '', element;
			
			if(namespace) {
				element = document.createElementNS(namespace, options.tag);
			}
			else {
				element = document.createElement(options.tag);
			}
			
			if (options.className || options.id) {
				options.properties = options.properties || {};
				options.properties.className = options.className;
				options.properties.id = options.id;
			}
			
			// Set properties, attributes and contents
			_.element.set(element, options);
			
			// Place the element in the DOM (inside, before or after an existing element)
			// This could be a selector
			if(options.before) {
				var before = $(options.before);
				
				if (before && before.parentNode) {
					before.parentNode.insertBefore(element, before);
				}
			}
			
			if (options.after && element.parentNode === null) {
				var after = $(options.after);
				
				if (after && after.parentNode) {
					after.parentNode.insertBefore(element, after.nextSibling)
				}
			}
			
			if (options.inside && element.parentNode === null) {
				$(options.inside).appendChild(element);
			}
			
			return element;
		},
		
		set: function(element, options) {
			_.element.prop(element, options.properties || options.prop);
					
			_.element.attr(element, options.attributes || options.attr);
			
			_.element.contents(element, options.contents);
	
			return element;
		},
		
		prop: function (element, properties) {
			if (properties) {
				for (var prop in properties) {
					element[prop] = properties[prop];
				}
			}
			
			return element;
		},
		
		attr: function (element, attributes) {
			if (attributes) {
				for (attr in attributes) {
					element.setAttribute(attr, attributes[attr]);
				}
			}
			
			return element;
		},
		
		/**
		 * Sets an element’s contents
		 * Contents could be: One or multiple (as an array) of the following:
		 *			- An object literal that will be passed through Utopia.element.create
		 *			- A string or number, which will become a text node
		 *			- An existing DOM element
		 */
		contents: function (element, contents, where) {
			if(contents || contents === 0) {
				if (_.type(contents) !== 'array') {
					contents = [contents];
				}
				
				var firstChild = element.firstChild;
				
				for (var i=0; i<contents.length; i++) {
					var content = contents[i], child;
					
					switch(_.type(content)) {
						case 'string':
							if(content === '') {
								continue;
							}
							// fall through
						case 'number':
							child = document.createTextNode(content);
							break;
						case 'object':
							child = _.element.create(content);
							break;
						default:
							child = content;

					}
					
					if(child) {
						if (!where || where === 'end') {
							element.appendChild(child);
						}
						else if (where === 'start') {
							element.insertBefore(child, firstChild);
						}
					}
				}	
			}
			
			return element;
		}
	},
	
	elements: {
		// set, attr, prop, contents functions from Utopia.element, but for multiple elements
	},
	
	event: {
		/**
		 * Binds one or more events to one or more elements
		 */
		bind: function(target, event, callback, traditional) {
			if(_.type(target) === 'string' || _.type(target) === 'array') {
				var elements = _.type(target) === 'string'? $$(target) : target;
				
				elements.forEach(function(element) {
					_.event.bind(element, event, callback, traditional);
				});
			}
			else if(_.type(event) === 'string') {
				if(traditional) {
					target['on' + event] = callback;
				}
				else {
					target.addEventListener(event, callback, false);
				}
			}
			else if(_.type(event) === 'array') {
				for (var i=0; i<event.length; i++) {
					_.event.bind(target, event[i], callback, arguments[2]);
				}
			}
			else {
				for (var name in event) {
					_.event.bind(target, name, event[name], arguments[2]);
				}
			}
		},
		
		/**
		 * Fire a custom event
		 */
		fire: function(target, type, properties) {
			if(_.type(target) === 'string' || _.type(target) === 'array') {
				var elements = _.type(target) === 'string'? $$(target) : target;
				
				elements.forEach(function(element) {
					_.event.fire(element, type, properties);
				});
			}
			else if (document.createEvent) {
				var evt = document.createEvent("HTMLEvents");
		
				evt.initEvent(type, true, true );
				evt.custom = true;
		
				if(properties) {
					_.attach(evt, properties);
				}
		
				target.dispatchEvent(evt);
			}
		}
	},
	
	/**
	 * Helper for XHR requests
	 */
	xhr: function(o) {
		document.body.setAttribute('data-loading', '');
		
		var xhr = new XMLHttpRequest(),
			method = o.method || 'GET',
			data = o.data || '';
		
		xhr.open(method, o.url + (method === 'GET' && data? '?' + data : ''), true);
		
		o.headers = o.headers || {};
		
		if(method !== 'GET' && !o.headers['Content-type'] && !o.headers['Content-Type']) {
			xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
		}
		
		for (var header in o.headers) {
			xhr.setRequestHeader(header, o.headers[header]);
		}
		
		xhr.onreadystatechange = function(){
			
			if(xhr.readyState === 4) {
				document.body.removeAttribute('data-loading');
				
				o.callback(xhr);
			}
		};
		
		xhr.send(method === 'GET'? null : data);
	
		return xhr;
	},
	
	/**
	 * Lazy loads an external script
	 */
	script: function(url, callback, doc) {
		doc = doc || document;
		
		return _.element.create({
			tag: 'script',
			properties: {
				src: url,
				async: true,
				onload: callback
			},
			inside: doc.documentElement
		});
	},
	
	/**
	 * Returns the absolute X, Y offsets for an element
	 */
	offset: function(element) {
	    var left = 0, top = 0, el = element;
	    
	    if (el.parentNode) {
			do {
				left += el.offsetLeft;
				top += el.offsetTop;
			} while ((el = el.offsetParent) && el.nodeType < 9);
			
			el = element;
			
			do {
				left -= el.scrollLeft;
				top -= el.scrollTop;
			} while ((el = el.parentNode) && !/body/i.test(el.nodeName));
		}
	
	    return {
			top: top,
	    	right: innerWidth - left - element.offsetWidth,
	    	bottom: innerHeight - top - element.offsetHeight,
	    	left: left,
	    };
	}
};

['set', 'prop', 'attr', 'contents'].forEach(function(method) {
	_.elements[method] = function(elements) {
		elements = _.type(elements) === 'string'? $$(elements) : Array.prototype.slice.call(elements);
		
		var args = Array.prototype.slice.call(arguments);
		args.shift(); // Remove the elements argument
		
		elements = elements.map(function(element) {
			return _.element[method](element, args);
		});
		
		return elements;
	}
});

})();

window.$u = window.$u || Utopia;

================================================
File: /benchmark/benchmark.js
================================================
// @ts-check

const fs = require('fs');
const path = require('path');
const crypto = require('crypto');
const { argv } = require('yargs');
const fetch = require('node-fetch').default;
const Benchmark = require('benchmark');
const simpleGit = require('simple-git');
const { parseLanguageNames } = require('../tests/helper/test-case');


/**
 * @param {import("./config").Config} config
 */
async function runBenchmark(config) {
	const cases = await getCases(config);
	const candidates = await getCandidates(config);
	const maxCandidateNameLength = candidates.reduce((a, c) => Math.max(a, c.name.length), 0);

	const totalNumberOfCaseFiles = cases.reduce((a, c) => a + c.files.length, 0);
	console.log(`Found ${cases.length} cases with ${totalNumberOfCaseFiles} files in total.`);
	console.log(`Test ${candidates.length} candidates with Prism.${config.options.testFunction}`);
	const estimate = candidates.length * totalNumberOfCaseFiles * config.options.maxTime;
	console.log(`Estimated duration: ${Math.floor(estimate / 60)}m ${Math.floor(estimate % 60)}s`);

	/**
	 * @type {Summary[]}
	 *
	 * @typedef {{ best: number; worst: number, relative: number[], avgRelative?: number }} Summary
	 */
	const totalSummary = Array.from({ length: candidates.length }, () => ({ best: 0, worst: 0, relative: [] }));

	for (const $case of cases) {

		console.log();
		console.log(`\x1b[90m${'-'.repeat(60)}\x1b[0m`);
		console.log();
		if ($case.id !== $case.language) {
			console.log(`${$case.id} (${$case.language})`);
		} else {
			console.log($case.id);
		}
		console.log();

		// prepare candidates
		const warmupCode = await fs.promises.readFile($case.files[0].path, 'utf8');
		/** @type {[string, (code: string) => void][]} */
		const candidateFunctions = candidates.map(({ name, setup }) => {
			const fn = setup($case.language, $case.languages);
			fn(warmupCode); // warmup
			return [name, fn];
		});


		// bench all files
		for (const caseFile of $case.files) {
			console.log(`  ${caseFile.uri} \x1b[90m(${Math.round(caseFile.size / 1024)} kB)\x1b[0m`);

			const code = await fs.promises.readFile(caseFile.path, 'utf8');

			const results = measureCandidates(candidateFunctions.map(([name, fn]) => [name, () => fn(code)]), {
				maxTime: config.options.maxTime,
				minSamples: 1,
				delay: 0,
			});

			const min = results.reduce((a, c) => Math.min(a, c.stats.mean), Infinity);
			const max = results.reduce((a, c) => Math.max(a, c.stats.mean), -Infinity);
			const minIndex = results.findIndex(x => x.stats.mean === min);
			const maxIndex = results.findIndex(x => x.stats.mean === max);

			totalSummary[minIndex].best++;
			totalSummary[maxIndex].worst++;

			const best = getBest(results);
			const worst = getWorst(results);

			results.forEach((r, index) => {
				const name = r.name.padEnd(maxCandidateNameLength, ' ');
				const mean = (r.stats.mean * 1000).toFixed(2).padStart(8) + 'ms';
				const r_moe = (100 * r.stats.moe / r.stats.mean).toFixed(0).padStart(3) + '%';
				const smp = r.stats.sample.length.toString().padStart(4) + 'smp';

				const relativeMean = r.stats.mean / min;
				totalSummary[index].relative.push(relativeMean);
				const relative = relativeMean === 1 ? ' '.repeat(5) : (relativeMean.toFixed(2) + 'x').padStart(5);

				const color = r === best ? '\x1b[32m' : r === worst ? '\x1b[31m' : '\x1b[0m';

				console.log(`  \x1b[90m| ${color}${name} ${mean} ±${r_moe} ${smp} ${relative}\x1b[0m`);
			});
		}
	}

	// total summary
	console.log();
	console.log(`\x1b[90m${'-'.repeat(60)}\x1b[0m`);
	console.log();
	console.log('summary');
	console.log(`${' '.repeat(maxCandidateNameLength + 2)}  \x1b[90mbest  worst  relative\x1b[0m`);

	totalSummary.forEach(s => {
		s.avgRelative = s.relative.reduce((a, c) => a + c, 0) / s.relative.length;
	});
	const minAvgRelative = totalSummary.reduce((a, c) => Math.min(a, c.avgRelative), Infinity);

	totalSummary.forEach((s, i) => {
		const name = candidates[i].name.padEnd(maxCandidateNameLength, ' ');
		const best = String(s.best).padStart('best'.length);
		const worst = String(s.worst).padStart('worst'.length);
		const relative = ((s.avgRelative / minAvgRelative).toFixed(2) + 'x').padStart('relative'.length);

		console.log(`  ${name}  ${best}  ${worst}  ${relative}`);
	});
}

function getConfig() {
	const base = require('./config.js');

	const args = /** @type {Record<string, unknown>} */(argv);

	if (typeof args.testFunction === 'string') {
		// @ts-ignore
		base.options.testFunction = args.testFunction;
	}
	if (typeof args.maxTime === 'number') {
		base.options.maxTime = args.maxTime;
	}
	if (typeof args.language === 'string') {
		base.options.language = args.language;
	}
	if (typeof args.remotesOnly === 'boolean') {
		base.options.remotesOnly = args.remotesOnly;
	}

	return base;
}

/**
 * @param {import("./config").Config} config
 * @returns {Promise<Case[]>}
 *
 * @typedef Case
 * @property {string} id
 * @property {string} language The main language.
 * @property {string[]} languages All languages that have to be loaded.
 * @property {FileInfo[]} files
 */
async function getCases(config) {
	/** @type {Map<string, ReadonlySet<FileInfo>>} */
	const caseFileCache = new Map();

	/**
	 * Returns all files of the test case with the given id.
	 *
	 * @param {string} id
	 * @returns {Promise<ReadonlySet<FileInfo>>}
	 */
	async function getCaseFiles(id) {
		if (caseFileCache.has(id)) {
			return caseFileCache.get(id);
		}

		const caseEntry = config.cases[id];
		if (!caseEntry) {
			throw new Error(`Unknown case "${id}"`);
		}

		/** @type {Set<FileInfo>} */
		const files = new Set();
		caseFileCache.set(id, files);

		await Promise.all(toArray(caseEntry.files).map(async uri => {
			files.add(await getFileInfo(uri));
		}));
		for (const extendId of toArray(caseEntry.extends)) {
			(await getCaseFiles(extendId)).forEach(info => files.add(info));
		}

		return files;
	}

	/**
	 * Returns whether the case is enabled by the options provided by the user.
	 *
	 * @param {string[]} languages
	 * @returns {boolean}
	 */
	function isEnabled(languages) {
		if (config.options.language) {
			// test whether the given languages contain any of the required languages
			const required = new Set(config.options.language.split(/,/g).filter(Boolean));
			return languages.some(l => required.has(l));
		}

		return true;
	}

	/** @type {Case[]} */
	const cases = [];
	for (const id of Object.keys(config.cases)) {
		const parsed = parseLanguageNames(id);

		if (!isEnabled(parsed.languages)) {
			continue;
		}

		cases.push({
			id,
			language: parsed.mainLanguage,
			languages: parsed.languages,
			files: [...await getCaseFiles(id)].sort((a, b) => a.uri.localeCompare(b.uri)),
		});
	}

	cases.sort((a, b) => a.id.localeCompare(b.id));

	return cases;
}

/** @type {Map<string, Promise<FileInfo>>} */
const fileInfoCache = new Map();
/**
 * Returns the path and other information for the given file identifier.
 *
 * @param {string} uri
 * @returns {Promise<FileInfo>}
 *
 * @typedef {{ uri: string, path: string, size: number }} FileInfo
 */
function getFileInfo(uri) {
	let info = fileInfoCache.get(uri);
	if (info === undefined) {
		info = getFileInfoUncached(uri);
		fileInfoCache.set(uri, info);
	}
	return info;
}
/**
 * @param {string} uri
 * @returns {Promise<FileInfo>}
 */
async function getFileInfoUncached(uri) {
	const p = await getFilePath(uri);
	const stat = await fs.promises.stat(p);
	if (stat.isFile()) {
		return {
			uri,
			path: p,
			size: stat.size
		};
	} else {
		throw new Error(`Unknown file "${uri}"`);
	}
}
/**
 * Returns the local path of the given file identifier.
 *
 * @param {string} uri
 * @returns {Promise<string>}
 */
async function getFilePath(uri) {
	if (/^https:\/\//.test(uri)) {
		// it's a URL, so let's download the file (if not downloaded already)
		const downloadDir = path.join(__dirname, 'downloads');
		await fs.promises.mkdir(downloadDir, { recursive: true });

		// file path
		const hash = crypto.createHash('md5').update(uri).digest('hex');
		const localPath = path.resolve(downloadDir, hash + '-' + /[-\w\.]*$/.exec(uri)[0]);

		if (!fs.existsSync(localPath)) {
			// download file
			console.log(`Downloading ${uri}...`);
			await fs.promises.writeFile(localPath, await fetch(uri).then(r => r.text()), 'utf8');
		}

		return localPath;
	}

	// assume that it's a local file
	return path.resolve(__dirname, uri);
}

/**
 * @param {Iterable<[string, () => void]>} candidates
 * @param {import("benchmark").Options} [options]
 * @returns {Result[]}
 *
 * @typedef {{ name: string, stats: import("benchmark").Stats }} Result
 */
function measureCandidates(candidates, options) {
	const suite = new Benchmark.Suite('temp name');

	for (const [name, fn] of candidates) {
		suite.add(name, fn, options);
	}

	/** @type {Result[]} */
	const results = [];

	suite.on('cycle', event => {
		results.push({
			name: event.target.name,
			stats: event.target.stats
		});
	}).run();

	return results;
}

/**
 * @param {Result[]} results
 * @returns {Result | null}
 */
function getBest(results) {
	if (results.length >= 2) {
		const sorted = [...results].sort((a, b) => a.stats.mean - b.stats.mean);
		const best = sorted[0].stats;
		const secondBest = sorted[1].stats;

		// basically, it's only the best if the two means plus their moe are disjoint
		if (best.mean + best.moe + secondBest.moe < secondBest.mean) {
			return sorted[0];
		}
	}

	return null;
}
/**
 * @param {Result[]} results
 * @returns {Result | null}
 */
function getWorst(results) {
	if (results.length >= 2) {
		const sorted = [...results].sort((a, b) => b.stats.mean - a.stats.mean);
		const worst = sorted[0].stats;
		const secondWorst = sorted[1].stats;

		// basically, it's only the best if the two means plus their moe are disjoint
		// (moe = margin of error; https://benchmarkjs.com/docs#stats_moe)
		if (worst.mean - worst.moe - secondWorst.moe > secondWorst.mean) {
			return sorted[0];
		}
	}

	return null;
}

/**
 * Create a new test function from the given Prism instance.
 *
 * @param {any} Prism
 * @param {string} mainLanguage
 * @param {string} testFunction
 * @returns {(code: string) => void}
 */
function createTestFunction(Prism, mainLanguage, testFunction) {
	if (testFunction === 'tokenize') {
		return (code) => {
			Prism.tokenize(code, Prism.languages[mainLanguage]);
		};
	} else if (testFunction === 'highlight') {
		return (code) => {
			Prism.highlight(code, Prism.languages[mainLanguage], mainLanguage);
		};
	} else {
		throw new Error(`Unknown test function "${testFunction}"`);
	}

}

/**
 * @param {import("./config").Config} config
 * @returns {Promise<Candidate[]>}
 *
 * @typedef Candidate
 * @property {string} name
 * @property {(mainLanguage: string, languages: string[]) => (code: string) => void} setup
 */
async function getCandidates(config) {
	/** @type {Candidate[]} */
	const candidates = [];

	// local
	if (!config.options.remotesOnly) {
		const localPrismLoader = require('../tests/helper/prism-loader');
		candidates.push({
			name: 'local',
			setup(mainLanguage, languages) {
				const Prism = localPrismLoader.createInstance(languages);
				return createTestFunction(Prism, mainLanguage, config.options.testFunction);
			}
		});
	}

	// remotes

	// prepare base directory
	const remoteBaseDir = path.join(__dirname, 'remotes');
	await fs.promises.mkdir(remoteBaseDir, { recursive: true });

	const baseGit = simpleGit.gitP(remoteBaseDir);

	for (const remote of config.remotes) {
		const user = /[^/]+(?=\/prism.git)/.exec(remote.repo);
		const branch = remote.branch || 'master';
		const remoteName = `${user}@${branch}`;
		const remoteDir = path.join(remoteBaseDir, `${user}@${branch}`);

		let remoteGit;
		if (!fs.existsSync(remoteDir)) {
			console.log(`Cloning ${remote.repo}`);
			await baseGit.clone(remote.repo, remoteName);
			remoteGit = simpleGit.gitP(remoteDir);
		} else {
			remoteGit = simpleGit.gitP(remoteDir);
			await remoteGit.fetch('origin', branch); // get latest version of branch
		}
		await remoteGit.checkout(branch); // switch to branch

		const remotePrismLoader = require(path.join(remoteDir, 'tests/helper/prism-loader'));
		candidates.push({
			name: remoteName,
			setup(mainLanguage, languages) {
				const Prism = remotePrismLoader.createInstance(languages);
				return createTestFunction(Prism, mainLanguage, config.options.testFunction);
			}
		});
	}

	return candidates;
}

/**
 * A utility function that converts the given optional array-like value into an array.
 *
 * @param {T[] | T | undefined | null} value
 * @returns {readonly T[]}
 * @template T
 */
function toArray(value) {
	if (Array.isArray(value)) {
		return value;
	} else if (value != undefined) {
		return [value];
	} else {
		return [];
	}
}


runBenchmark(getConfig());


================================================
File: /benchmark/config.js
================================================
/**
 * @type {Config}
 *
 * @typedef Config
 * @property {ConfigOptions} options
 * @property {ConfigRemote[]} remotes
 * @property {Object<string, ConfigCase>} cases
 *
 * @typedef ConfigOptions
 * @property {'tokenize' | 'highlight'} testFunction
 * @property {number} maxTime in seconds
 * @property {string} [language] An optional comma separated list of languages than, if defined, will be the only
 * languages for which the benchmark will be run.
 * @property {boolean} [remotesOnly=false] Whether the benchmark will only run with remotes. If `true`, the local
 * project will be ignored
 *
 * @typedef ConfigRemote
 * @property {string} repo
 * @property {string} [branch='master']
 *
 * @typedef ConfigCase
 * @property {string | string[]} [extends]
 * @property {string | string[]} [files]
 */
const config = {
	options: {
		testFunction: 'tokenize',
		maxTime: 3,
		remotesOnly: false
	},

	remotes: [
		/**
		 * This will checkout a specific branch from a given repo.
		 *
		 * If no branch is specified, the master branch will be used.
		 */

		{
			repo: 'https://github.com/PrismJS/prism.git'
		},
		/*{
			repo: 'https://github.com/<Your user name>/prism.git',
			branch: 'some-brach-you-want-to-test'
		},*/
	],

	cases: {
		'css': {
			files: [
				'../assets/style.css'
			]
		},
		'css!+css-extras': { extends: 'css' },
		'javascript': {
			extends: 'json',
			files: [
				'https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/prism.js',
				'https://cdnjs.cloudflare.com/ajax/libs/prism/1.20.0/prism.min.js',
				'https://code.jquery.com/jquery-3.4.1.js',
				'https://code.jquery.com/jquery-3.4.1.min.js',
				'../assets/vendor/utopia.js'
			]
		},
		'json': {
			files: [
				'../components.json',
				'../package-lock.json'
			]
		},
		'markup': {
			files: [
				'../download.html',
				'../index.html',
				'https://github.com/PrismJS/prism', // the PrismJS/prism GitHub page
			]
		},
		'markup!+css+javascript': { extends: 'markup' },
		'c': {
			files: [
				'https://raw.githubusercontent.com/git/git/master/remote.h',
				'https://raw.githubusercontent.com/git/git/master/remote.c',
				'https://raw.githubusercontent.com/git/git/master/mergesort.c',
				'https://raw.githubusercontent.com/git/git/master/mergesort.h'
			]
		},
		'ruby': {
			files: [
				'https://raw.githubusercontent.com/rails/rails/master/actionview/lib/action_view/base.rb',
				'https://raw.githubusercontent.com/rails/rails/master/actionview/lib/action_view/layouts.rb',
				'https://raw.githubusercontent.com/rails/rails/master/actionview/lib/action_view/template.rb',
			]
		},
		'rust': {
			files: [
				'https://raw.githubusercontent.com/rust-lang/regex/master/src/utf8.rs',
				'https://raw.githubusercontent.com/rust-lang/regex/master/src/compile.rs',
				'https://raw.githubusercontent.com/rust-lang/regex/master/src/lib.rs'
			]
		}
	}
};

module.exports = config;


================================================
File: /components/index.js
================================================
const components = require('../components.js');
const getLoader = require('../dependencies');


/**
 * The set of all languages which have been loaded using the below function.
 *
 * @type {Set<string>}
 */
const loadedLanguages = new Set();

/**
 * Loads the given languages and adds them to the current Prism instance.
 *
 * If no languages are provided, __all__ Prism languages will be loaded.
 *
 * @param {string|string[]} [languages]
 * @returns {void}
 */
function loadLanguages(languages) {
	if (languages === undefined) {
		languages = Object.keys(components.languages).filter(l => l != 'meta');
	} else if (!Array.isArray(languages)) {
		languages = [languages];
	}

	// the user might have loaded languages via some other way or used `prism.js` which already includes some
	// we don't need to validate the ids because `getLoader` will ignore invalid ones
	const loaded = [...loadedLanguages, ...Object.keys(Prism.languages)];

	getLoader(components, languages, loaded).load(lang => {
		if (!(lang in components.languages)) {
			if (!loadLanguages.silent) {
				console.warn('Language does not exist: ' + lang);
			}
			return;
		}

		const pathToLanguage = './prism-' + lang;

		// remove from require cache and from Prism
		delete require.cache[require.resolve(pathToLanguage)];
		delete Prism.languages[lang];

		require(pathToLanguage);

		loadedLanguages.add(lang);
	});
}

/**
 * Set this to `true` to prevent all warning messages `loadLanguages` logs.
 */
loadLanguages.silent = false;

module.exports = loadLanguages;


================================================
File: /components/prism-abap.js
================================================
Prism.languages.abap = {
	'comment': /^\*.*/m,
	'string': /(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,
	'string-template': {
		pattern: /([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,
		lookbehind: true,
		alias: 'string'
	},
	/* End Of Line comments should not interfere with strings when the
	quote character occurs within them. We assume a string being highlighted
	inside an EOL comment is more acceptable than the opposite.
	*/
	'eol-comment': {
		pattern: /(^|\s)".*/m,
		lookbehind: true,
		alias: 'comment'
	},
	'keyword': {
		pattern: /(\s|\.|^)(?:\*-INPUT|\?TO|ABAP-SOURCE|ABBREVIATED|ABS|ABSTRACT|ACCEPT|ACCEPTING|ACCESSPOLICY|ACCORDING|ACOS|ACTIVATION|ACTUAL|ADD|ADD-CORRESPONDING|ADJACENT|AFTER|ALIAS|ALIASES|ALIGN|ALL|ALLOCATE|ALPHA|ANALYSIS|ANALYZER|AND|ANY|APPEND|APPENDAGE|APPENDING|APPLICATION|ARCHIVE|AREA|ARITHMETIC|AS|ASCENDING|ASIN|ASPECT|ASSERT|ASSIGN|ASSIGNED|ASSIGNING|ASSOCIATION|ASYNCHRONOUS|AT|ATAN|ATTRIBUTES|AUTHORITY|AUTHORITY-CHECK|AVG|BACK|BACKGROUND|BACKUP|BACKWARD|BADI|BASE|BEFORE|BEGIN|BETWEEN|BIG|BINARY|BINDING|BIT|BIT-AND|BIT-NOT|BIT-OR|BIT-XOR|BLACK|BLANK|BLANKS|BLOB|BLOCK|BLOCKS|BLUE|BOUND|BOUNDARIES|BOUNDS|BOXED|BREAK-POINT|BT|BUFFER|BY|BYPASSING|BYTE|BYTE-CA|BYTE-CN|BYTE-CO|BYTE-CS|BYTE-NA|BYTE-NS|BYTE-ORDER|C|CA|CALL|CALLING|CASE|CAST|CASTING|CATCH|CEIL|CENTER|CENTERED|CHAIN|CHAIN-INPUT|CHAIN-REQUEST|CHANGE|CHANGING|CHANNELS|CHAR-TO-HEX|CHARACTER|CHARLEN|CHECK|CHECKBOX|CIRCULAR|CI_|CLASS|CLASS-CODING|CLASS-DATA|CLASS-EVENTS|CLASS-METHODS|CLASS-POOL|CLEANUP|CLEAR|CLIENT|CLOB|CLOCK|CLOSE|CN|CNT|CO|COALESCE|CODE|CODING|COLLECT|COLOR|COLUMN|COLUMNS|COL_BACKGROUND|COL_GROUP|COL_HEADING|COL_KEY|COL_NEGATIVE|COL_NORMAL|COL_POSITIVE|COL_TOTAL|COMMENT|COMMENTS|COMMIT|COMMON|COMMUNICATION|COMPARING|COMPONENT|COMPONENTS|COMPRESSION|COMPUTE|CONCAT|CONCATENATE|COND|CONDENSE|CONDITION|CONNECT|CONNECTION|CONSTANTS|CONTEXT|CONTEXTS|CONTINUE|CONTROL|CONTROLS|CONV|CONVERSION|CONVERT|COPIES|COPY|CORRESPONDING|COS|COSH|COUNT|COUNTRY|COVER|CP|CPI|CREATE|CREATING|CRITICAL|CS|CURRENCY|CURRENCY_CONVERSION|CURRENT|CURSOR|CURSOR-SELECTION|CUSTOMER|CUSTOMER-FUNCTION|DANGEROUS|DATA|DATABASE|DATAINFO|DATASET|DATE|DAYLIGHT|DBMAXLEN|DD\/MM\/YY|DD\/MM\/YYYY|DDMMYY|DEALLOCATE|DECIMALS|DECIMAL_SHIFT|DECLARATIONS|DEEP|DEFAULT|DEFERRED|DEFINE|DEFINING|DEFINITION|DELETE|DELETING|DEMAND|DEPARTMENT|DESCENDING|DESCRIBE|DESTINATION|DETAIL|DIALOG|DIRECTORY|DISCONNECT|DISPLAY|DISPLAY-MODE|DISTANCE|DISTINCT|DIV|DIVIDE|DIVIDE-CORRESPONDING|DIVISION|DO|DUMMY|DUPLICATE|DUPLICATES|DURATION|DURING|DYNAMIC|DYNPRO|E|EACH|EDIT|EDITOR-CALL|ELSE|ELSEIF|EMPTY|ENABLED|ENABLING|ENCODING|END|END-ENHANCEMENT-SECTION|END-LINES|END-OF-DEFINITION|END-OF-FILE|END-OF-PAGE|END-OF-SELECTION|ENDAT|ENDCASE|ENDCATCH|ENDCHAIN|ENDCLASS|ENDDO|ENDENHANCEMENT|ENDEXEC|ENDFOR|ENDFORM|ENDFUNCTION|ENDIAN|ENDIF|ENDING|ENDINTERFACE|ENDLOOP|ENDMETHOD|ENDMODULE|ENDON|ENDPROVIDE|ENDSELECT|ENDTRY|ENDWHILE|ENGINEERING|ENHANCEMENT|ENHANCEMENT-POINT|ENHANCEMENT-SECTION|ENHANCEMENTS|ENTRIES|ENTRY|ENVIRONMENT|EQ|EQUAL|EQUIV|ERRORMESSAGE|ERRORS|ESCAPE|ESCAPING|EVENT|EVENTS|EXACT|EXCEPT|EXCEPTION|EXCEPTION-TABLE|EXCEPTIONS|EXCLUDE|EXCLUDING|EXEC|EXECUTE|EXISTS|EXIT|EXIT-COMMAND|EXP|EXPAND|EXPANDING|EXPIRATION|EXPLICIT|EXPONENT|EXPORT|EXPORTING|EXTEND|EXTENDED|EXTENSION|EXTRACT|FAIL|FETCH|FIELD|FIELD-GROUPS|FIELD-SYMBOL|FIELD-SYMBOLS|FIELDS|FILE|FILTER|FILTER-TABLE|FILTERS|FINAL|FIND|FIRST|FIRST-LINE|FIXED-POINT|FKEQ|FKGE|FLOOR|FLUSH|FONT|FOR|FORM|FORMAT|FORWARD|FOUND|FRAC|FRAME|FRAMES|FREE|FRIENDS|FROM|FUNCTION|FUNCTION-POOL|FUNCTIONALITY|FURTHER|GAPS|GE|GENERATE|GET|GIVING|GKEQ|GKGE|GLOBAL|GRANT|GREATER|GREEN|GROUP|GROUPS|GT|HANDLE|HANDLER|HARMLESS|HASHED|HAVING|HDB|HEAD-LINES|HEADER|HEADERS|HEADING|HELP-ID|HELP-REQUEST|HIDE|HIGH|HINT|HOLD|HOTSPOT|I|ICON|ID|IDENTIFICATION|IDENTIFIER|IDS|IF|IGNORE|IGNORING|IMMEDIATELY|IMPLEMENTATION|IMPLEMENTATIONS|IMPLEMENTED|IMPLICIT|IMPORT|IMPORTING|IN|INACTIVE|INCL|INCLUDE|INCLUDES|INCLUDING|INCREMENT|INDEX|INDEX-LINE|INFOTYPES|INHERITING|INIT|INITIAL|INITIALIZATION|INNER|INOUT|INPUT|INSERT|INSTANCES|INTENSIFIED|INTERFACE|INTERFACE-POOL|INTERFACES|INTERNAL|INTERVALS|INTO|INVERSE|INVERTED-DATE|IS|ISO|ITERATOR|ITNO|JOB|JOIN|KEEP|KEEPING|KERNEL|KEY|KEYS|KEYWORDS|KIND|LANGUAGE|LAST|LATE|LAYOUT|LE|LEADING|LEAVE|LEFT|LEFT-JUSTIFIED|LEFTPLUS|LEFTSPACE|LEGACY|LENGTH|LESS|LET|LEVEL|LEVELS|LIKE|LINE|LINE-COUNT|LINE-SELECTION|LINE-SIZE|LINEFEED|LINES|LIST|LIST-PROCESSING|LISTBOX|LITTLE|LLANG|LOAD|LOAD-OF-PROGRAM|LOB|LOCAL|LOCALE|LOCATOR|LOG|LOG-POINT|LOG10|LOGFILE|LOGICAL|LONG|LOOP|LOW|LOWER|LPAD|LPI|LT|M|MAIL|MAIN|MAJOR-ID|MAPPING|MARGIN|MARK|MASK|MATCH|MATCHCODE|MAX|MAXIMUM|MEDIUM|MEMBERS|MEMORY|MESH|MESSAGE|MESSAGE-ID|MESSAGES|MESSAGING|METHOD|METHODS|MIN|MINIMUM|MINOR-ID|MM\/DD\/YY|MM\/DD\/YYYY|MMDDYY|MOD|MODE|MODIF|MODIFIER|MODIFY|MODULE|MOVE|MOVE-CORRESPONDING|MULTIPLY|MULTIPLY-CORRESPONDING|NA|NAME|NAMETAB|NATIVE|NB|NE|NESTED|NESTING|NEW|NEW-LINE|NEW-PAGE|NEW-SECTION|NEXT|NO|NO-DISPLAY|NO-EXTENSION|NO-GAP|NO-GAPS|NO-GROUPING|NO-HEADING|NO-SCROLLING|NO-SIGN|NO-TITLE|NO-TOPOFPAGE|NO-ZERO|NODE|NODES|NON-UNICODE|NON-UNIQUE|NOT|NP|NS|NULL|NUMBER|NUMOFCHAR|O|OBJECT|OBJECTS|OBLIGATORY|OCCURRENCE|OCCURRENCES|OCCURS|OF|OFF|OFFSET|OLE|ON|ONLY|OPEN|OPTION|OPTIONAL|OPTIONS|OR|ORDER|OTHER|OTHERS|OUT|OUTER|OUTPUT|OUTPUT-LENGTH|OVERFLOW|OVERLAY|PACK|PACKAGE|PAD|PADDING|PAGE|PAGES|PARAMETER|PARAMETER-TABLE|PARAMETERS|PART|PARTIALLY|PATTERN|PERCENTAGE|PERFORM|PERFORMING|PERSON|PF|PF-STATUS|PINK|PLACES|POOL|POSITION|POS_HIGH|POS_LOW|PRAGMAS|PRECOMPILED|PREFERRED|PRESERVING|PRIMARY|PRINT|PRINT-CONTROL|PRIORITY|PRIVATE|PROCEDURE|PROCESS|PROGRAM|PROPERTY|PROTECTED|PROVIDE|PUBLIC|PUSHBUTTON|PUT|QUEUE-ONLY|QUICKINFO|RADIOBUTTON|RAISE|RAISING|RANGE|RANGES|RAW|READ|READ-ONLY|READER|RECEIVE|RECEIVED|RECEIVER|RECEIVING|RED|REDEFINITION|REDUCE|REDUCED|REF|REFERENCE|REFRESH|REGEX|REJECT|REMOTE|RENAMING|REPLACE|REPLACEMENT|REPLACING|REPORT|REQUEST|REQUESTED|RESERVE|RESET|RESOLUTION|RESPECTING|RESPONSIBLE|RESULT|RESULTS|RESUMABLE|RESUME|RETRY|RETURN|RETURNCODE|RETURNING|RIGHT|RIGHT-JUSTIFIED|RIGHTPLUS|RIGHTSPACE|RISK|RMC_COMMUNICATION_FAILURE|RMC_INVALID_STATUS|RMC_SYSTEM_FAILURE|ROLE|ROLLBACK|ROUND|ROWS|RTTI|RUN|SAP|SAP-SPOOL|SAVING|SCALE_PRESERVING|SCALE_PRESERVING_SCIENTIFIC|SCAN|SCIENTIFIC|SCIENTIFIC_WITH_LEADING_ZERO|SCREEN|SCROLL|SCROLL-BOUNDARY|SCROLLING|SEARCH|SECONDARY|SECONDS|SECTION|SELECT|SELECT-OPTIONS|SELECTION|SELECTION-SCREEN|SELECTION-SET|SELECTION-SETS|SELECTION-TABLE|SELECTIONS|SELECTOR|SEND|SEPARATE|SEPARATED|SET|SHARED|SHIFT|SHORT|SHORTDUMP-ID|SIGN|SIGN_AS_POSTFIX|SIMPLE|SIN|SINGLE|SINH|SIZE|SKIP|SKIPPING|SMART|SOME|SORT|SORTABLE|SORTED|SOURCE|SPACE|SPECIFIED|SPLIT|SPOOL|SPOTS|SQL|SQLSCRIPT|SQRT|STABLE|STAMP|STANDARD|START-OF-SELECTION|STARTING|STATE|STATEMENT|STATEMENTS|STATIC|STATICS|STATUSINFO|STEP-LOOP|STOP|STRLEN|STRUCTURE|STRUCTURES|STYLE|SUBKEY|SUBMATCHES|SUBMIT|SUBROUTINE|SUBSCREEN|SUBSTRING|SUBTRACT|SUBTRACT-CORRESPONDING|SUFFIX|SUM|SUMMARY|SUMMING|SUPPLIED|SUPPLY|SUPPRESS|SWITCH|SWITCHSTATES|SYMBOL|SYNCPOINTS|SYNTAX|SYNTAX-CHECK|SYNTAX-TRACE|SYSTEM-CALL|SYSTEM-EXCEPTIONS|SYSTEM-EXIT|TAB|TABBED|TABLE|TABLES|TABLEVIEW|TABSTRIP|TAN|TANH|TARGET|TASK|TASKS|TEST|TESTING|TEXT|TEXTPOOL|THEN|THROW|TIME|TIMES|TIMESTAMP|TIMEZONE|TITLE|TITLE-LINES|TITLEBAR|TO|TOKENIZATION|TOKENS|TOP-LINES|TOP-OF-PAGE|TRACE-FILE|TRACE-TABLE|TRAILING|TRANSACTION|TRANSFER|TRANSFORMATION|TRANSLATE|TRANSPORTING|TRMAC|TRUNC|TRUNCATE|TRUNCATION|TRY|TYPE|TYPE-POOL|TYPE-POOLS|TYPES|ULINE|UNASSIGN|UNDER|UNICODE|UNION|UNIQUE|UNIT|UNIT_CONVERSION|UNIX|UNPACK|UNTIL|UNWIND|UP|UPDATE|UPPER|USER|USER-COMMAND|USING|UTF-8|VALID|VALUE|VALUE-REQUEST|VALUES|VARY|VARYING|VERIFICATION-MESSAGE|VERSION|VIA|VIEW|VISIBLE|WAIT|WARNING|WHEN|WHENEVER|WHERE|WHILE|WIDTH|WINDOW|WINDOWS|WITH|WITH-HEADING|WITH-TITLE|WITHOUT|WORD|WORK|WRITE|WRITER|X|XML|XOR|XSD|XSTRLEN|YELLOW|YES|YYMMDD|Z|ZERO|ZONE)(?![\w-])/i,
		lookbehind: true
	},
	/* Numbers can be only integers. Decimal or Hex appear only as strings */
	'number': /\b\d+\b/,
	/* Operators must always be surrounded by whitespace, they cannot be put
	adjacent to operands.
	*/
	'operator': {
		pattern: /(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,
		lookbehind: true
	},
	'string-operator': {
		pattern: /(\s)&&?(?=\s)/,
		lookbehind: true,
		/* The official editor highlights */
		alias: 'keyword'
	},
	'token-operator': [{
		/* Special operators used to access structure components, class methods/attributes, etc. */
		pattern: /(\w)(?:->?|=>|[~|{}])(?=\w)/,
		lookbehind: true,
		alias: 'punctuation'
	}, {
		/* Special tokens used do delimit string templates */
		pattern: /[|{}]/,
		alias: 'punctuation'
	}],
	'punctuation': /[,.:()]/
};


================================================
File: /components/prism-abnf.js
================================================
(function (Prism) {

	var coreRules = '(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)';

	Prism.languages.abnf = {
		'comment': /;.*/,
		'string': {
			pattern: /(?:%[is])?"[^"\n\r]*"/,
			greedy: true,
			inside: {
				'punctuation': /^%[is]/
			}
		},
		'range': {
			pattern: /%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,
			alias: 'number'
		},
		'terminal': {
			pattern: /%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,
			alias: 'number'
		},
		'repetition': {
			pattern: /(^|[^\w-])(?:\d*\*\d*|\d+)/,
			lookbehind: true,
			alias: 'operator'
		},
		'definition': {
			pattern: /(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,
			lookbehind: true,
			alias: 'keyword',
			inside: {
				'punctuation': /<|>/
			}
		},
		'core-rule': {
			pattern: RegExp('(?:(^|[^<\\w-])' + coreRules + '|<' + coreRules + '>)(?![\\w-])', 'i'),
			lookbehind: true,
			alias: ['rule', 'constant'],
			inside: {
				'punctuation': /<|>/
			}
		},
		'rule': {
			pattern: /(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,
			lookbehind: true,
			inside: {
				'punctuation': /<|>/
			}
		},
		'operator': /=\/?|\//,
		'punctuation': /[()\[\]]/
	};

}(Prism));


================================================
File: /components/prism-actionscript.js
================================================
Prism.languages.actionscript = Prism.languages.extend('javascript', {
	'keyword': /\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,
	'operator': /\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/
});
Prism.languages.actionscript['class-name'].alias = 'function';

// doesn't work with AS because AS is too complex
delete Prism.languages.actionscript['parameter'];
delete Prism.languages.actionscript['literal-property'];

if (Prism.languages.markup) {
	Prism.languages.insertBefore('actionscript', 'string', {
		'xml': {
			pattern: /(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,
			lookbehind: true,
			inside: Prism.languages.markup
		}
	});
}


================================================
File: /components/prism-ada.js
================================================
Prism.languages.ada = {
	'comment': /--.*/,
	'string': /"(?:""|[^"\r\f\n])*"/,
	'number': [
		{
			pattern: /\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i
		},
		{
			pattern: /\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i
		}
	],
	'attribute': {
		pattern: /\b'\w+/,
		alias: 'attr-name'
	},
	'keyword': /\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|inte